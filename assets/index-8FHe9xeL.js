(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();function Nh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xf={exports:{}},ss={},Zf={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function US(){if(gy)return ye;gy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function b(A,F,ge){this.props=A,this.context=F,this.refs=S,this.updater=ge||x}b.prototype.isReactComponent={},b.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},b.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=b.prototype;function N(A,F,ge){this.props=A,this.context=F,this.refs=S,this.updater=ge||x}var P=N.prototype=new E;P.constructor=N,k(P,b.prototype),P.isPureReactComponent=!0;var j=Array.isArray,z=Object.prototype.hasOwnProperty,J={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function H(A,F,ge){var xe,Se={},be=null,Re=null;if(F!=null)for(xe in F.ref!==void 0&&(Re=F.ref),F.key!==void 0&&(be=""+F.key),F)z.call(F,xe)&&!K.hasOwnProperty(xe)&&(Se[xe]=F[xe]);var Te=arguments.length-2;if(Te===1)Se.children=ge;else if(1<Te){for(var je=Array(Te),Kt=0;Kt<Te;Kt++)je[Kt]=arguments[Kt+2];Se.children=je}if(A&&A.defaultProps)for(xe in Te=A.defaultProps,Te)Se[xe]===void 0&&(Se[xe]=Te[xe]);return{$$typeof:n,type:A,key:be,ref:Re,props:Se,_owner:J.current}}function re(A,F){return{$$typeof:n,type:A.type,key:F,ref:A.ref,props:A.props,_owner:A._owner}}function de(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function Ae(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ge){return F[ge]})}var He=/\/+/g;function Je(A,F){return typeof A=="object"&&A!==null&&A.key!=null?Ae(""+A.key):F.toString(36)}function ht(A,F,ge,xe,Se){var be=typeof A;(be==="undefined"||be==="boolean")&&(A=null);var Re=!1;if(A===null)Re=!0;else switch(be){case"string":case"number":Re=!0;break;case"object":switch(A.$$typeof){case n:case e:Re=!0}}if(Re)return Re=A,Se=Se(Re),A=xe===""?"."+Je(Re,0):xe,j(Se)?(ge="",A!=null&&(ge=A.replace(He,"$&/")+"/"),ht(Se,F,ge,"",function(Kt){return Kt})):Se!=null&&(de(Se)&&(Se=re(Se,ge+(!Se.key||Re&&Re.key===Se.key?"":(""+Se.key).replace(He,"$&/")+"/")+A)),F.push(Se)),1;if(Re=0,xe=xe===""?".":xe+":",j(A))for(var Te=0;Te<A.length;Te++){be=A[Te];var je=xe+Je(be,Te);Re+=ht(be,F,ge,je,Se)}else if(je=v(A),typeof je=="function")for(A=je.call(A),Te=0;!(be=A.next()).done;)be=be.value,je=xe+Je(be,Te++),Re+=ht(be,F,ge,je,Se);else if(be==="object")throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Re}function it(A,F,ge){if(A==null)return A;var xe=[],Se=0;return ht(A,xe,"","",function(be){return F.call(ge,be,Se++)}),xe}function Ie(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(ge){(A._status===0||A._status===-1)&&(A._status=1,A._result=ge)},function(ge){(A._status===0||A._status===-1)&&(A._status=2,A._result=ge)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var we={current:null},Q={transition:null},ue={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Q,ReactCurrentOwner:J};function Z(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:it,forEach:function(A,F,ge){it(A,function(){F.apply(this,arguments)},ge)},count:function(A){var F=0;return it(A,function(){F++}),F},toArray:function(A){return it(A,function(F){return F})||[]},only:function(A){if(!de(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ye.Component=b,ye.Fragment=t,ye.Profiler=o,ye.PureComponent=N,ye.StrictMode=r,ye.Suspense=f,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,ye.act=Z,ye.cloneElement=function(A,F,ge){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var xe=k({},A.props),Se=A.key,be=A.ref,Re=A._owner;if(F!=null){if(F.ref!==void 0&&(be=F.ref,Re=J.current),F.key!==void 0&&(Se=""+F.key),A.type&&A.type.defaultProps)var Te=A.type.defaultProps;for(je in F)z.call(F,je)&&!K.hasOwnProperty(je)&&(xe[je]=F[je]===void 0&&Te!==void 0?Te[je]:F[je])}var je=arguments.length-2;if(je===1)xe.children=ge;else if(1<je){Te=Array(je);for(var Kt=0;Kt<je;Kt++)Te[Kt]=arguments[Kt+2];xe.children=Te}return{$$typeof:n,type:A.type,key:Se,ref:be,props:xe,_owner:Re}},ye.createContext=function(A){return A={$$typeof:a,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:s,_context:A},A.Consumer=A},ye.createElement=H,ye.createFactory=function(A){var F=H.bind(null,A);return F.type=A,F},ye.createRef=function(){return{current:null}},ye.forwardRef=function(A){return{$$typeof:u,render:A}},ye.isValidElement=de,ye.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:Ie}},ye.memo=function(A,F){return{$$typeof:d,type:A,compare:F===void 0?null:F}},ye.startTransition=function(A){var F=Q.transition;Q.transition={};try{A()}finally{Q.transition=F}},ye.unstable_act=Z,ye.useCallback=function(A,F){return we.current.useCallback(A,F)},ye.useContext=function(A){return we.current.useContext(A)},ye.useDebugValue=function(){},ye.useDeferredValue=function(A){return we.current.useDeferredValue(A)},ye.useEffect=function(A,F){return we.current.useEffect(A,F)},ye.useId=function(){return we.current.useId()},ye.useImperativeHandle=function(A,F,ge){return we.current.useImperativeHandle(A,F,ge)},ye.useInsertionEffect=function(A,F){return we.current.useInsertionEffect(A,F)},ye.useLayoutEffect=function(A,F){return we.current.useLayoutEffect(A,F)},ye.useMemo=function(A,F){return we.current.useMemo(A,F)},ye.useReducer=function(A,F,ge){return we.current.useReducer(A,F,ge)},ye.useRef=function(A){return we.current.useRef(A)},ye.useState=function(A){return we.current.useState(A)},ye.useSyncExternalStore=function(A,F,ge){return we.current.useSyncExternalStore(A,F,ge)},ye.useTransition=function(){return we.current.useTransition()},ye.version="18.3.1",ye}var yy;function $s(){return yy||(yy=1,Zf.exports=US()),Zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function HS(){if(vy)return ss;vy=1;var n=$s(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,f,d){var p,g={},v=null,x=null;d!==void 0&&(v=""+d),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(x=f.ref);for(p in f)r.call(f,p)&&!s.hasOwnProperty(p)&&(g[p]=f[p]);if(u&&u.defaultProps)for(p in f=u.defaultProps,f)g[p]===void 0&&(g[p]=f[p]);return{$$typeof:e,type:u,key:v,ref:x,props:g,_owner:o.current}}return ss.Fragment=t,ss.jsx=a,ss.jsxs=a,ss}var xy;function VS(){return xy||(xy=1,Xf.exports=HS()),Xf.exports}var C=VS(),O=$s();const Ce=Nh(O);var da={},ed={exports:{}},Ft={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function WS(){return ky||(ky=1,function(n){function e(Q,ue){var Z=Q.length;Q.push(ue);e:for(;0<Z;){var A=Z-1>>>1,F=Q[A];if(0<o(F,ue))Q[A]=ue,Q[Z]=F,Z=A;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ue=Q[0],Z=Q.pop();if(Z!==ue){Q[0]=Z;e:for(var A=0,F=Q.length,ge=F>>>1;A<ge;){var xe=2*(A+1)-1,Se=Q[xe],be=xe+1,Re=Q[be];if(0>o(Se,Z))be<F&&0>o(Re,Se)?(Q[A]=Re,Q[be]=Z,A=be):(Q[A]=Se,Q[xe]=Z,A=xe);else if(be<F&&0>o(Re,Z))Q[A]=Re,Q[be]=Z,A=be;else break e}}return ue}function o(Q,ue){var Z=Q.sortIndex-ue.sortIndex;return Z!==0?Z:Q.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var f=[],d=[],p=1,g=null,v=3,x=!1,k=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Q){for(var ue=t(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=Q)r(d),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(d)}}function j(Q){if(S=!1,P(Q),!k)if(t(f)!==null)k=!0,Ie(z);else{var ue=t(d);ue!==null&&we(j,ue.startTime-Q)}}function z(Q,ue){k=!1,S&&(S=!1,E(H),H=-1),x=!0;var Z=v;try{for(P(ue),g=t(f);g!==null&&(!(g.expirationTime>ue)||Q&&!Ae());){var A=g.callback;if(typeof A=="function"){g.callback=null,v=g.priorityLevel;var F=A(g.expirationTime<=ue);ue=n.unstable_now(),typeof F=="function"?g.callback=F:g===t(f)&&r(f),P(ue)}else r(f);g=t(f)}if(g!==null)var ge=!0;else{var xe=t(d);xe!==null&&we(j,xe.startTime-ue),ge=!1}return ge}finally{g=null,v=Z,x=!1}}var J=!1,K=null,H=-1,re=5,de=-1;function Ae(){return!(n.unstable_now()-de<re)}function He(){if(K!==null){var Q=n.unstable_now();de=Q;var ue=!0;try{ue=K(!0,Q)}finally{ue?Je():(J=!1,K=null)}}else J=!1}var Je;if(typeof N=="function")Je=function(){N(He)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,it=ht.port2;ht.port1.onmessage=He,Je=function(){it.postMessage(null)}}else Je=function(){b(He,0)};function Ie(Q){K=Q,J||(J=!0,Je())}function we(Q,ue){H=b(function(){Q(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){k||x||(k=!0,Ie(z))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var Z=v;v=ue;try{return Q()}finally{v=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Z=v;v=Q;try{return ue()}finally{v=Z}},n.unstable_scheduleCallback=function(Q,ue,Z){var A=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?A+Z:A):Z=A,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Z+F,Q={id:p++,callback:ue,priorityLevel:Q,startTime:Z,expirationTime:F,sortIndex:-1},Z>A?(Q.sortIndex=Z,e(d,Q),t(f)===null&&Q===t(d)&&(S?(E(H),H=-1):S=!0,we(j,Z-A))):(Q.sortIndex=F,e(f,Q),k||x||(k=!0,Ie(z))),Q},n.unstable_shouldYield=Ae,n.unstable_wrapCallback=function(Q){var ue=v;return function(){var Z=v;v=ue;try{return Q.apply(this,arguments)}finally{v=Z}}}}(nd)),nd}var wy;function KS(){return wy||(wy=1,td.exports=WS()),td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function qS(){if(Sy)return Ft;Sy=1;var n=$s(),e=KS();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function s(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(o[i]=l,i=0;i<l.length;i++)r.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(i){return f.call(g,i)?!0:f.call(p,i)?!1:d.test(i)?g[i]=!0:(p[i]=!0,!1)}function x(i,l,c,h){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,l,c,h){if(l===null||typeof l>"u"||x(i,l,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(i,l,c,h,m,y,w){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=l,this.sanitizeURL=y,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];b[l]=new S(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(E,N);b[l]=new S(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(E,N);b[l]=new S(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(E,N);b[l]=new S(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,l,c,h){var m=b.hasOwnProperty(l)?b[l]:null;(m!==null?m.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(k(l,c,m,h)&&(c=null),h||m===null?v(l)&&(c===null?i.removeAttribute(l):i.setAttribute(l,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(l=m.attributeName,h=m.attributeNamespace,c===null?i.removeAttribute(l):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?i.setAttributeNS(h,l,c):i.setAttribute(l,c))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),J=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Object.assign,A;function F(i){if(A===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);A=l&&l[1]||""}return`
`+A+i}var ge=!1;function xe(i,l){if(!i||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(_){var h=_}Reflect.construct(i,[],l)}else{try{l.call()}catch(_){h=_}i.call(l.prototype)}else{try{throw Error()}catch(_){h=_}i()}}catch(_){if(_&&h&&typeof _.stack=="string"){for(var m=_.stack.split(`
`),y=h.stack.split(`
`),w=m.length-1,T=y.length-1;1<=w&&0<=T&&m[w]!==y[T];)T--;for(;1<=w&&0<=T;w--,T--)if(m[w]!==y[T]){if(w!==1||T!==1)do if(w--,T--,0>T||m[w]!==y[T]){var M=`
`+m[w].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=w&&0<=T);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?F(i):""}function Se(i){switch(i.tag){case 5:return F(i.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case J:return"Portal";case re:return"Profiler";case H:return"StrictMode";case Je:return"Suspense";case ht:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ae:return(i.displayName||"Context")+".Consumer";case de:return(i._context.displayName||"Context")+".Provider";case He:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case it:return l=i.displayName||null,l!==null?l:be(i.type)||"Memo";case Ie:l=i._payload,i=i._init;try{return be(i(l))}catch{}}return null}function Re(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(l);case 8:return l===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Te(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function je(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Kt(i){var l=je(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return m.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(i,l,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function nl(i){i._valueTracker||(i._valueTracker=Kt(i))}function Sp(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return i&&(h=je(i)?i.checked?"true":"false":i.value),i=h,i!==c?(l.setValue(i),!0):!1}function rl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function oc(i,l){var c=l.checked;return Z({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function bp(i,l){var c=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;c=Te(l.value!=null?l.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ep(i,l){l=l.checked,l!=null&&P(i,"checked",l,!1)}function ic(i,l){Ep(i,l);var c=Te(l.value),h=l.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?sc(i,l.type,c):l.hasOwnProperty("defaultValue")&&sc(i,l.type,Te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Cp(i,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,c||l===i.value||(i.value=l),i.defaultValue=l}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function sc(i,l,c){(l!=="number"||rl(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ki=Array.isArray;function No(i,l,c,h){if(i=i.options,l){l={};for(var m=0;m<c.length;m++)l["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=l.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Te(c),l=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}l!==null||i[m].disabled||(l=i[m])}l!==null&&(l.selected=!0)}}function lc(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Tp(i,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(t(92));if(ki(c)){if(1<c.length)throw Error(t(93));c=c[0]}l=c}l==null&&(l=""),c=l}i._wrapperState={initialValue:Te(c)}}function Np(i,l){var c=Te(l.value),h=Te(l.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),l.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function Mp(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Op(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ac(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Op(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ol,Rp=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,h,m){MSApp.execUnsafeLocalFunction(function(){return i(l,c,h,m)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ol.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function wi(i,l){if(l){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=l;return}}i.textContent=l}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kk=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(i){Kk.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Si[l]=Si[i]})});function Pp(i,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Si.hasOwnProperty(i)&&Si[i]?(""+l).trim():l+"px"}function Ap(i,l){i=i.style;for(var c in l)if(l.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=Pp(c,l[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,m):i[c]=m}}var qk=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(i,l){if(l){if(qk[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function cc(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=null;function dc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hc=null,Mo=null,Oo=null;function Lp(i){if(i=Vi(i)){if(typeof hc!="function")throw Error(t(280));var l=i.stateNode;l&&(l=Nl(l),hc(i.stateNode,i.type,l))}}function Dp(i){Mo?Oo?Oo.push(i):Oo=[i]:Mo=i}function _p(){if(Mo){var i=Mo,l=Oo;if(Oo=Mo=null,Lp(i),l)for(i=0;i<l.length;i++)Lp(l[i])}}function Ip(i,l){return i(l)}function jp(){}var pc=!1;function zp(i,l,c){if(pc)return i(l,c);pc=!0;try{return Ip(i,l,c)}finally{pc=!1,(Mo!==null||Oo!==null)&&(jp(),_p())}}function bi(i,l){var c=i.stateNode;if(c===null)return null;var h=Nl(c);if(h===null)return null;c=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,l,typeof c));return c}var mc=!1;if(u)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){mc=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{mc=!1}function Jk(i,l,c,h,m,y,w,T,M){var _=Array.prototype.slice.call(arguments,3);try{l.apply(c,_)}catch($){this.onError($)}}var Ci=!1,il=null,sl=!1,gc=null,Qk={onError:function(i){Ci=!0,il=i}};function Gk(i,l,c,h,m,y,w,T,M){Ci=!1,il=null,Jk.apply(Qk,arguments)}function Yk(i,l,c,h,m,y,w,T,M){if(Gk.apply(this,arguments),Ci){if(Ci){var _=il;Ci=!1,il=null}else throw Error(t(198));sl||(sl=!0,gc=_)}}function Hr(i){var l=i,c=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(c=l.return),i=l.return;while(i)}return l.tag===3?c:null}function Bp(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Fp(i){if(Hr(i)!==i)throw Error(t(188))}function Xk(i){var l=i.alternate;if(!l){if(l=Hr(i),l===null)throw Error(t(188));return l!==i?null:i}for(var c=i,h=l;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return Fp(m),i;if(y===h)return Fp(m),l;y=y.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=y;else{for(var w=!1,T=m.child;T;){if(T===c){w=!0,c=m,h=y;break}if(T===h){w=!0,h=m,c=y;break}T=T.sibling}if(!w){for(T=y.child;T;){if(T===c){w=!0,c=y,h=m;break}if(T===h){w=!0,h=y,c=m;break}T=T.sibling}if(!w)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:l}function $p(i){return i=Xk(i),i!==null?Up(i):null}function Up(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Up(i);if(l!==null)return l;i=i.sibling}return null}var Hp=e.unstable_scheduleCallback,Vp=e.unstable_cancelCallback,Zk=e.unstable_shouldYield,ew=e.unstable_requestPaint,Qe=e.unstable_now,tw=e.unstable_getCurrentPriorityLevel,yc=e.unstable_ImmediatePriority,Wp=e.unstable_UserBlockingPriority,ll=e.unstable_NormalPriority,nw=e.unstable_LowPriority,Kp=e.unstable_IdlePriority,al=null,Cn=null;function rw(i){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(al,i,void 0,(i.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:sw,ow=Math.log,iw=Math.LN2;function sw(i){return i>>>=0,i===0?32:31-(ow(i)/iw|0)|0}var ul=64,cl=4194304;function Ti(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function fl(i,l){var c=i.pendingLanes;if(c===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,w=c&268435455;if(w!==0){var T=w&~m;T!==0?h=Ti(T):(y&=w,y!==0&&(h=Ti(y)))}else w=c&~m,w!==0?h=Ti(w):y!==0&&(h=Ti(y));if(h===0)return 0;if(l!==0&&l!==h&&(l&m)===0&&(m=h&-h,y=l&-l,m>=y||m===16&&(y&4194240)!==0))return l;if((h&4)!==0&&(h|=c&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=h;0<l;)c=31-dn(l),m=1<<c,h|=i[c],l&=~m;return h}function lw(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aw(i,l){for(var c=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-dn(y),T=1<<w,M=m[w];M===-1?((T&c)===0||(T&h)!==0)&&(m[w]=lw(T,l)):M<=l&&(i.expiredLanes|=T),y&=~T}}function vc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function qp(){var i=ul;return ul<<=1,(ul&4194240)===0&&(ul=64),i}function xc(i){for(var l=[],c=0;31>c;c++)l.push(i);return l}function Ni(i,l,c){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-dn(l),i[l]=c}function uw(i,l){var c=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-dn(c),y=1<<m;l[m]=0,h[m]=-1,i[m]=-1,c&=~y}}function kc(i,l){var c=i.entangledLanes|=l;for(i=i.entanglements;c;){var h=31-dn(c),m=1<<h;m&l|i[h]&l&&(i[h]|=l),c&=~m}}var Ne=0;function Jp(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Qp,wc,Gp,Yp,Xp,Sc=!1,dl=[],ir=null,sr=null,lr=null,Mi=new Map,Oi=new Map,ar=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zp(i,l){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Mi.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(l.pointerId)}}function Ri(i,l,c,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},l!==null&&(l=Vi(l),l!==null&&wc(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),i)}function fw(i,l,c,h,m){switch(l){case"focusin":return ir=Ri(ir,i,l,c,h,m),!0;case"dragenter":return sr=Ri(sr,i,l,c,h,m),!0;case"mouseover":return lr=Ri(lr,i,l,c,h,m),!0;case"pointerover":var y=m.pointerId;return Mi.set(y,Ri(Mi.get(y)||null,i,l,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Oi.set(y,Ri(Oi.get(y)||null,i,l,c,h,m)),!0}return!1}function em(i){var l=Vr(i.target);if(l!==null){var c=Hr(l);if(c!==null){if(l=c.tag,l===13){if(l=Bp(c),l!==null){i.blockedOn=l,Xp(i.priority,function(){Gp(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hl(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var c=Ec(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);fc=h,c.target.dispatchEvent(h),fc=null}else return l=Vi(c),l!==null&&wc(l),i.blockedOn=c,!1;l.shift()}return!0}function tm(i,l,c){hl(i)&&c.delete(l)}function dw(){Sc=!1,ir!==null&&hl(ir)&&(ir=null),sr!==null&&hl(sr)&&(sr=null),lr!==null&&hl(lr)&&(lr=null),Mi.forEach(tm),Oi.forEach(tm)}function Pi(i,l){i.blockedOn===l&&(i.blockedOn=null,Sc||(Sc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dw)))}function Ai(i){function l(m){return Pi(m,i)}if(0<dl.length){Pi(dl[0],i);for(var c=1;c<dl.length;c++){var h=dl[c];h.blockedOn===i&&(h.blockedOn=null)}}for(ir!==null&&Pi(ir,i),sr!==null&&Pi(sr,i),lr!==null&&Pi(lr,i),Mi.forEach(l),Oi.forEach(l),c=0;c<ar.length;c++)h=ar[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<ar.length&&(c=ar[0],c.blockedOn===null);)em(c),c.blockedOn===null&&ar.shift()}var Ro=j.ReactCurrentBatchConfig,pl=!0;function hw(i,l,c,h){var m=Ne,y=Ro.transition;Ro.transition=null;try{Ne=1,bc(i,l,c,h)}finally{Ne=m,Ro.transition=y}}function pw(i,l,c,h){var m=Ne,y=Ro.transition;Ro.transition=null;try{Ne=4,bc(i,l,c,h)}finally{Ne=m,Ro.transition=y}}function bc(i,l,c,h){if(pl){var m=Ec(i,l,c,h);if(m===null)$c(i,l,h,ml,c),Zp(i,h);else if(fw(m,i,l,c,h))h.stopPropagation();else if(Zp(i,h),l&4&&-1<cw.indexOf(i)){for(;m!==null;){var y=Vi(m);if(y!==null&&Qp(y),y=Ec(i,l,c,h),y===null&&$c(i,l,h,ml,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else $c(i,l,h,null,c)}}var ml=null;function Ec(i,l,c,h){if(ml=null,i=dc(h),i=Vr(i),i!==null)if(l=Hr(i),l===null)i=null;else if(c=l.tag,c===13){if(i=Bp(l),i!==null)return i;i=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return ml=i,null}function nm(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tw()){case yc:return 1;case Wp:return 4;case ll:case nw:return 16;case Kp:return 536870912;default:return 16}default:return 16}}var ur=null,Cc=null,gl=null;function rm(){if(gl)return gl;var i,l=Cc,c=l.length,h,m="value"in ur?ur.value:ur.textContent,y=m.length;for(i=0;i<c&&l[i]===m[i];i++);var w=c-i;for(h=1;h<=w&&l[c-h]===m[y-h];h++);return gl=m.slice(i,1<h?1-h:void 0)}function yl(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function vl(){return!0}function om(){return!1}function qt(i){function l(c,h,m,y,w){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(c=i[T],this[T]=c?c(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vl:om,this.isPropagationStopped=om,this}return Z(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),l}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tc=qt(Po),Li=Z({},Po,{view:0,detail:0}),mw=qt(Li),Nc,Mc,Di,xl=Z({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(Nc=i.screenX-Di.screenX,Mc=i.screenY-Di.screenY):Mc=Nc=0,Di=i),Nc)},movementY:function(i){return"movementY"in i?i.movementY:Mc}}),im=qt(xl),gw=Z({},xl,{dataTransfer:0}),yw=qt(gw),vw=Z({},Li,{relatedTarget:0}),Oc=qt(vw),xw=Z({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),kw=qt(xw),ww=Z({},Po,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sw=qt(ww),bw=Z({},Po,{data:0}),sm=qt(bw),Ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nw(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Tw[i])?!!l[i]:!1}function Rc(){return Nw}var Mw=Z({},Li,{key:function(i){if(i.key){var l=Ew[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=yl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cw[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(i){return i.type==="keypress"?yl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ow=qt(Mw),Rw=Z({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=qt(Rw),Pw=Z({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),Aw=qt(Pw),Lw=Z({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dw=qt(Lw),_w=Z({},xl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Iw=qt(_w),jw=[9,13,27,32],Pc=u&&"CompositionEvent"in window,_i=null;u&&"documentMode"in document&&(_i=document.documentMode);var zw=u&&"TextEvent"in window&&!_i,am=u&&(!Pc||_i&&8<_i&&11>=_i),um=" ",cm=!1;function fm(i,l){switch(i){case"keyup":return jw.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ao=!1;function Bw(i,l){switch(i){case"compositionend":return dm(l);case"keypress":return l.which!==32?null:(cm=!0,um);case"textInput":return i=l.data,i===um&&cm?null:i;default:return null}}function Fw(i,l){if(Ao)return i==="compositionend"||!Pc&&fm(i,l)?(i=rm(),gl=Cc=ur=null,Ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return am&&l.locale!=="ko"?null:l.data;default:return null}}var $w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!$w[i.type]:l==="textarea"}function pm(i,l,c,h){Dp(h),l=El(l,"onChange"),0<l.length&&(c=new Tc("onChange","change",null,c,h),i.push({event:c,listeners:l}))}var Ii=null,ji=null;function Uw(i){Am(i,0)}function kl(i){var l=jo(i);if(Sp(l))return i}function Hw(i,l){if(i==="change")return l}var mm=!1;if(u){var Ac;if(u){var Lc="oninput"in document;if(!Lc){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Lc=typeof gm.oninput=="function"}Ac=Lc}else Ac=!1;mm=Ac&&(!document.documentMode||9<document.documentMode)}function ym(){Ii&&(Ii.detachEvent("onpropertychange",vm),ji=Ii=null)}function vm(i){if(i.propertyName==="value"&&kl(ji)){var l=[];pm(l,ji,i,dc(i)),zp(Uw,l)}}function Vw(i,l,c){i==="focusin"?(ym(),Ii=l,ji=c,Ii.attachEvent("onpropertychange",vm)):i==="focusout"&&ym()}function Ww(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kl(ji)}function Kw(i,l){if(i==="click")return kl(l)}function qw(i,l){if(i==="input"||i==="change")return kl(l)}function Jw(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var hn=typeof Object.is=="function"?Object.is:Jw;function zi(i,l){if(hn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var c=Object.keys(i),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!f.call(l,m)||!hn(i[m],l[m]))return!1}return!0}function xm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function km(i,l){var c=xm(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=l&&h>=l)return{node:c,offset:l-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xm(c)}}function wm(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?wm(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Sm(){for(var i=window,l=rl();l instanceof i.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)i=l.contentWindow;else break;l=rl(i.document)}return l}function Dc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Qw(i){var l=Sm(),c=i.focusedElem,h=i.selectionRange;if(l!==c&&c&&c.ownerDocument&&wm(c.ownerDocument.documentElement,c)){if(h!==null&&Dc(c)){if(l=h.start,i=h.end,i===void 0&&(i=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(i,c.value.length);else if(i=(l=c.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=km(c,y);var w=km(c,h);m&&w&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(l=l.createRange(),l.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(l),i.extend(w.node,w.offset)):(l.setEnd(w.node,w.offset),i.addRange(l)))}}for(l=[],i=c;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)i=l[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Gw=u&&"documentMode"in document&&11>=document.documentMode,Lo=null,_c=null,Bi=null,Ic=!1;function bm(i,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ic||Lo==null||Lo!==rl(h)||(h=Lo,"selectionStart"in h&&Dc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Bi&&zi(Bi,h)||(Bi=h,h=El(_c,"onSelect"),0<h.length&&(l=new Tc("onSelect","select",null,l,c),i.push({event:l,listeners:h}),l.target=Lo)))}function wl(i,l){var c={};return c[i.toLowerCase()]=l.toLowerCase(),c["Webkit"+i]="webkit"+l,c["Moz"+i]="moz"+l,c}var Do={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},jc={},Em={};u&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Sl(i){if(jc[i])return jc[i];if(!Do[i])return i;var l=Do[i],c;for(c in l)if(l.hasOwnProperty(c)&&c in Em)return jc[i]=l[c];return i}var Cm=Sl("animationend"),Tm=Sl("animationiteration"),Nm=Sl("animationstart"),Mm=Sl("transitionend"),Om=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(i,l){Om.set(i,l),s(l,[i])}for(var zc=0;zc<Rm.length;zc++){var Bc=Rm[zc],Yw=Bc.toLowerCase(),Xw=Bc[0].toUpperCase()+Bc.slice(1);cr(Yw,"on"+Xw)}cr(Cm,"onAnimationEnd"),cr(Tm,"onAnimationIteration"),cr(Nm,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(Mm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Pm(i,l,c){var h=i.type||"unknown-event";i.currentTarget=c,Yk(h,l,void 0,i),i.currentTarget=null}function Am(i,l){l=(l&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],m=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var w=h.length-1;0<=w;w--){var T=h[w],M=T.instance,_=T.currentTarget;if(T=T.listener,M!==y&&m.isPropagationStopped())break e;Pm(m,T,_),y=M}else for(w=0;w<h.length;w++){if(T=h[w],M=T.instance,_=T.currentTarget,T=T.listener,M!==y&&m.isPropagationStopped())break e;Pm(m,T,_),y=M}}}if(sl)throw i=gc,sl=!1,gc=null,i}function Le(i,l){var c=l[qc];c===void 0&&(c=l[qc]=new Set);var h=i+"__bubble";c.has(h)||(Lm(l,i,2,!1),c.add(h))}function Fc(i,l,c){var h=0;l&&(h|=4),Lm(c,i,h,l)}var bl="_reactListening"+Math.random().toString(36).slice(2);function $i(i){if(!i[bl]){i[bl]=!0,r.forEach(function(c){c!=="selectionchange"&&(Zw.has(c)||Fc(c,!1,i),Fc(c,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[bl]||(l[bl]=!0,Fc("selectionchange",!1,l))}}function Lm(i,l,c,h){switch(nm(l)){case 1:var m=hw;break;case 4:m=pw;break;default:m=bc}c=m.bind(null,l,c,i),m=void 0,!mc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(l,c,{capture:!0,passive:m}):i.addEventListener(l,c,!0):m!==void 0?i.addEventListener(l,c,{passive:m}):i.addEventListener(l,c,!1)}function $c(i,l,c,h,m){var y=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var T=h.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(w===4)for(w=h.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;w=w.return}for(;T!==null;){if(w=Vr(T),w===null)return;if(M=w.tag,M===5||M===6){h=y=w;continue e}T=T.parentNode}}h=h.return}zp(function(){var _=y,$=dc(c),V=[];e:{var B=Om.get(i);if(B!==void 0){var Y=Tc,ee=i;switch(i){case"keypress":if(yl(c)===0)break e;case"keydown":case"keyup":Y=Ow;break;case"focusin":ee="focus",Y=Oc;break;case"focusout":ee="blur",Y=Oc;break;case"beforeblur":case"afterblur":Y=Oc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Aw;break;case Cm:case Tm:case Nm:Y=kw;break;case Mm:Y=Dw;break;case"scroll":Y=mw;break;case"wheel":Y=Iw;break;case"copy":case"cut":case"paste":Y=Sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=lm}var te=(l&4)!==0,Ge=!te&&i==="scroll",L=te?B!==null?B+"Capture":null:B;te=[];for(var R=_,D;R!==null;){D=R;var q=D.stateNode;if(D.tag===5&&q!==null&&(D=q,L!==null&&(q=bi(R,L),q!=null&&te.push(Ui(R,q,D)))),Ge)break;R=R.return}0<te.length&&(B=new Y(B,ee,null,c,$),V.push({event:B,listeners:te}))}}if((l&7)===0){e:{if(B=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",B&&c!==fc&&(ee=c.relatedTarget||c.fromElement)&&(Vr(ee)||ee[zn]))break e;if((Y||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,Y?(ee=c.relatedTarget||c.toElement,Y=_,ee=ee?Vr(ee):null,ee!==null&&(Ge=Hr(ee),ee!==Ge||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Y=null,ee=_),Y!==ee)){if(te=im,q="onMouseLeave",L="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(te=lm,q="onPointerLeave",L="onPointerEnter",R="pointer"),Ge=Y==null?B:jo(Y),D=ee==null?B:jo(ee),B=new te(q,R+"leave",Y,c,$),B.target=Ge,B.relatedTarget=D,q=null,Vr($)===_&&(te=new te(L,R+"enter",ee,c,$),te.target=D,te.relatedTarget=Ge,q=te),Ge=q,Y&&ee)t:{for(te=Y,L=ee,R=0,D=te;D;D=_o(D))R++;for(D=0,q=L;q;q=_o(q))D++;for(;0<R-D;)te=_o(te),R--;for(;0<D-R;)L=_o(L),D--;for(;R--;){if(te===L||L!==null&&te===L.alternate)break t;te=_o(te),L=_o(L)}te=null}else te=null;Y!==null&&Dm(V,B,Y,te,!1),ee!==null&&Ge!==null&&Dm(V,Ge,ee,te,!0)}}e:{if(B=_?jo(_):window,Y=B.nodeName&&B.nodeName.toLowerCase(),Y==="select"||Y==="input"&&B.type==="file")var ne=Hw;else if(hm(B))if(mm)ne=qw;else{ne=Ww;var le=Vw}else(Y=B.nodeName)&&Y.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ne=Kw);if(ne&&(ne=ne(i,_))){pm(V,ne,c,$);break e}le&&le(i,B,_),i==="focusout"&&(le=B._wrapperState)&&le.controlled&&B.type==="number"&&sc(B,"number",B.value)}switch(le=_?jo(_):window,i){case"focusin":(hm(le)||le.contentEditable==="true")&&(Lo=le,_c=_,Bi=null);break;case"focusout":Bi=_c=Lo=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,bm(V,c,$);break;case"selectionchange":if(Gw)break;case"keydown":case"keyup":bm(V,c,$)}var ae;if(Pc)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Ao?fm(i,c)&&(ce="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ce="onCompositionStart");ce&&(am&&c.locale!=="ko"&&(Ao||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Ao&&(ae=rm()):(ur=$,Cc="value"in ur?ur.value:ur.textContent,Ao=!0)),le=El(_,ce),0<le.length&&(ce=new sm(ce,i,null,c,$),V.push({event:ce,listeners:le}),ae?ce.data=ae:(ae=dm(c),ae!==null&&(ce.data=ae)))),(ae=zw?Bw(i,c):Fw(i,c))&&(_=El(_,"onBeforeInput"),0<_.length&&($=new sm("onBeforeInput","beforeinput",null,c,$),V.push({event:$,listeners:_}),$.data=ae))}Am(V,l)})}function Ui(i,l,c){return{instance:i,listener:l,currentTarget:c}}function El(i,l){for(var c=l+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=bi(i,c),y!=null&&h.unshift(Ui(i,y,m)),y=bi(i,l),y!=null&&h.push(Ui(i,y,m))),i=i.return}return h}function _o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Dm(i,l,c,h,m){for(var y=l._reactName,w=[];c!==null&&c!==h;){var T=c,M=T.alternate,_=T.stateNode;if(M!==null&&M===h)break;T.tag===5&&_!==null&&(T=_,m?(M=bi(c,y),M!=null&&w.unshift(Ui(c,M,T))):m||(M=bi(c,y),M!=null&&w.push(Ui(c,M,T)))),c=c.return}w.length!==0&&i.push({event:l,listeners:w})}var eS=/\r\n?/g,tS=/\u0000|\uFFFD/g;function _m(i){return(typeof i=="string"?i:""+i).replace(eS,`
`).replace(tS,"")}function Cl(i,l,c){if(l=_m(l),_m(i)!==l&&c)throw Error(t(425))}function Tl(){}var Uc=null,Hc=null;function Vc(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Wc=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(i){return Im.resolve(null).then(i).catch(oS)}:Wc;function oS(i){setTimeout(function(){throw i})}function Kc(i,l){var c=l,h=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){i.removeChild(m),Ai(l);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Ai(l)}function fr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function jm(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return i;l--}else c==="/$"&&l++}i=i.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Io,Hi="__reactProps$"+Io,zn="__reactContainer$"+Io,qc="__reactEvents$"+Io,iS="__reactListeners$"+Io,sS="__reactHandles$"+Io;function Vr(i){var l=i[Tn];if(l)return l;for(var c=i.parentNode;c;){if(l=c[zn]||c[Tn]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(i=jm(i);i!==null;){if(c=i[Tn])return c;i=jm(i)}return l}i=c,c=i.parentNode}return null}function Vi(i){return i=i[Tn]||i[zn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function jo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Nl(i){return i[Hi]||null}var Jc=[],zo=-1;function dr(i){return{current:i}}function De(i){0>zo||(i.current=Jc[zo],Jc[zo]=null,zo--)}function Pe(i,l){zo++,Jc[zo]=i.current,i.current=l}var hr={},xt=dr(hr),_t=dr(!1),Wr=hr;function Bo(i,l){var c=i.type.contextTypes;if(!c)return hr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=l[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=m),m}function It(i){return i=i.childContextTypes,i!=null}function Ml(){De(_t),De(xt)}function zm(i,l,c){if(xt.current!==hr)throw Error(t(168));Pe(xt,l),Pe(_t,c)}function Bm(i,l,c){var h=i.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in l))throw Error(t(108,Re(i)||"Unknown",m));return Z({},c,h)}function Ol(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||hr,Wr=xt.current,Pe(xt,i),Pe(_t,_t.current),!0}function Fm(i,l,c){var h=i.stateNode;if(!h)throw Error(t(169));c?(i=Bm(i,l,Wr),h.__reactInternalMemoizedMergedChildContext=i,De(_t),De(xt),Pe(xt,i)):De(_t),Pe(_t,c)}var Bn=null,Rl=!1,Qc=!1;function $m(i){Bn===null?Bn=[i]:Bn.push(i)}function lS(i){Rl=!0,$m(i)}function pr(){if(!Qc&&Bn!==null){Qc=!0;var i=0,l=Ne;try{var c=Bn;for(Ne=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}Bn=null,Rl=!1}catch(m){throw Bn!==null&&(Bn=Bn.slice(i+1)),Hp(yc,pr),m}finally{Ne=l,Qc=!1}}return null}var Fo=[],$o=0,Pl=null,Al=0,en=[],tn=0,Kr=null,Fn=1,$n="";function qr(i,l){Fo[$o++]=Al,Fo[$o++]=Pl,Pl=i,Al=l}function Um(i,l,c){en[tn++]=Fn,en[tn++]=$n,en[tn++]=Kr,Kr=i;var h=Fn;i=$n;var m=32-dn(h)-1;h&=~(1<<m),c+=1;var y=32-dn(l)+m;if(30<y){var w=m-m%5;y=(h&(1<<w)-1).toString(32),h>>=w,m-=w,Fn=1<<32-dn(l)+m|c<<m|h,$n=y+i}else Fn=1<<y|c<<m|h,$n=i}function Gc(i){i.return!==null&&(qr(i,1),Um(i,1,0))}function Yc(i){for(;i===Pl;)Pl=Fo[--$o],Fo[$o]=null,Al=Fo[--$o],Fo[$o]=null;for(;i===Kr;)Kr=en[--tn],en[tn]=null,$n=en[--tn],en[tn]=null,Fn=en[--tn],en[tn]=null}var Jt=null,Qt=null,ze=!1,pn=null;function Hm(i,l){var c=sn(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=i,l=i.deletions,l===null?(i.deletions=[c],i.flags|=16):l.push(c)}function Vm(i,l){switch(i.tag){case 5:var c=i.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Jt=i,Qt=fr(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Jt=i,Qt=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=Kr!==null?{id:Fn,overflow:$n}:null,i.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=sn(18,null,null,0),c.stateNode=l,c.return=i,i.child=c,Jt=i,Qt=null,!0):!1;default:return!1}}function Xc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Zc(i){if(ze){var l=Qt;if(l){var c=l;if(!Vm(i,l)){if(Xc(i))throw Error(t(418));l=fr(c.nextSibling);var h=Jt;l&&Vm(i,l)?Hm(h,c):(i.flags=i.flags&-4097|2,ze=!1,Jt=i)}}else{if(Xc(i))throw Error(t(418));i.flags=i.flags&-4097|2,ze=!1,Jt=i}}}function Wm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Jt=i}function Ll(i){if(i!==Jt)return!1;if(!ze)return Wm(i),ze=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Vc(i.type,i.memoizedProps)),l&&(l=Qt)){if(Xc(i))throw Km(),Error(t(418));for(;l;)Hm(i,l),l=fr(l.nextSibling)}if(Wm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(l===0){Qt=fr(i.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}i=i.nextSibling}Qt=null}}else Qt=Jt?fr(i.stateNode.nextSibling):null;return!0}function Km(){for(var i=Qt;i;)i=fr(i.nextSibling)}function Uo(){Qt=Jt=null,ze=!1}function ef(i){pn===null?pn=[i]:pn.push(i)}var aS=j.ReactCurrentBatchConfig;function Wi(i,l,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===y?l.ref:(l=function(w){var T=m.refs;w===null?delete T[y]:T[y]=w},l._stringRef=y,l)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function Dl(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function qm(i){var l=i._init;return l(i._payload)}function Jm(i){function l(L,R){if(i){var D=L.deletions;D===null?(L.deletions=[R],L.flags|=16):D.push(R)}}function c(L,R){if(!i)return null;for(;R!==null;)l(L,R),R=R.sibling;return null}function h(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function m(L,R){return L=Sr(L,R),L.index=0,L.sibling=null,L}function y(L,R,D){return L.index=D,i?(D=L.alternate,D!==null?(D=D.index,D<R?(L.flags|=2,R):D):(L.flags|=2,R)):(L.flags|=1048576,R)}function w(L){return i&&L.alternate===null&&(L.flags|=2),L}function T(L,R,D,q){return R===null||R.tag!==6?(R=Kf(D,L.mode,q),R.return=L,R):(R=m(R,D),R.return=L,R)}function M(L,R,D,q){var ne=D.type;return ne===K?$(L,R,D.props.children,q,D.key):R!==null&&(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ie&&qm(ne)===R.type)?(q=m(R,D.props),q.ref=Wi(L,R,D),q.return=L,q):(q=oa(D.type,D.key,D.props,null,L.mode,q),q.ref=Wi(L,R,D),q.return=L,q)}function _(L,R,D,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=qf(D,L.mode,q),R.return=L,R):(R=m(R,D.children||[]),R.return=L,R)}function $(L,R,D,q,ne){return R===null||R.tag!==7?(R=to(D,L.mode,q,ne),R.return=L,R):(R=m(R,D),R.return=L,R)}function V(L,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Kf(""+R,L.mode,D),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case z:return D=oa(R.type,R.key,R.props,null,L.mode,D),D.ref=Wi(L,null,R),D.return=L,D;case J:return R=qf(R,L.mode,D),R.return=L,R;case Ie:var q=R._init;return V(L,q(R._payload),D)}if(ki(R)||ue(R))return R=to(R,L.mode,D,null),R.return=L,R;Dl(L,R)}return null}function B(L,R,D,q){var ne=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ne!==null?null:T(L,R,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return D.key===ne?M(L,R,D,q):null;case J:return D.key===ne?_(L,R,D,q):null;case Ie:return ne=D._init,B(L,R,ne(D._payload),q)}if(ki(D)||ue(D))return ne!==null?null:$(L,R,D,q,null);Dl(L,D)}return null}function Y(L,R,D,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number")return L=L.get(D)||null,T(R,L,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return L=L.get(q.key===null?D:q.key)||null,M(R,L,q,ne);case J:return L=L.get(q.key===null?D:q.key)||null,_(R,L,q,ne);case Ie:var le=q._init;return Y(L,R,D,le(q._payload),ne)}if(ki(q)||ue(q))return L=L.get(D)||null,$(R,L,q,ne,null);Dl(R,q)}return null}function ee(L,R,D,q){for(var ne=null,le=null,ae=R,ce=R=0,at=null;ae!==null&&ce<D.length;ce++){ae.index>ce?(at=ae,ae=null):at=ae.sibling;var Ee=B(L,ae,D[ce],q);if(Ee===null){ae===null&&(ae=at);break}i&&ae&&Ee.alternate===null&&l(L,ae),R=y(Ee,R,ce),le===null?ne=Ee:le.sibling=Ee,le=Ee,ae=at}if(ce===D.length)return c(L,ae),ze&&qr(L,ce),ne;if(ae===null){for(;ce<D.length;ce++)ae=V(L,D[ce],q),ae!==null&&(R=y(ae,R,ce),le===null?ne=ae:le.sibling=ae,le=ae);return ze&&qr(L,ce),ne}for(ae=h(L,ae);ce<D.length;ce++)at=Y(ae,L,ce,D[ce],q),at!==null&&(i&&at.alternate!==null&&ae.delete(at.key===null?ce:at.key),R=y(at,R,ce),le===null?ne=at:le.sibling=at,le=at);return i&&ae.forEach(function(br){return l(L,br)}),ze&&qr(L,ce),ne}function te(L,R,D,q){var ne=ue(D);if(typeof ne!="function")throw Error(t(150));if(D=ne.call(D),D==null)throw Error(t(151));for(var le=ne=null,ae=R,ce=R=0,at=null,Ee=D.next();ae!==null&&!Ee.done;ce++,Ee=D.next()){ae.index>ce?(at=ae,ae=null):at=ae.sibling;var br=B(L,ae,Ee.value,q);if(br===null){ae===null&&(ae=at);break}i&&ae&&br.alternate===null&&l(L,ae),R=y(br,R,ce),le===null?ne=br:le.sibling=br,le=br,ae=at}if(Ee.done)return c(L,ae),ze&&qr(L,ce),ne;if(ae===null){for(;!Ee.done;ce++,Ee=D.next())Ee=V(L,Ee.value,q),Ee!==null&&(R=y(Ee,R,ce),le===null?ne=Ee:le.sibling=Ee,le=Ee);return ze&&qr(L,ce),ne}for(ae=h(L,ae);!Ee.done;ce++,Ee=D.next())Ee=Y(ae,L,ce,Ee.value,q),Ee!==null&&(i&&Ee.alternate!==null&&ae.delete(Ee.key===null?ce:Ee.key),R=y(Ee,R,ce),le===null?ne=Ee:le.sibling=Ee,le=Ee);return i&&ae.forEach(function($S){return l(L,$S)}),ze&&qr(L,ce),ne}function Ge(L,R,D,q){if(typeof D=="object"&&D!==null&&D.type===K&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case z:e:{for(var ne=D.key,le=R;le!==null;){if(le.key===ne){if(ne=D.type,ne===K){if(le.tag===7){c(L,le.sibling),R=m(le,D.props.children),R.return=L,L=R;break e}}else if(le.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ie&&qm(ne)===le.type){c(L,le.sibling),R=m(le,D.props),R.ref=Wi(L,le,D),R.return=L,L=R;break e}c(L,le);break}else l(L,le);le=le.sibling}D.type===K?(R=to(D.props.children,L.mode,q,D.key),R.return=L,L=R):(q=oa(D.type,D.key,D.props,null,L.mode,q),q.ref=Wi(L,R,D),q.return=L,L=q)}return w(L);case J:e:{for(le=D.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){c(L,R.sibling),R=m(R,D.children||[]),R.return=L,L=R;break e}else{c(L,R);break}else l(L,R);R=R.sibling}R=qf(D,L.mode,q),R.return=L,L=R}return w(L);case Ie:return le=D._init,Ge(L,R,le(D._payload),q)}if(ki(D))return ee(L,R,D,q);if(ue(D))return te(L,R,D,q);Dl(L,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,R!==null&&R.tag===6?(c(L,R.sibling),R=m(R,D),R.return=L,L=R):(c(L,R),R=Kf(D,L.mode,q),R.return=L,L=R),w(L)):c(L,R)}return Ge}var Ho=Jm(!0),Qm=Jm(!1),_l=dr(null),Il=null,Vo=null,tf=null;function nf(){tf=Vo=Il=null}function rf(i){var l=_l.current;De(_l),i._currentValue=l}function of(i,l,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===c)break;i=i.return}}function Wo(i,l){Il=i,tf=Vo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(jt=!0),i.firstContext=null)}function nn(i){var l=i._currentValue;if(tf!==i)if(i={context:i,memoizedValue:l,next:null},Vo===null){if(Il===null)throw Error(t(308));Vo=i,Il.dependencies={lanes:0,firstContext:i}}else Vo=Vo.next=i;return l}var Jr=null;function sf(i){Jr===null?Jr=[i]:Jr.push(i)}function Gm(i,l,c,h){var m=l.interleaved;return m===null?(c.next=c,sf(l)):(c.next=m.next,m.next=c),l.interleaved=c,Un(i,h)}function Un(i,l){i.lanes|=l;var c=i.alternate;for(c!==null&&(c.lanes|=l),c=i,i=i.return;i!==null;)i.childLanes|=l,c=i.alternate,c!==null&&(c.childLanes|=l),c=i,i=i.return;return c.tag===3?c.stateNode:null}var mr=!1;function lf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ym(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Hn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function gr(i,l,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ke&2)!==0){var m=h.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),h.pending=l,Un(i,c)}return m=h.interleaved,m===null?(l.next=l,sf(h)):(l.next=m.next,m.next=l),h.interleaved=l,Un(i,c)}function jl(i,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,kc(i,c)}}function Xm(i,l){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?m=y=l:y=y.next=l}else m=y=l;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=l:i.next=l,c.lastBaseUpdate=l}function zl(i,l,c,h){var m=i.updateQueue;mr=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var M=T,_=M.next;M.next=null,w===null?y=_:w.next=_,w=M;var $=i.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==w&&(T===null?$.firstBaseUpdate=_:T.next=_,$.lastBaseUpdate=M))}if(y!==null){var V=m.baseState;w=0,$=_=M=null,T=y;do{var B=T.lane,Y=T.eventTime;if((h&B)===B){$!==null&&($=$.next={eventTime:Y,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ee=i,te=T;switch(B=l,Y=c,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){V=ee.call(Y,V,B);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,B=typeof ee=="function"?ee.call(Y,V,B):ee,B==null)break e;V=Z({},V,B);break e;case 2:mr=!0}}T.callback!==null&&T.lane!==0&&(i.flags|=64,B=m.effects,B===null?m.effects=[T]:B.push(T))}else Y={eventTime:Y,lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(_=$=Y,M=V):$=$.next=Y,w|=B;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;B=T,T=B.next,B.next=null,m.lastBaseUpdate=B,m.shared.pending=null}}while(!0);if($===null&&(M=V),m.baseState=M,m.firstBaseUpdate=_,m.lastBaseUpdate=$,l=m.shared.interleaved,l!==null){m=l;do w|=m.lane,m=m.next;while(m!==l)}else y===null&&(m.shared.lanes=0);Yr|=w,i.lanes=w,i.memoizedState=V}}function Zm(i,l,c){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var h=i[l],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Ki={},Nn=dr(Ki),qi=dr(Ki),Ji=dr(Ki);function Qr(i){if(i===Ki)throw Error(t(174));return i}function af(i,l){switch(Pe(Ji,l),Pe(qi,i),Pe(Nn,Ki),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ac(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ac(l,i)}De(Nn),Pe(Nn,l)}function Ko(){De(Nn),De(qi),De(Ji)}function eg(i){Qr(Ji.current);var l=Qr(Nn.current),c=ac(l,i.type);l!==c&&(Pe(qi,i),Pe(Nn,c))}function uf(i){qi.current===i&&(De(Nn),De(qi))}var Be=dr(0);function Bl(i){for(var l=i;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var cf=[];function ff(){for(var i=0;i<cf.length;i++)cf[i]._workInProgressVersionPrimary=null;cf.length=0}var Fl=j.ReactCurrentDispatcher,df=j.ReactCurrentBatchConfig,Gr=0,Fe=null,nt=null,st=null,$l=!1,Qi=!1,Gi=0,uS=0;function kt(){throw Error(t(321))}function hf(i,l){if(l===null)return!1;for(var c=0;c<l.length&&c<i.length;c++)if(!hn(i[c],l[c]))return!1;return!0}function pf(i,l,c,h,m,y){if(Gr=y,Fe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Fl.current=i===null||i.memoizedState===null?hS:pS,i=c(h,m),Qi){y=0;do{if(Qi=!1,Gi=0,25<=y)throw Error(t(301));y+=1,st=nt=null,l.updateQueue=null,Fl.current=mS,i=c(h,m)}while(Qi)}if(Fl.current=Vl,l=nt!==null&&nt.next!==null,Gr=0,st=nt=Fe=null,$l=!1,l)throw Error(t(300));return i}function mf(){var i=Gi!==0;return Gi=0,i}function Mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Fe.memoizedState=st=i:st=st.next=i,st}function rn(){if(nt===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var l=st===null?Fe.memoizedState:st.next;if(l!==null)st=l,nt=i;else{if(i===null)throw Error(t(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},st===null?Fe.memoizedState=st=i:st=st.next=i}return st}function Yi(i,l){return typeof l=="function"?l(i):l}function gf(i){var l=rn(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=nt,m=h.baseQueue,y=c.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}h.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,h=h.baseState;var T=w=null,M=null,_=y;do{var $=_.lane;if((Gr&$)===$)M!==null&&(M=M.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),h=_.hasEagerState?_.eagerState:i(h,_.action);else{var V={lane:$,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};M===null?(T=M=V,w=h):M=M.next=V,Fe.lanes|=$,Yr|=$}_=_.next}while(_!==null&&_!==y);M===null?w=h:M.next=T,hn(h,l.memoizedState)||(jt=!0),l.memoizedState=h,l.baseState=w,l.baseQueue=M,c.lastRenderedState=h}if(i=c.interleaved,i!==null){m=i;do y=m.lane,Fe.lanes|=y,Yr|=y,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function yf(i){var l=rn(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var h=c.dispatch,m=c.pending,y=l.memoizedState;if(m!==null){c.pending=null;var w=m=m.next;do y=i(y,w.action),w=w.next;while(w!==m);hn(y,l.memoizedState)||(jt=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,h]}function tg(){}function ng(i,l){var c=Fe,h=rn(),m=l(),y=!hn(h.memoizedState,m);if(y&&(h.memoizedState=m,jt=!0),h=h.queue,vf(ig.bind(null,c,h,i),[i]),h.getSnapshot!==l||y||st!==null&&st.memoizedState.tag&1){if(c.flags|=2048,Xi(9,og.bind(null,c,h,m,l),void 0,null),lt===null)throw Error(t(349));(Gr&30)!==0||rg(c,l,m)}return m}function rg(i,l,c){i.flags|=16384,i={getSnapshot:l,value:c},l=Fe.updateQueue,l===null?(l={lastEffect:null,stores:null},Fe.updateQueue=l,l.stores=[i]):(c=l.stores,c===null?l.stores=[i]:c.push(i))}function og(i,l,c,h){l.value=c,l.getSnapshot=h,sg(l)&&lg(i)}function ig(i,l,c){return c(function(){sg(l)&&lg(i)})}function sg(i){var l=i.getSnapshot;i=i.value;try{var c=l();return!hn(i,c)}catch{return!0}}function lg(i){var l=Un(i,1);l!==null&&vn(l,i,1,-1)}function ag(i){var l=Mn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:i},l.queue=i,i=i.dispatch=dS.bind(null,Fe,i),[l.memoizedState,i]}function Xi(i,l,c,h){return i={tag:i,create:l,destroy:c,deps:h,next:null},l=Fe.updateQueue,l===null?(l={lastEffect:null,stores:null},Fe.updateQueue=l,l.lastEffect=i.next=i):(c=l.lastEffect,c===null?l.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,l.lastEffect=i)),i}function ug(){return rn().memoizedState}function Ul(i,l,c,h){var m=Mn();Fe.flags|=i,m.memoizedState=Xi(1|l,c,void 0,h===void 0?null:h)}function Hl(i,l,c,h){var m=rn();h=h===void 0?null:h;var y=void 0;if(nt!==null){var w=nt.memoizedState;if(y=w.destroy,h!==null&&hf(h,w.deps)){m.memoizedState=Xi(l,c,y,h);return}}Fe.flags|=i,m.memoizedState=Xi(1|l,c,y,h)}function cg(i,l){return Ul(8390656,8,i,l)}function vf(i,l){return Hl(2048,8,i,l)}function fg(i,l){return Hl(4,2,i,l)}function dg(i,l){return Hl(4,4,i,l)}function hg(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function pg(i,l,c){return c=c!=null?c.concat([i]):null,Hl(4,4,hg.bind(null,l,i),c)}function xf(){}function mg(i,l){var c=rn();l=l===void 0?null:l;var h=c.memoizedState;return h!==null&&l!==null&&hf(l,h[1])?h[0]:(c.memoizedState=[i,l],i)}function gg(i,l){var c=rn();l=l===void 0?null:l;var h=c.memoizedState;return h!==null&&l!==null&&hf(l,h[1])?h[0]:(i=i(),c.memoizedState=[i,l],i)}function yg(i,l,c){return(Gr&21)===0?(i.baseState&&(i.baseState=!1,jt=!0),i.memoizedState=c):(hn(c,l)||(c=qp(),Fe.lanes|=c,Yr|=c,i.baseState=!0),l)}function cS(i,l){var c=Ne;Ne=c!==0&&4>c?c:4,i(!0);var h=df.transition;df.transition={};try{i(!1),l()}finally{Ne=c,df.transition=h}}function vg(){return rn().memoizedState}function fS(i,l,c){var h=kr(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},xg(i))kg(l,c);else if(c=Gm(i,l,c,h),c!==null){var m=Mt();vn(c,i,h,m),wg(c,l,h)}}function dS(i,l,c){var h=kr(i),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(xg(i))kg(l,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var w=l.lastRenderedState,T=y(w,c);if(m.hasEagerState=!0,m.eagerState=T,hn(T,w)){var M=l.interleaved;M===null?(m.next=m,sf(l)):(m.next=M.next,M.next=m),l.interleaved=m;return}}catch{}finally{}c=Gm(i,l,m,h),c!==null&&(m=Mt(),vn(c,i,h,m),wg(c,l,h))}}function xg(i){var l=i.alternate;return i===Fe||l!==null&&l===Fe}function kg(i,l){Qi=$l=!0;var c=i.pending;c===null?l.next=l:(l.next=c.next,c.next=l),i.pending=l}function wg(i,l,c){if((c&4194240)!==0){var h=l.lanes;h&=i.pendingLanes,c|=h,l.lanes=c,kc(i,c)}}var Vl={readContext:nn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},hS={readContext:nn,useCallback:function(i,l){return Mn().memoizedState=[i,l===void 0?null:l],i},useContext:nn,useEffect:cg,useImperativeHandle:function(i,l,c){return c=c!=null?c.concat([i]):null,Ul(4194308,4,hg.bind(null,l,i),c)},useLayoutEffect:function(i,l){return Ul(4194308,4,i,l)},useInsertionEffect:function(i,l){return Ul(4,2,i,l)},useMemo:function(i,l){var c=Mn();return l=l===void 0?null:l,i=i(),c.memoizedState=[i,l],i},useReducer:function(i,l,c){var h=Mn();return l=c!==void 0?c(l):l,h.memoizedState=h.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},h.queue=i,i=i.dispatch=fS.bind(null,Fe,i),[h.memoizedState,i]},useRef:function(i){var l=Mn();return i={current:i},l.memoizedState=i},useState:ag,useDebugValue:xf,useDeferredValue:function(i){return Mn().memoizedState=i},useTransition:function(){var i=ag(!1),l=i[0];return i=cS.bind(null,i[1]),Mn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,c){var h=Fe,m=Mn();if(ze){if(c===void 0)throw Error(t(407));c=c()}else{if(c=l(),lt===null)throw Error(t(349));(Gr&30)!==0||rg(h,l,c)}m.memoizedState=c;var y={value:c,getSnapshot:l};return m.queue=y,cg(ig.bind(null,h,y,i),[i]),h.flags|=2048,Xi(9,og.bind(null,h,y,c,l),void 0,null),c},useId:function(){var i=Mn(),l=lt.identifierPrefix;if(ze){var c=$n,h=Fn;c=(h&~(1<<32-dn(h)-1)).toString(32)+c,l=":"+l+"R"+c,c=Gi++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=uS++,l=":"+l+"r"+c.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},pS={readContext:nn,useCallback:mg,useContext:nn,useEffect:vf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:gg,useReducer:gf,useRef:ug,useState:function(){return gf(Yi)},useDebugValue:xf,useDeferredValue:function(i){var l=rn();return yg(l,nt.memoizedState,i)},useTransition:function(){var i=gf(Yi)[0],l=rn().memoizedState;return[i,l]},useMutableSource:tg,useSyncExternalStore:ng,useId:vg,unstable_isNewReconciler:!1},mS={readContext:nn,useCallback:mg,useContext:nn,useEffect:vf,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:gg,useReducer:yf,useRef:ug,useState:function(){return yf(Yi)},useDebugValue:xf,useDeferredValue:function(i){var l=rn();return nt===null?l.memoizedState=i:yg(l,nt.memoizedState,i)},useTransition:function(){var i=yf(Yi)[0],l=rn().memoizedState;return[i,l]},useMutableSource:tg,useSyncExternalStore:ng,useId:vg,unstable_isNewReconciler:!1};function mn(i,l){if(i&&i.defaultProps){l=Z({},l),i=i.defaultProps;for(var c in i)l[c]===void 0&&(l[c]=i[c]);return l}return l}function kf(i,l,c,h){l=i.memoizedState,c=c(h,l),c=c==null?l:Z({},l,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Wl={isMounted:function(i){return(i=i._reactInternals)?Hr(i)===i:!1},enqueueSetState:function(i,l,c){i=i._reactInternals;var h=Mt(),m=kr(i),y=Hn(h,m);y.payload=l,c!=null&&(y.callback=c),l=gr(i,y,m),l!==null&&(vn(l,i,m,h),jl(l,i,m))},enqueueReplaceState:function(i,l,c){i=i._reactInternals;var h=Mt(),m=kr(i),y=Hn(h,m);y.tag=1,y.payload=l,c!=null&&(y.callback=c),l=gr(i,y,m),l!==null&&(vn(l,i,m,h),jl(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var c=Mt(),h=kr(i),m=Hn(c,h);m.tag=2,l!=null&&(m.callback=l),l=gr(i,m,h),l!==null&&(vn(l,i,h,c),jl(l,i,h))}};function Sg(i,l,c,h,m,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,w):l.prototype&&l.prototype.isPureReactComponent?!zi(c,h)||!zi(m,y):!0}function bg(i,l,c){var h=!1,m=hr,y=l.contextType;return typeof y=="object"&&y!==null?y=nn(y):(m=It(l)?Wr:xt.current,h=l.contextTypes,y=(h=h!=null)?Bo(i,m):hr),l=new l(c,y),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Wl,i.stateNode=l,l._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),l}function Eg(i,l,c,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==i&&Wl.enqueueReplaceState(l,l.state,null)}function wf(i,l,c,h){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},lf(i);var y=l.contextType;typeof y=="object"&&y!==null?m.context=nn(y):(y=It(l)?Wr:xt.current,m.context=Bo(i,y)),m.state=i.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(kf(i,l,y,c),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(l=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),l!==m.state&&Wl.enqueueReplaceState(m,m.state,null),zl(i,c,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function qo(i,l){try{var c="",h=l;do c+=Se(h),h=h.return;while(h);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:l,stack:m,digest:null}}function Sf(i,l,c){return{value:i,source:null,stack:c??null,digest:l??null}}function bf(i,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var gS=typeof WeakMap=="function"?WeakMap:Map;function Cg(i,l,c){c=Hn(-1,c),c.tag=3,c.payload={element:null};var h=l.value;return c.callback=function(){Xl||(Xl=!0,zf=h),bf(i,l)},c}function Tg(i,l,c){c=Hn(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;c.payload=function(){return h(m)},c.callback=function(){bf(i,l)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){bf(i,l),typeof h!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})}),c}function Ng(i,l,c){var h=i.pingCache;if(h===null){h=i.pingCache=new gS;var m=new Set;h.set(l,m)}else m=h.get(l),m===void 0&&(m=new Set,h.set(l,m));m.has(c)||(m.add(c),i=RS.bind(null,i,l,c),l.then(i,i))}function Mg(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Og(i,l,c,h,m){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=Hn(-1,1),l.tag=2,gr(c,l,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var yS=j.ReactCurrentOwner,jt=!1;function Nt(i,l,c,h){l.child=i===null?Qm(l,null,c,h):Ho(l,i.child,c,h)}function Rg(i,l,c,h,m){c=c.render;var y=l.ref;return Wo(l,m),h=pf(i,l,c,h,y,m),c=mf(),i!==null&&!jt?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~m,Vn(i,l,m)):(ze&&c&&Gc(l),l.flags|=1,Nt(i,l,h,m),l.child)}function Pg(i,l,c,h,m){if(i===null){var y=c.type;return typeof y=="function"&&!Wf(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=y,Ag(i,l,y,h,m)):(i=oa(c.type,null,h,l,l.mode,m),i.ref=l.ref,i.return=l,l.child=i)}if(y=i.child,(i.lanes&m)===0){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:zi,c(w,h)&&i.ref===l.ref)return Vn(i,l,m)}return l.flags|=1,i=Sr(y,h),i.ref=l.ref,i.return=l,l.child=i}function Ag(i,l,c,h,m){if(i!==null){var y=i.memoizedProps;if(zi(y,h)&&i.ref===l.ref)if(jt=!1,l.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(jt=!0);else return l.lanes=i.lanes,Vn(i,l,m)}return Ef(i,l,c,h,m)}function Lg(i,l,c){var h=l.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Qo,Gt),Gt|=c;else{if((c&1073741824)===0)return i=y!==null?y.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Pe(Qo,Gt),Gt|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,Pe(Qo,Gt),Gt|=h}else y!==null?(h=y.baseLanes|c,l.memoizedState=null):h=c,Pe(Qo,Gt),Gt|=h;return Nt(i,l,m,c),l.child}function Dg(i,l){var c=l.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function Ef(i,l,c,h,m){var y=It(c)?Wr:xt.current;return y=Bo(l,y),Wo(l,m),c=pf(i,l,c,h,y,m),h=mf(),i!==null&&!jt?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~m,Vn(i,l,m)):(ze&&h&&Gc(l),l.flags|=1,Nt(i,l,c,m),l.child)}function _g(i,l,c,h,m){if(It(c)){var y=!0;Ol(l)}else y=!1;if(Wo(l,m),l.stateNode===null)ql(i,l),bg(l,c,h),wf(l,c,h,m),h=!0;else if(i===null){var w=l.stateNode,T=l.memoizedProps;w.props=T;var M=w.context,_=c.contextType;typeof _=="object"&&_!==null?_=nn(_):(_=It(c)?Wr:xt.current,_=Bo(l,_));var $=c.getDerivedStateFromProps,V=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function";V||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==h||M!==_)&&Eg(l,w,h,_),mr=!1;var B=l.memoizedState;w.state=B,zl(l,h,w,m),M=l.memoizedState,T!==h||B!==M||_t.current||mr?(typeof $=="function"&&(kf(l,c,$,h),M=l.memoizedState),(T=mr||Sg(l,c,T,h,B,M,_))?(V||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=M),w.props=h,w.state=M,w.context=_,h=T):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{w=l.stateNode,Ym(i,l),T=l.memoizedProps,_=l.type===l.elementType?T:mn(l.type,T),w.props=_,V=l.pendingProps,B=w.context,M=c.contextType,typeof M=="object"&&M!==null?M=nn(M):(M=It(c)?Wr:xt.current,M=Bo(l,M));var Y=c.getDerivedStateFromProps;($=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==V||B!==M)&&Eg(l,w,h,M),mr=!1,B=l.memoizedState,w.state=B,zl(l,h,w,m);var ee=l.memoizedState;T!==V||B!==ee||_t.current||mr?(typeof Y=="function"&&(kf(l,c,Y,h),ee=l.memoizedState),(_=mr||Sg(l,c,_,h,B,ee,M)||!1)?($||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ee,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ee,M)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&B===i.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&B===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=ee),w.props=h,w.state=ee,w.context=M,h=_):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&B===i.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&B===i.memoizedState||(l.flags|=1024),h=!1)}return Cf(i,l,c,h,y,m)}function Cf(i,l,c,h,m,y){Dg(i,l);var w=(l.flags&128)!==0;if(!h&&!w)return m&&Fm(l,c,!1),Vn(i,l,y);h=l.stateNode,yS.current=l;var T=w&&typeof c.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,i!==null&&w?(l.child=Ho(l,i.child,null,y),l.child=Ho(l,null,T,y)):Nt(i,l,T,y),l.memoizedState=h.state,m&&Fm(l,c,!0),l.child}function Ig(i){var l=i.stateNode;l.pendingContext?zm(i,l.pendingContext,l.pendingContext!==l.context):l.context&&zm(i,l.context,!1),af(i,l.containerInfo)}function jg(i,l,c,h,m){return Uo(),ef(m),l.flags|=256,Nt(i,l,c,h),l.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Nf(i){return{baseLanes:i,cachePool:null,transitions:null}}function zg(i,l,c){var h=l.pendingProps,m=Be.current,y=!1,w=(l.flags&128)!==0,T;if((T=w)||(T=i!==null&&i.memoizedState===null?!1:(m&2)!==0),T?(y=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Pe(Be,m&1),i===null)return Zc(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(w=h.children,i=h.fallback,y?(h=l.mode,y=l.child,w={mode:"hidden",children:w},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ia(w,h,0,null),i=to(i,h,c,null),y.return=l,i.return=l,y.sibling=i,l.child=y,l.child.memoizedState=Nf(c),l.memoizedState=Tf,i):Mf(l,w));if(m=i.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return vS(i,l,w,h,T,m,c);if(y){y=h.fallback,w=l.mode,m=i.child,T=m.sibling;var M={mode:"hidden",children:h.children};return(w&1)===0&&l.child!==m?(h=l.child,h.childLanes=0,h.pendingProps=M,l.deletions=null):(h=Sr(m,M),h.subtreeFlags=m.subtreeFlags&14680064),T!==null?y=Sr(T,y):(y=to(y,w,c,null),y.flags|=2),y.return=l,h.return=l,h.sibling=y,l.child=h,h=y,y=l.child,w=i.child.memoizedState,w=w===null?Nf(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~c,l.memoizedState=Tf,h}return y=i.child,i=y.sibling,h=Sr(y,{mode:"visible",children:h.children}),(l.mode&1)===0&&(h.lanes=c),h.return=l,h.sibling=null,i!==null&&(c=l.deletions,c===null?(l.deletions=[i],l.flags|=16):c.push(i)),l.child=h,l.memoizedState=null,h}function Mf(i,l){return l=ia({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Kl(i,l,c,h){return h!==null&&ef(h),Ho(l,i.child,null,c),i=Mf(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function vS(i,l,c,h,m,y,w){if(c)return l.flags&256?(l.flags&=-257,h=Sf(Error(t(422))),Kl(i,l,w,h)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(y=h.fallback,m=l.mode,h=ia({mode:"visible",children:h.children},m,0,null),y=to(y,m,w,null),y.flags|=2,h.return=l,y.return=l,h.sibling=y,l.child=h,(l.mode&1)!==0&&Ho(l,i.child,null,w),l.child.memoizedState=Nf(w),l.memoizedState=Tf,y);if((l.mode&1)===0)return Kl(i,l,w,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var T=h.dgst;return h=T,y=Error(t(419)),h=Sf(y,h,void 0),Kl(i,l,w,h)}if(T=(w&i.childLanes)!==0,jt||T){if(h=lt,h!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|w))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Un(i,m),vn(h,i,m,-1))}return Vf(),h=Sf(Error(t(421))),Kl(i,l,w,h)}return m.data==="$?"?(l.flags|=128,l.child=i.child,l=PS.bind(null,i),m._reactRetry=l,null):(i=y.treeContext,Qt=fr(m.nextSibling),Jt=l,ze=!0,pn=null,i!==null&&(en[tn++]=Fn,en[tn++]=$n,en[tn++]=Kr,Fn=i.id,$n=i.overflow,Kr=l),l=Mf(l,h.children),l.flags|=4096,l)}function Bg(i,l,c){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),of(i.return,l,c)}function Of(i,l,c,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function Fg(i,l,c){var h=l.pendingProps,m=h.revealOrder,y=h.tail;if(Nt(i,l,h.children,c),h=Be.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bg(i,c,l);else if(i.tag===19)Bg(i,c,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Pe(Be,h),(l.mode&1)===0)l.memoizedState=null;else switch(m){case"forwards":for(c=l.child,m=null;c!==null;)i=c.alternate,i!==null&&Bl(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=l.child,l.child=null):(m=c.sibling,c.sibling=null),Of(l,!1,m,c,y);break;case"backwards":for(c=null,m=l.child,l.child=null;m!==null;){if(i=m.alternate,i!==null&&Bl(i)===null){l.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}Of(l,!0,c,null,y);break;case"together":Of(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ql(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Vn(i,l,c){if(i!==null&&(l.dependencies=i.dependencies),Yr|=l.lanes,(c&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,c=Sr(i,i.pendingProps),l.child=c,c.return=l;i.sibling!==null;)i=i.sibling,c=c.sibling=Sr(i,i.pendingProps),c.return=l;c.sibling=null}return l.child}function xS(i,l,c){switch(l.tag){case 3:Ig(l),Uo();break;case 5:eg(l);break;case 1:It(l.type)&&Ol(l);break;case 4:af(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,m=l.memoizedProps.value;Pe(_l,h._currentValue),h._currentValue=m;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(Pe(Be,Be.current&1),l.flags|=128,null):(c&l.child.childLanes)!==0?zg(i,l,c):(Pe(Be,Be.current&1),i=Vn(i,l,c),i!==null?i.sibling:null);Pe(Be,Be.current&1);break;case 19:if(h=(c&l.childLanes)!==0,(i.flags&128)!==0){if(h)return Fg(i,l,c);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Pe(Be,Be.current),h)break;return null;case 22:case 23:return l.lanes=0,Lg(i,l,c)}return Vn(i,l,c)}var $g,Rf,Ug,Hg;$g=function(i,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Rf=function(){},Ug=function(i,l,c,h){var m=i.memoizedProps;if(m!==h){i=l.stateNode,Qr(Nn.current);var y=null;switch(c){case"input":m=oc(i,m),h=oc(i,h),y=[];break;case"select":m=Z({},m,{value:void 0}),h=Z({},h,{value:void 0}),y=[];break;case"textarea":m=lc(i,m),h=lc(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Tl)}uc(c,h);var w;c=null;for(_ in m)if(!h.hasOwnProperty(_)&&m.hasOwnProperty(_)&&m[_]!=null)if(_==="style"){var T=m[_];for(w in T)T.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?y||(y=[]):(y=y||[]).push(_,null));for(_ in h){var M=h[_];if(T=m?.[_],h.hasOwnProperty(_)&&M!==T&&(M!=null||T!=null))if(_==="style")if(T){for(w in T)!T.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in M)M.hasOwnProperty(w)&&T[w]!==M[w]&&(c||(c={}),c[w]=M[w])}else c||(y||(y=[]),y.push(_,c)),c=M;else _==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,T=T?T.__html:void 0,M!=null&&T!==M&&(y=y||[]).push(_,M)):_==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(_,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(o.hasOwnProperty(_)?(M!=null&&_==="onScroll"&&Le("scroll",i),y||T===M||(y=[])):(y=y||[]).push(_,M))}c&&(y=y||[]).push("style",c);var _=y;(l.updateQueue=_)&&(l.flags|=4)}},Hg=function(i,l,c,h){c!==h&&(l.flags|=4)};function Zi(i,l){if(!ze)switch(i.tailMode){case"hidden":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function wt(i){var l=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(l)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=c,l}function kS(i,l,c){var h=l.pendingProps;switch(Yc(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(l),null;case 1:return It(l.type)&&Ml(),wt(l),null;case 3:return h=l.stateNode,Ko(),De(_t),De(xt),ff(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ll(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,pn!==null&&($f(pn),pn=null))),Rf(i,l),wt(l),null;case 5:uf(l);var m=Qr(Ji.current);if(c=l.type,i!==null&&l.stateNode!=null)Ug(i,l,c,h,m),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(t(166));return wt(l),null}if(i=Qr(Nn.current),Ll(l)){h=l.stateNode,c=l.type;var y=l.memoizedProps;switch(h[Tn]=l,h[Hi]=y,i=(l.mode&1)!==0,c){case"dialog":Le("cancel",h),Le("close",h);break;case"iframe":case"object":case"embed":Le("load",h);break;case"video":case"audio":for(m=0;m<Fi.length;m++)Le(Fi[m],h);break;case"source":Le("error",h);break;case"img":case"image":case"link":Le("error",h),Le("load",h);break;case"details":Le("toggle",h);break;case"input":bp(h,y),Le("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Le("invalid",h);break;case"textarea":Tp(h,y),Le("invalid",h)}uc(c,y),m=null;for(var w in y)if(y.hasOwnProperty(w)){var T=y[w];w==="children"?typeof T=="string"?h.textContent!==T&&(y.suppressHydrationWarning!==!0&&Cl(h.textContent,T,i),m=["children",T]):typeof T=="number"&&h.textContent!==""+T&&(y.suppressHydrationWarning!==!0&&Cl(h.textContent,T,i),m=["children",""+T]):o.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&Le("scroll",h)}switch(c){case"input":nl(h),Cp(h,y,!0);break;case"textarea":nl(h),Mp(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Tl)}h=m,l.updateQueue=h,h!==null&&(l.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Op(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=w.createElement(c,{is:h.is}):(i=w.createElement(c),c==="select"&&(w=i,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):i=w.createElementNS(i,c),i[Tn]=l,i[Hi]=h,$g(i,l,!1,!1),l.stateNode=i;e:{switch(w=cc(c,h),c){case"dialog":Le("cancel",i),Le("close",i),m=h;break;case"iframe":case"object":case"embed":Le("load",i),m=h;break;case"video":case"audio":for(m=0;m<Fi.length;m++)Le(Fi[m],i);m=h;break;case"source":Le("error",i),m=h;break;case"img":case"image":case"link":Le("error",i),Le("load",i),m=h;break;case"details":Le("toggle",i),m=h;break;case"input":bp(i,h),m=oc(i,h),Le("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=Z({},h,{value:void 0}),Le("invalid",i);break;case"textarea":Tp(i,h),m=lc(i,h),Le("invalid",i);break;default:m=h}uc(c,m),T=m;for(y in T)if(T.hasOwnProperty(y)){var M=T[y];y==="style"?Ap(i,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Rp(i,M)):y==="children"?typeof M=="string"?(c!=="textarea"||M!=="")&&wi(i,M):typeof M=="number"&&wi(i,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&Le("scroll",i):M!=null&&P(i,y,M,w))}switch(c){case"input":nl(i),Cp(i,h,!1);break;case"textarea":nl(i),Mp(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Te(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?No(i,!!h.multiple,y,!1):h.defaultValue!=null&&No(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Tl)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return wt(l),null;case 6:if(i&&l.stateNode!=null)Hg(i,l,i.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(t(166));if(c=Qr(Ji.current),Qr(Nn.current),Ll(l)){if(h=l.stateNode,c=l.memoizedProps,h[Tn]=l,(y=h.nodeValue!==c)&&(i=Jt,i!==null))switch(i.tag){case 3:Cl(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Cl(h.nodeValue,c,(i.mode&1)!==0)}y&&(l.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Tn]=l,l.stateNode=h}return wt(l),null;case 13:if(De(Be),h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ze&&Qt!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Km(),Uo(),l.flags|=98560,y=!1;else if(y=Ll(l),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Tn]=l}else Uo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wt(l),y=!1}else pn!==null&&($f(pn),pn=null),y=!0;if(!y)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=c,l):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Be.current&1)!==0?rt===0&&(rt=3):Vf())),l.updateQueue!==null&&(l.flags|=4),wt(l),null);case 4:return Ko(),Rf(i,l),i===null&&$i(l.stateNode.containerInfo),wt(l),null;case 10:return rf(l.type._context),wt(l),null;case 17:return It(l.type)&&Ml(),wt(l),null;case 19:if(De(Be),y=l.memoizedState,y===null)return wt(l),null;if(h=(l.flags&128)!==0,w=y.rendering,w===null)if(h)Zi(y,!1);else{if(rt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(w=Bl(i),w!==null){for(l.flags|=128,Zi(y,!1),h=w.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=c,c=l.child;c!==null;)y=c,i=h,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Pe(Be,Be.current&1|2),l.child}i=i.sibling}y.tail!==null&&Qe()>Go&&(l.flags|=128,h=!0,Zi(y,!1),l.lanes=4194304)}else{if(!h)if(i=Bl(w),i!==null){if(l.flags|=128,h=!0,c=i.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),Zi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!ze)return wt(l),null}else 2*Qe()-y.renderingStartTime>Go&&c!==1073741824&&(l.flags|=128,h=!0,Zi(y,!1),l.lanes=4194304);y.isBackwards?(w.sibling=l.child,l.child=w):(c=y.last,c!==null?c.sibling=w:l.child=w,y.last=w)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Qe(),l.sibling=null,c=Be.current,Pe(Be,h?c&1|2:c&1),l):(wt(l),null);case 22:case 23:return Hf(),h=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(l.flags|=8192),h&&(l.mode&1)!==0?(Gt&1073741824)!==0&&(wt(l),l.subtreeFlags&6&&(l.flags|=8192)):wt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function wS(i,l){switch(Yc(l),l.tag){case 1:return It(l.type)&&Ml(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ko(),De(_t),De(xt),ff(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return uf(l),null;case 13:if(De(Be),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Uo()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return De(Be),null;case 4:return Ko(),null;case 10:return rf(l.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var Jl=!1,St=!1,SS=typeof WeakSet=="function"?WeakSet:Set,X=null;function Jo(i,l){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Ve(i,l,h)}else c.current=null}function Pf(i,l,c){try{c()}catch(h){Ve(i,l,h)}}var Vg=!1;function bS(i,l){if(Uc=pl,i=Sm(),Dc(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var w=0,T=-1,M=-1,_=0,$=0,V=i,B=null;t:for(;;){for(var Y;V!==c||m!==0&&V.nodeType!==3||(T=w+m),V!==y||h!==0&&V.nodeType!==3||(M=w+h),V.nodeType===3&&(w+=V.nodeValue.length),(Y=V.firstChild)!==null;)B=V,V=Y;for(;;){if(V===i)break t;if(B===c&&++_===m&&(T=w),B===y&&++$===h&&(M=w),(Y=V.nextSibling)!==null)break;V=B,B=V.parentNode}V=Y}c=T===-1||M===-1?null:{start:T,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(Hc={focusedElem:i,selectionRange:c},pl=!1,X=l;X!==null;)if(l=X,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,X=i;else for(;X!==null;){l=X;try{var ee=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Ge=ee.memoizedState,L=l.stateNode,R=L.getSnapshotBeforeUpdate(l.elementType===l.type?te:mn(l.type,te),Ge);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var D=l.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(q){Ve(l,l.return,q)}if(i=l.sibling,i!==null){i.return=l.return,X=i;break}X=l.return}return ee=Vg,Vg=!1,ee}function es(i,l,c){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Pf(l,c,y)}m=m.next}while(m!==h)}}function Ql(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==l)}}function Af(i){var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof l=="function"?l(i):l.current=i}}function Wg(i){var l=i.alternate;l!==null&&(i.alternate=null,Wg(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Tn],delete l[Hi],delete l[qc],delete l[iS],delete l[sS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Kg(i){return i.tag===5||i.tag===3||i.tag===4}function qg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lf(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(i,l):c.insertBefore(i,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(i,c)):(l=c,l.appendChild(i)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Tl));else if(h!==4&&(i=i.child,i!==null))for(Lf(i,l,c),i=i.sibling;i!==null;)Lf(i,l,c),i=i.sibling}function Df(i,l,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?c.insertBefore(i,l):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Df(i,l,c),i=i.sibling;i!==null;)Df(i,l,c),i=i.sibling}var pt=null,gn=!1;function yr(i,l,c){for(c=c.child;c!==null;)Jg(i,l,c),c=c.sibling}function Jg(i,l,c){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(al,c)}catch{}switch(c.tag){case 5:St||Jo(c,l);case 6:var h=pt,m=gn;pt=null,yr(i,l,c),pt=h,gn=m,pt!==null&&(gn?(i=pt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):pt.removeChild(c.stateNode));break;case 18:pt!==null&&(gn?(i=pt,c=c.stateNode,i.nodeType===8?Kc(i.parentNode,c):i.nodeType===1&&Kc(i,c),Ai(i)):Kc(pt,c.stateNode));break;case 4:h=pt,m=gn,pt=c.stateNode.containerInfo,gn=!0,yr(i,l,c),pt=h,gn=m;break;case 0:case 11:case 14:case 15:if(!St&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&Pf(c,l,w),m=m.next}while(m!==h)}yr(i,l,c);break;case 1:if(!St&&(Jo(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(T){Ve(c,l,T)}yr(i,l,c);break;case 21:yr(i,l,c);break;case 22:c.mode&1?(St=(h=St)||c.memoizedState!==null,yr(i,l,c),St=h):yr(i,l,c);break;default:yr(i,l,c)}}function Qg(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new SS),l.forEach(function(h){var m=AS.bind(null,i,h);c.has(h)||(c.add(h),h.then(m,m))})}}function yn(i,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var y=i,w=l,T=w;e:for(;T!==null;){switch(T.tag){case 5:pt=T.stateNode,gn=!1;break e;case 3:pt=T.stateNode.containerInfo,gn=!0;break e;case 4:pt=T.stateNode.containerInfo,gn=!0;break e}T=T.return}if(pt===null)throw Error(t(160));Jg(y,w,m),pt=null,gn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(_){Ve(m,l,_)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Gg(l,i),l=l.sibling}function Gg(i,l){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(yn(l,i),On(i),h&4){try{es(3,i,i.return),Ql(3,i)}catch(te){Ve(i,i.return,te)}try{es(5,i,i.return)}catch(te){Ve(i,i.return,te)}}break;case 1:yn(l,i),On(i),h&512&&c!==null&&Jo(c,c.return);break;case 5:if(yn(l,i),On(i),h&512&&c!==null&&Jo(c,c.return),i.flags&32){var m=i.stateNode;try{wi(m,"")}catch(te){Ve(i,i.return,te)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,w=c!==null?c.memoizedProps:y,T=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{T==="input"&&y.type==="radio"&&y.name!=null&&Ep(m,y),cc(T,w);var _=cc(T,y);for(w=0;w<M.length;w+=2){var $=M[w],V=M[w+1];$==="style"?Ap(m,V):$==="dangerouslySetInnerHTML"?Rp(m,V):$==="children"?wi(m,V):P(m,$,V,_)}switch(T){case"input":ic(m,y);break;case"textarea":Np(m,y);break;case"select":var B=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var Y=y.value;Y!=null?No(m,!!y.multiple,Y,!1):B!==!!y.multiple&&(y.defaultValue!=null?No(m,!!y.multiple,y.defaultValue,!0):No(m,!!y.multiple,y.multiple?[]:"",!1))}m[Hi]=y}catch(te){Ve(i,i.return,te)}}break;case 6:if(yn(l,i),On(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(te){Ve(i,i.return,te)}}break;case 3:if(yn(l,i),On(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ai(l.containerInfo)}catch(te){Ve(i,i.return,te)}break;case 4:yn(l,i),On(i);break;case 13:yn(l,i),On(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(jf=Qe())),h&4&&Qg(i);break;case 22:if($=c!==null&&c.memoizedState!==null,i.mode&1?(St=(_=St)||$,yn(l,i),St=_):yn(l,i),On(i),h&8192){if(_=i.memoizedState!==null,(i.stateNode.isHidden=_)&&!$&&(i.mode&1)!==0)for(X=i,$=i.child;$!==null;){for(V=X=$;X!==null;){switch(B=X,Y=B.child,B.tag){case 0:case 11:case 14:case 15:es(4,B,B.return);break;case 1:Jo(B,B.return);var ee=B.stateNode;if(typeof ee.componentWillUnmount=="function"){h=B,c=B.return;try{l=h,ee.props=l.memoizedProps,ee.state=l.memoizedState,ee.componentWillUnmount()}catch(te){Ve(h,c,te)}}break;case 5:Jo(B,B.return);break;case 22:if(B.memoizedState!==null){Zg(V);continue}}Y!==null?(Y.return=B,X=Y):Zg(V)}$=$.sibling}e:for($=null,V=i;;){if(V.tag===5){if($===null){$=V;try{m=V.stateNode,_?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(T=V.stateNode,M=V.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,T.style.display=Pp("display",w))}catch(te){Ve(i,i.return,te)}}}else if(V.tag===6){if($===null)try{V.stateNode.nodeValue=_?"":V.memoizedProps}catch(te){Ve(i,i.return,te)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===i)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===i)break e;for(;V.sibling===null;){if(V.return===null||V.return===i)break e;$===V&&($=null),V=V.return}$===V&&($=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:yn(l,i),On(i),h&4&&Qg(i);break;case 21:break;default:yn(l,i),On(i)}}function On(i){var l=i.flags;if(l&2){try{e:{for(var c=i.return;c!==null;){if(Kg(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(wi(m,""),h.flags&=-33);var y=qg(i);Df(i,y,m);break;case 3:case 4:var w=h.stateNode.containerInfo,T=qg(i);Lf(i,T,w);break;default:throw Error(t(161))}}catch(M){Ve(i,i.return,M)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function ES(i,l,c){X=i,Yg(i)}function Yg(i,l,c){for(var h=(i.mode&1)!==0;X!==null;){var m=X,y=m.child;if(m.tag===22&&h){var w=m.memoizedState!==null||Jl;if(!w){var T=m.alternate,M=T!==null&&T.memoizedState!==null||St;T=Jl;var _=St;if(Jl=w,(St=M)&&!_)for(X=m;X!==null;)w=X,M=w.child,w.tag===22&&w.memoizedState!==null?ey(m):M!==null?(M.return=w,X=M):ey(m);for(;y!==null;)X=y,Yg(y),y=y.sibling;X=m,Jl=T,St=_}Xg(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,X=y):Xg(i)}}function Xg(i){for(;X!==null;){var l=X;if((l.flags&8772)!==0){var c=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:St||Ql(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!St)if(c===null)h.componentDidMount();else{var m=l.elementType===l.type?c.memoizedProps:mn(l.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=l.updateQueue;y!==null&&Zm(l,y,h);break;case 3:var w=l.updateQueue;if(w!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}Zm(l,w,c)}break;case 5:var T=l.stateNode;if(c===null&&l.flags&4){c=T;var M=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&c.focus();break;case"img":M.src&&(c.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var _=l.alternate;if(_!==null){var $=_.memoizedState;if($!==null){var V=$.dehydrated;V!==null&&Ai(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}St||l.flags&512&&Af(l)}catch(B){Ve(l,l.return,B)}}if(l===i){X=null;break}if(c=l.sibling,c!==null){c.return=l.return,X=c;break}X=l.return}}function Zg(i){for(;X!==null;){var l=X;if(l===i){X=null;break}var c=l.sibling;if(c!==null){c.return=l.return,X=c;break}X=l.return}}function ey(i){for(;X!==null;){var l=X;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{Ql(4,l)}catch(M){Ve(l,c,M)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var m=l.return;try{h.componentDidMount()}catch(M){Ve(l,m,M)}}var y=l.return;try{Af(l)}catch(M){Ve(l,y,M)}break;case 5:var w=l.return;try{Af(l)}catch(M){Ve(l,w,M)}}}catch(M){Ve(l,l.return,M)}if(l===i){X=null;break}var T=l.sibling;if(T!==null){T.return=l.return,X=T;break}X=l.return}}var CS=Math.ceil,Gl=j.ReactCurrentDispatcher,_f=j.ReactCurrentOwner,on=j.ReactCurrentBatchConfig,ke=0,lt=null,Xe=null,mt=0,Gt=0,Qo=dr(0),rt=0,ts=null,Yr=0,Yl=0,If=0,ns=null,zt=null,jf=0,Go=1/0,Wn=null,Xl=!1,zf=null,vr=null,Zl=!1,xr=null,ea=0,rs=0,Bf=null,ta=-1,na=0;function Mt(){return(ke&6)!==0?Qe():ta!==-1?ta:ta=Qe()}function kr(i){return(i.mode&1)===0?1:(ke&2)!==0&&mt!==0?mt&-mt:aS.transition!==null?(na===0&&(na=qp()),na):(i=Ne,i!==0||(i=window.event,i=i===void 0?16:nm(i.type)),i)}function vn(i,l,c,h){if(50<rs)throw rs=0,Bf=null,Error(t(185));Ni(i,c,h),((ke&2)===0||i!==lt)&&(i===lt&&((ke&2)===0&&(Yl|=c),rt===4&&wr(i,mt)),Bt(i,h),c===1&&ke===0&&(l.mode&1)===0&&(Go=Qe()+500,Rl&&pr()))}function Bt(i,l){var c=i.callbackNode;aw(i,l);var h=fl(i,i===lt?mt:0);if(h===0)c!==null&&Vp(c),i.callbackNode=null,i.callbackPriority=0;else if(l=h&-h,i.callbackPriority!==l){if(c!=null&&Vp(c),l===1)i.tag===0?lS(ny.bind(null,i)):$m(ny.bind(null,i)),rS(function(){(ke&6)===0&&pr()}),c=null;else{switch(Jp(h)){case 1:c=yc;break;case 4:c=Wp;break;case 16:c=ll;break;case 536870912:c=Kp;break;default:c=ll}c=cy(c,ty.bind(null,i))}i.callbackPriority=l,i.callbackNode=c}}function ty(i,l){if(ta=-1,na=0,(ke&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Yo()&&i.callbackNode!==c)return null;var h=fl(i,i===lt?mt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||l)l=ra(i,h);else{l=h;var m=ke;ke|=2;var y=oy();(lt!==i||mt!==l)&&(Wn=null,Go=Qe()+500,Zr(i,l));do try{MS();break}catch(T){ry(i,T)}while(!0);nf(),Gl.current=y,ke=m,Xe!==null?l=0:(lt=null,mt=0,l=rt)}if(l!==0){if(l===2&&(m=vc(i),m!==0&&(h=m,l=Ff(i,m))),l===1)throw c=ts,Zr(i,0),wr(i,h),Bt(i,Qe()),c;if(l===6)wr(i,h);else{if(m=i.current.alternate,(h&30)===0&&!TS(m)&&(l=ra(i,h),l===2&&(y=vc(i),y!==0&&(h=y,l=Ff(i,y))),l===1))throw c=ts,Zr(i,0),wr(i,h),Bt(i,Qe()),c;switch(i.finishedWork=m,i.finishedLanes=h,l){case 0:case 1:throw Error(t(345));case 2:eo(i,zt,Wn);break;case 3:if(wr(i,h),(h&130023424)===h&&(l=jf+500-Qe(),10<l)){if(fl(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Mt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Wc(eo.bind(null,i,zt,Wn),l);break}eo(i,zt,Wn);break;case 4:if(wr(i,h),(h&4194240)===h)break;for(l=i.eventTimes,m=-1;0<h;){var w=31-dn(h);y=1<<w,w=l[w],w>m&&(m=w),h&=~y}if(h=m,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*CS(h/1960))-h,10<h){i.timeoutHandle=Wc(eo.bind(null,i,zt,Wn),h);break}eo(i,zt,Wn);break;case 5:eo(i,zt,Wn);break;default:throw Error(t(329))}}}return Bt(i,Qe()),i.callbackNode===c?ty.bind(null,i):null}function Ff(i,l){var c=ns;return i.current.memoizedState.isDehydrated&&(Zr(i,l).flags|=256),i=ra(i,l),i!==2&&(l=zt,zt=c,l!==null&&$f(l)),i}function $f(i){zt===null?zt=i:zt.push.apply(zt,i)}function TS(i){for(var l=i;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!hn(y(),m))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wr(i,l){for(l&=~If,l&=~Yl,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var c=31-dn(l),h=1<<c;i[c]=-1,l&=~h}}function ny(i){if((ke&6)!==0)throw Error(t(327));Yo();var l=fl(i,0);if((l&1)===0)return Bt(i,Qe()),null;var c=ra(i,l);if(i.tag!==0&&c===2){var h=vc(i);h!==0&&(l=h,c=Ff(i,h))}if(c===1)throw c=ts,Zr(i,0),wr(i,l),Bt(i,Qe()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,eo(i,zt,Wn),Bt(i,Qe()),null}function Uf(i,l){var c=ke;ke|=1;try{return i(l)}finally{ke=c,ke===0&&(Go=Qe()+500,Rl&&pr())}}function Xr(i){xr!==null&&xr.tag===0&&(ke&6)===0&&Yo();var l=ke;ke|=1;var c=on.transition,h=Ne;try{if(on.transition=null,Ne=1,i)return i()}finally{Ne=h,on.transition=c,ke=l,(ke&6)===0&&pr()}}function Hf(){Gt=Qo.current,De(Qo)}function Zr(i,l){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,nS(c)),Xe!==null)for(c=Xe.return;c!==null;){var h=c;switch(Yc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ml();break;case 3:Ko(),De(_t),De(xt),ff();break;case 5:uf(h);break;case 4:Ko();break;case 13:De(Be);break;case 19:De(Be);break;case 10:rf(h.type._context);break;case 22:case 23:Hf()}c=c.return}if(lt=i,Xe=i=Sr(i.current,null),mt=Gt=l,rt=0,ts=null,If=Yl=Yr=0,zt=ns=null,Jr!==null){for(l=0;l<Jr.length;l++)if(c=Jr[l],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,y=c.pending;if(y!==null){var w=y.next;y.next=m,h.next=w}c.pending=h}Jr=null}return i}function ry(i,l){do{var c=Xe;try{if(nf(),Fl.current=Vl,$l){for(var h=Fe.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}$l=!1}if(Gr=0,st=nt=Fe=null,Qi=!1,Gi=0,_f.current=null,c===null||c.return===null){rt=1,ts=l,Xe=null;break}e:{var y=i,w=c.return,T=c,M=l;if(l=mt,T.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var _=M,$=T,V=$.tag;if(($.mode&1)===0&&(V===0||V===11||V===15)){var B=$.alternate;B?($.updateQueue=B.updateQueue,$.memoizedState=B.memoizedState,$.lanes=B.lanes):($.updateQueue=null,$.memoizedState=null)}var Y=Mg(w);if(Y!==null){Y.flags&=-257,Og(Y,w,T,y,l),Y.mode&1&&Ng(y,_,l),l=Y,M=_;var ee=l.updateQueue;if(ee===null){var te=new Set;te.add(M),l.updateQueue=te}else ee.add(M);break e}else{if((l&1)===0){Ng(y,_,l),Vf();break e}M=Error(t(426))}}else if(ze&&T.mode&1){var Ge=Mg(w);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Og(Ge,w,T,y,l),ef(qo(M,T));break e}}y=M=qo(M,T),rt!==4&&(rt=2),ns===null?ns=[y]:ns.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,l&=-l,y.lanes|=l;var L=Cg(y,M,l);Xm(y,L);break e;case 1:T=M;var R=y.type,D=y.stateNode;if((y.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(vr===null||!vr.has(D)))){y.flags|=65536,l&=-l,y.lanes|=l;var q=Tg(y,T,l);Xm(y,q);break e}}y=y.return}while(y!==null)}sy(c)}catch(ne){l=ne,Xe===c&&c!==null&&(Xe=c=c.return);continue}break}while(!0)}function oy(){var i=Gl.current;return Gl.current=Vl,i===null?Vl:i}function Vf(){(rt===0||rt===3||rt===2)&&(rt=4),lt===null||(Yr&268435455)===0&&(Yl&268435455)===0||wr(lt,mt)}function ra(i,l){var c=ke;ke|=2;var h=oy();(lt!==i||mt!==l)&&(Wn=null,Zr(i,l));do try{NS();break}catch(m){ry(i,m)}while(!0);if(nf(),ke=c,Gl.current=h,Xe!==null)throw Error(t(261));return lt=null,mt=0,rt}function NS(){for(;Xe!==null;)iy(Xe)}function MS(){for(;Xe!==null&&!Zk();)iy(Xe)}function iy(i){var l=uy(i.alternate,i,Gt);i.memoizedProps=i.pendingProps,l===null?sy(i):Xe=l,_f.current=null}function sy(i){var l=i;do{var c=l.alternate;if(i=l.return,(l.flags&32768)===0){if(c=kS(c,l,Gt),c!==null){Xe=c;return}}else{if(c=wS(c,l),c!==null){c.flags&=32767,Xe=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{rt=6,Xe=null;return}}if(l=l.sibling,l!==null){Xe=l;return}Xe=l=i}while(l!==null);rt===0&&(rt=5)}function eo(i,l,c){var h=Ne,m=on.transition;try{on.transition=null,Ne=1,OS(i,l,c,h)}finally{on.transition=m,Ne=h}return null}function OS(i,l,c,h){do Yo();while(xr!==null);if((ke&6)!==0)throw Error(t(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=c.lanes|c.childLanes;if(uw(i,y),i===lt&&(Xe=lt=null,mt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Zl||(Zl=!0,cy(ll,function(){return Yo(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=on.transition,on.transition=null;var w=Ne;Ne=1;var T=ke;ke|=4,_f.current=null,bS(i,c),Gg(c,i),Qw(Hc),pl=!!Uc,Hc=Uc=null,i.current=c,ES(c),ew(),ke=T,Ne=w,on.transition=y}else i.current=c;if(Zl&&(Zl=!1,xr=i,ea=m),y=i.pendingLanes,y===0&&(vr=null),rw(c.stateNode),Bt(i,Qe()),l!==null)for(h=i.onRecoverableError,c=0;c<l.length;c++)m=l[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Xl)throw Xl=!1,i=zf,zf=null,i;return(ea&1)!==0&&i.tag!==0&&Yo(),y=i.pendingLanes,(y&1)!==0?i===Bf?rs++:(rs=0,Bf=i):rs=0,pr(),null}function Yo(){if(xr!==null){var i=Jp(ea),l=on.transition,c=Ne;try{if(on.transition=null,Ne=16>i?16:i,xr===null)var h=!1;else{if(i=xr,xr=null,ea=0,(ke&6)!==0)throw Error(t(331));var m=ke;for(ke|=4,X=i.current;X!==null;){var y=X,w=y.child;if((X.flags&16)!==0){var T=y.deletions;if(T!==null){for(var M=0;M<T.length;M++){var _=T[M];for(X=_;X!==null;){var $=X;switch($.tag){case 0:case 11:case 15:es(8,$,y)}var V=$.child;if(V!==null)V.return=$,X=V;else for(;X!==null;){$=X;var B=$.sibling,Y=$.return;if(Wg($),$===_){X=null;break}if(B!==null){B.return=Y,X=B;break}X=Y}}}var ee=y.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Ge=te.sibling;te.sibling=null,te=Ge}while(te!==null)}}X=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,X=w;else e:for(;X!==null;){if(y=X,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:es(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,X=L;break e}X=y.return}}var R=i.current;for(X=R;X!==null;){w=X;var D=w.child;if((w.subtreeFlags&2064)!==0&&D!==null)D.return=w,X=D;else e:for(w=R;X!==null;){if(T=X,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Ql(9,T)}}catch(ne){Ve(T,T.return,ne)}if(T===w){X=null;break e}var q=T.sibling;if(q!==null){q.return=T.return,X=q;break e}X=T.return}}if(ke=m,pr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(al,i)}catch{}h=!0}return h}finally{Ne=c,on.transition=l}}return!1}function ly(i,l,c){l=qo(c,l),l=Cg(i,l,1),i=gr(i,l,1),l=Mt(),i!==null&&(Ni(i,1,l),Bt(i,l))}function Ve(i,l,c){if(i.tag===3)ly(i,i,c);else for(;l!==null;){if(l.tag===3){ly(l,i,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vr===null||!vr.has(h))){i=qo(c,i),i=Tg(l,i,1),l=gr(l,i,1),i=Mt(),l!==null&&(Ni(l,1,i),Bt(l,i));break}}l=l.return}}function RS(i,l,c){var h=i.pingCache;h!==null&&h.delete(l),l=Mt(),i.pingedLanes|=i.suspendedLanes&c,lt===i&&(mt&c)===c&&(rt===4||rt===3&&(mt&130023424)===mt&&500>Qe()-jf?Zr(i,0):If|=c),Bt(i,l)}function ay(i,l){l===0&&((i.mode&1)===0?l=1:(l=cl,cl<<=1,(cl&130023424)===0&&(cl=4194304)));var c=Mt();i=Un(i,l),i!==null&&(Ni(i,l,c),Bt(i,c))}function PS(i){var l=i.memoizedState,c=0;l!==null&&(c=l.retryLane),ay(i,c)}function AS(i,l){var c=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(l),ay(i,c)}var uy;uy=function(i,l,c){if(i!==null)if(i.memoizedProps!==l.pendingProps||_t.current)jt=!0;else{if((i.lanes&c)===0&&(l.flags&128)===0)return jt=!1,xS(i,l,c);jt=(i.flags&131072)!==0}else jt=!1,ze&&(l.flags&1048576)!==0&&Um(l,Al,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;ql(i,l),i=l.pendingProps;var m=Bo(l,xt.current);Wo(l,c),m=pf(null,l,h,i,m,c);var y=mf();return l.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,It(h)?(y=!0,Ol(l)):y=!1,l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,lf(l),m.updater=Wl,l.stateNode=m,m._reactInternals=l,wf(l,h,i,c),l=Cf(null,l,h,!0,y,c)):(l.tag=0,ze&&y&&Gc(l),Nt(null,l,m,c),l=l.child),l;case 16:h=l.elementType;e:{switch(ql(i,l),i=l.pendingProps,m=h._init,h=m(h._payload),l.type=h,m=l.tag=DS(h),i=mn(h,i),m){case 0:l=Ef(null,l,h,i,c);break e;case 1:l=_g(null,l,h,i,c);break e;case 11:l=Rg(null,l,h,i,c);break e;case 14:l=Pg(null,l,h,mn(h.type,i),c);break e}throw Error(t(306,h,""))}return l;case 0:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:mn(h,m),Ef(i,l,h,m,c);case 1:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:mn(h,m),_g(i,l,h,m,c);case 3:e:{if(Ig(l),i===null)throw Error(t(387));h=l.pendingProps,y=l.memoizedState,m=y.element,Ym(i,l),zl(l,h,null,c);var w=l.memoizedState;if(h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){m=qo(Error(t(423)),l),l=jg(i,l,h,c,m);break e}else if(h!==m){m=qo(Error(t(424)),l),l=jg(i,l,h,c,m);break e}else for(Qt=fr(l.stateNode.containerInfo.firstChild),Jt=l,ze=!0,pn=null,c=Qm(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Uo(),h===m){l=Vn(i,l,c);break e}Nt(i,l,h,c)}l=l.child}return l;case 5:return eg(l),i===null&&Zc(l),h=l.type,m=l.pendingProps,y=i!==null?i.memoizedProps:null,w=m.children,Vc(h,m)?w=null:y!==null&&Vc(h,y)&&(l.flags|=32),Dg(i,l),Nt(i,l,w,c),l.child;case 6:return i===null&&Zc(l),null;case 13:return zg(i,l,c);case 4:return af(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=Ho(l,null,h,c):Nt(i,l,h,c),l.child;case 11:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:mn(h,m),Rg(i,l,h,m,c);case 7:return Nt(i,l,l.pendingProps,c),l.child;case 8:return Nt(i,l,l.pendingProps.children,c),l.child;case 12:return Nt(i,l,l.pendingProps.children,c),l.child;case 10:e:{if(h=l.type._context,m=l.pendingProps,y=l.memoizedProps,w=m.value,Pe(_l,h._currentValue),h._currentValue=w,y!==null)if(hn(y.value,w)){if(y.children===m.children&&!_t.current){l=Vn(i,l,c);break e}}else for(y=l.child,y!==null&&(y.return=l);y!==null;){var T=y.dependencies;if(T!==null){w=y.child;for(var M=T.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=Hn(-1,c&-c),M.tag=2;var _=y.updateQueue;if(_!==null){_=_.shared;var $=_.pending;$===null?M.next=M:(M.next=$.next,$.next=M),_.pending=M}}y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),of(y.return,c,l),T.lanes|=c;break}M=M.next}}else if(y.tag===10)w=y.type===l.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=c,T=w.alternate,T!==null&&(T.lanes|=c),of(w,c,l),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===l){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Nt(i,l,m.children,c),l=l.child}return l;case 9:return m=l.type,h=l.pendingProps.children,Wo(l,c),m=nn(m),h=h(m),l.flags|=1,Nt(i,l,h,c),l.child;case 14:return h=l.type,m=mn(h,l.pendingProps),m=mn(h.type,m),Pg(i,l,h,m,c);case 15:return Ag(i,l,l.type,l.pendingProps,c);case 17:return h=l.type,m=l.pendingProps,m=l.elementType===h?m:mn(h,m),ql(i,l),l.tag=1,It(h)?(i=!0,Ol(l)):i=!1,Wo(l,c),bg(l,h,m),wf(l,h,m,c),Cf(null,l,h,!0,i,c);case 19:return Fg(i,l,c);case 22:return Lg(i,l,c)}throw Error(t(156,l.tag))};function cy(i,l){return Hp(i,l)}function LS(i,l,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(i,l,c,h){return new LS(i,l,c,h)}function Wf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function DS(i){if(typeof i=="function")return Wf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===He)return 11;if(i===it)return 14}return 2}function Sr(i,l){var c=i.alternate;return c===null?(c=sn(i.tag,l,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=l,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,l=i.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function oa(i,l,c,h,m,y){var w=2;if(h=i,typeof i=="function")Wf(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case K:return to(c.children,m,y,l);case H:w=8,m|=8;break;case re:return i=sn(12,c,l,m|2),i.elementType=re,i.lanes=y,i;case Je:return i=sn(13,c,l,m),i.elementType=Je,i.lanes=y,i;case ht:return i=sn(19,c,l,m),i.elementType=ht,i.lanes=y,i;case we:return ia(c,m,y,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case de:w=10;break e;case Ae:w=9;break e;case He:w=11;break e;case it:w=14;break e;case Ie:w=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=sn(w,c,l,m),l.elementType=i,l.type=h,l.lanes=y,l}function to(i,l,c,h){return i=sn(7,i,h,l),i.lanes=c,i}function ia(i,l,c,h){return i=sn(22,i,h,l),i.elementType=we,i.lanes=c,i.stateNode={isHidden:!1},i}function Kf(i,l,c){return i=sn(6,i,null,l),i.lanes=c,i}function qf(i,l,c){return l=sn(4,i.children!==null?i.children:[],i.key,l),l.lanes=c,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function _S(i,l,c,h,m){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Jf(i,l,c,h,m,y,w,T,M){return i=new _S(i,l,c,T,M),l===1?(l=1,y===!0&&(l|=8)):l=0,y=sn(3,null,null,l),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(y),i}function IS(i,l,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:h==null?null:""+h,children:i,containerInfo:l,implementation:c}}function fy(i){if(!i)return hr;i=i._reactInternals;e:{if(Hr(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(It(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(It(c))return Bm(i,c,l)}return l}function dy(i,l,c,h,m,y,w,T,M){return i=Jf(c,h,!0,i,m,y,w,T,M),i.context=fy(null),c=i.current,h=Mt(),m=kr(c),y=Hn(h,m),y.callback=l??null,gr(c,y,m),i.current.lanes=m,Ni(i,m,h),Bt(i,h),i}function sa(i,l,c,h){var m=l.current,y=Mt(),w=kr(m);return c=fy(c),l.context===null?l.context=c:l.pendingContext=c,l=Hn(y,w),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=gr(m,l,w),i!==null&&(vn(i,m,w,y),jl(i,m,w)),w}function la(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hy(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<l?c:l}}function Qf(i,l){hy(i,l),(i=i.alternate)&&hy(i,l)}function jS(){return null}var py=typeof reportError=="function"?reportError:function(i){console.error(i)};function Gf(i){this._internalRoot=i}aa.prototype.render=Gf.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));sa(i,l,null,null)},aa.prototype.unmount=Gf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Xr(function(){sa(null,i,null,null)}),l[zn]=null}};function aa(i){this._internalRoot=i}aa.prototype.unstable_scheduleHydration=function(i){if(i){var l=Yp();i={blockedOn:null,target:i,priority:l};for(var c=0;c<ar.length&&l!==0&&l<ar[c].priority;c++);ar.splice(c,0,i),c===0&&em(i)}};function Yf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ua(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function my(){}function zS(i,l,c,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var _=la(w);y.call(_)}}var w=dy(l,h,i,0,null,!1,!1,"",my);return i._reactRootContainer=w,i[zn]=w.current,$i(i.nodeType===8?i.parentNode:i),Xr(),w}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var T=h;h=function(){var _=la(M);T.call(_)}}var M=Jf(i,0,!1,null,null,!1,!1,"",my);return i._reactRootContainer=M,i[zn]=M.current,$i(i.nodeType===8?i.parentNode:i),Xr(function(){sa(l,M,c,h)}),M}function ca(i,l,c,h,m){var y=c._reactRootContainer;if(y){var w=y;if(typeof m=="function"){var T=m;m=function(){var M=la(w);T.call(M)}}sa(l,w,i,m)}else w=zS(c,l,i,m,h);return la(w)}Qp=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var c=Ti(l.pendingLanes);c!==0&&(kc(l,c|1),Bt(l,Qe()),(ke&6)===0&&(Go=Qe()+500,pr()))}break;case 13:Xr(function(){var h=Un(i,1);if(h!==null){var m=Mt();vn(h,i,1,m)}}),Qf(i,1)}},wc=function(i){if(i.tag===13){var l=Un(i,134217728);if(l!==null){var c=Mt();vn(l,i,134217728,c)}Qf(i,134217728)}},Gp=function(i){if(i.tag===13){var l=kr(i),c=Un(i,l);if(c!==null){var h=Mt();vn(c,i,l,h)}Qf(i,l)}},Yp=function(){return Ne},Xp=function(i,l){var c=Ne;try{return Ne=i,l()}finally{Ne=c}},hc=function(i,l,c){switch(l){case"input":if(ic(i,c),l=c.name,c.type==="radio"&&l!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==i&&h.form===i.form){var m=Nl(h);if(!m)throw Error(t(90));Sp(h),ic(h,m)}}}break;case"textarea":Np(i,c);break;case"select":l=c.value,l!=null&&No(i,!!c.multiple,l,!1)}},Ip=Uf,jp=Xr;var BS={usingClientEntryPoint:!1,Events:[Vi,jo,Nl,Dp,_p,Uf]},is={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FS={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=$p(i),i===null?null:i.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||jS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{al=fa.inject(FS),Cn=fa}catch{}}return Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BS,Ft.createPortal=function(i,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yf(l))throw Error(t(200));return IS(i,l,null,c)},Ft.createRoot=function(i,l){if(!Yf(i))throw Error(t(299));var c=!1,h="",m=py;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(m=l.onRecoverableError)),l=Jf(i,1,!1,null,null,c,!1,h,m),i[zn]=l.current,$i(i.nodeType===8?i.parentNode:i),new Gf(l)},Ft.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=$p(l),i=i===null?null:i.stateNode,i},Ft.flushSync=function(i){return Xr(i)},Ft.hydrate=function(i,l,c){if(!ua(l))throw Error(t(200));return ca(null,i,l,!0,c)},Ft.hydrateRoot=function(i,l,c){if(!Yf(i))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,y="",w=py;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),l=dy(l,null,i,1,c??null,m,!1,y,w),i[zn]=l.current,$i(i),h)for(i=0;i<h.length;i++)c=h[i],m=c._getVersion,m=m(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,m]:l.mutableSourceEagerHydrationData.push(c,m);return new aa(l)},Ft.render=function(i,l,c){if(!ua(l))throw Error(t(200));return ca(null,i,l,!1,c)},Ft.unmountComponentAtNode=function(i){if(!ua(i))throw Error(t(40));return i._reactRootContainer?(Xr(function(){ca(null,null,i,!1,function(){i._reactRootContainer=null,i[zn]=null})}),!0):!1},Ft.unstable_batchedUpdates=Uf,Ft.unstable_renderSubtreeIntoContainer=function(i,l,c,h){if(!ua(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ca(i,l,c,!1,h)},Ft.version="18.3.1-next-f1338f8080-20240426",Ft}var by;function gv(){if(by)return ed.exports;by=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ed.exports=qS(),ed.exports}var Ey;function JS(){if(Ey)return da;Ey=1;var n=gv();return da.createRoot=n.createRoot,da.hydrateRoot=n.hydrateRoot,da}var QS=JS();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cy="popstate";function GS(n={}){function e(r,o){let{pathname:s,search:a,hash:u}=r.location;return Fd("",{pathname:s,search:a,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Ns(o)}return XS(e,t,null,n)}function Ue(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YS(){return Math.random().toString(36).substring(2,10)}function Ty(n,e){return{usr:n.state,key:n.key,idx:e}}function Fd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mi(e):e,state:t,key:e&&e.key||r||YS()}}function Ns({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XS(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,u="POP",f=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function g(){u="POP";let b=p(),E=b==null?null:b-d;d=b,f&&f({action:u,location:S.location,delta:E})}function v(b,E){u="PUSH";let N=Fd(S.location,b,E);d=p()+1;let P=Ty(N,d),j=S.createHref(N);try{a.pushState(P,"",j)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(j)}s&&f&&f({action:u,location:S.location,delta:1})}function x(b,E){u="REPLACE";let N=Fd(S.location,b,E);d=p();let P=Ty(N,d),j=S.createHref(N);a.replaceState(P,"",j),s&&f&&f({action:u,location:S.location,delta:0})}function k(b){return ZS(b)}let S={get action(){return u},get location(){return n(o,a)},listen(b){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Cy,g),f=b,()=>{o.removeEventListener(Cy,g),f=null}},createHref(b){return e(o,b)},createURL:k,encodeLocation(b){let E=k(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:x,go(b){return a.go(b)}};return S}function ZS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ns(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function yv(n,e,t="/"){return eb(n,e,t,!1)}function eb(n,e,t,r){let o=typeof e=="string"?mi(e):e,s=tr(o.pathname||"/",t);if(s==null)return null;let a=vv(n);tb(a);let u=null;for(let f=0;u==null&&f<a.length;++f){let d=db(s);u=cb(a[f],d,r)}return u}function vv(n,e=[],t=[],r=""){let o=(s,a,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};f.relativePath.startsWith("/")&&(Ue(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Xn([r,f.relativePath]),p=t.concat(f);s.children&&s.children.length>0&&(Ue(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vv(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:ab(d,s.index),routesMeta:p})};return n.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))o(s,a);else for(let u of xv(s.path))o(s,a,u)}),e}function xv(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let a=xv(r.join("/")),u=[];return u.push(...a.map(f=>f===""?s:[s,f].join("/"))),o&&u.push(...a),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function tb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ub(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var nb=/^:[\w-]+$/,rb=3,ob=2,ib=1,sb=10,lb=-2,Ny=n=>n==="*";function ab(n,e){let t=n.split("/"),r=t.length;return t.some(Ny)&&(r+=lb),e&&(r+=ob),t.filter(o=>!Ny(o)).reduce((o,s)=>o+(nb.test(s)?rb:s===""?ib:sb),r)}function ub(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function cb(n,e,t=!1){let{routesMeta:r}=n,o={},s="/",a=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=ja({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),v=f.route;if(!g&&d&&t&&!r[r.length-1].route.index&&(g=ja({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(o,g.params),a.push({params:o,pathname:Xn([s,g.pathname]),pathnameBase:gb(Xn([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Xn([s,g.pathnameBase]))}return a}function ja(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=fb(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let s=o[0],a=s.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:g},v)=>{if(p==="*"){let k=u[v]||"";a=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function fb(n,e=!1,t=!0){Dn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function db(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function hb(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?mi(n):n;return{pathname:t?t.startsWith("/")?t:pb(t,e):e,search:yb(r),hash:vb(o)}}function pb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function rd(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kv(n){let e=mb(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function wv(n,e,t,r=!1){let o;typeof n=="string"?o=mi(n):(o={...n},Ue(!o.pathname||!o.pathname.includes("?"),rd("?","pathname","search",o)),Ue(!o.pathname||!o.pathname.includes("#"),rd("#","pathname","hash",o)),Ue(!o.search||!o.search.includes("#"),rd("#","search","hash",o)));let s=n===""||o.pathname==="",a=s?"/":o.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}u=g>=0?e[g]:"/"}let f=hb(o,u),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var Xn=n=>n.join("/").replace(/\/\/+/g,"/"),gb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Sv=["POST","PUT","PATCH","DELETE"];new Set(Sv);var kb=["GET",...Sv];new Set(kb);var gi=O.createContext(null);gi.displayName="DataRouter";var Ru=O.createContext(null);Ru.displayName="DataRouterState";O.createContext(!1);var bv=O.createContext({isTransitioning:!1});bv.displayName="ViewTransition";var wb=O.createContext(new Map);wb.displayName="Fetchers";var Sb=O.createContext(null);Sb.displayName="Await";var jn=O.createContext(null);jn.displayName="Navigation";var Us=O.createContext(null);Us.displayName="Location";var bn=O.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var Mh=O.createContext(null);Mh.displayName="RouteError";function bb(n,{relative:e}={}){Ue(Hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(jn),{hash:o,pathname:s,search:a}=Ws(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Xn([t,s])),r.createHref({pathname:u,search:a,hash:o})}function Hs(){return O.useContext(Us)!=null}function Fr(){return Ue(Hs(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Us).location}var Ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cv(n){O.useContext(jn).static||O.useLayoutEffect(n)}function Eo(){let{isDataRoute:n}=O.useContext(bn);return n?zb():Eb()}function Eb(){Ue(Hs(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(gi),{basename:e,navigator:t}=O.useContext(jn),{matches:r}=O.useContext(bn),{pathname:o}=Fr(),s=JSON.stringify(kv(r)),a=O.useRef(!1);return Cv(()=>{a.current=!0}),O.useCallback((f,d={})=>{if(Dn(a.current,Ev),!a.current)return;if(typeof f=="number"){t.go(f);return}let p=wv(f,JSON.parse(s),o,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Xn([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,o,n])}var Cb=O.createContext(null);function Tb(n){let e=O.useContext(bn).outlet;return e&&O.createElement(Cb.Provider,{value:n},e)}function Vs(){let{matches:n}=O.useContext(bn),e=n[n.length-1];return e?e.params:{}}function Ws(n,{relative:e}={}){let{matches:t}=O.useContext(bn),{pathname:r}=Fr(),o=JSON.stringify(kv(t));return O.useMemo(()=>wv(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function Nb(n,e){return Tv(n,e)}function Tv(n,e,t,r){Ue(Hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(jn),{matches:s}=O.useContext(bn),a=s[s.length-1],u=a?a.params:{},f=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let E=p&&p.path||"";Nv(f,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Fr(),v;if(e){let E=typeof e=="string"?mi(e):e;Ue(d==="/"||E.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=g;let x=v.pathname||"/",k=x;if(d!=="/"){let E=d.replace(/^\//,"").split("/");k="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=yv(n,{pathname:k});Dn(p||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Dn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Ab(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xn([d,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Xn([d,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,t,r);return e&&b?O.createElement(Us.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},b):b}function Mb(){let n=jb(),e=xb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,a)}var Ob=O.createElement(Mb,null),Rb=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(bn.Provider,{value:this.props.routeContext},O.createElement(Mh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Pb({routeContext:n,match:e,children:t}){let r=O.useContext(gi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(bn.Provider,{value:n},t)}function Ab(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,s=t?.errors;if(s!=null){let f=o.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);Ue(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let a=!1,u=-1;if(t)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:g}=t,v=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,p)=>{let g,v=!1,x=null,k=null;t&&(g=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||Ob,a&&(u<0&&p===0?(Nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,k=null):u===p&&(v=!0,k=d.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,p+1)),b=()=>{let E;return g?E=x:v?E=k:d.route.Component?E=O.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=f,O.createElement(Pb,{match:d,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:E})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?O.createElement(Rb,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function Oh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(n){let e=O.useContext(gi);return Ue(e,Oh(n)),e}function Db(n){let e=O.useContext(Ru);return Ue(e,Oh(n)),e}function _b(n){let e=O.useContext(bn);return Ue(e,Oh(n)),e}function Rh(n){let e=_b(n),t=e.matches[e.matches.length-1];return Ue(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ib(){return Rh("useRouteId")}function jb(){let n=O.useContext(Mh),e=Db("useRouteError"),t=Rh("useRouteError");return n!==void 0?n:e.errors?.[t]}function zb(){let{router:n}=Lb("useNavigate"),e=Rh("useNavigate"),t=O.useRef(!1);return Cv(()=>{t.current=!0}),O.useCallback(async(o,s={})=>{Dn(t.current,Ev),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...s}))},[n,e])}var My={};function Nv(n,e,t){!e&&!My[n]&&(My[n]=!0,Dn(!1,t))}O.memo(Bb);function Bb({routes:n,future:e,state:t}){return Tv(n,void 0,t,e)}function Ph(n){return Tb(n.context)}function Ot(n){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fb({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:s=!1}){Ue(!Hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:a,navigator:o,static:s,future:{}}),[a,o,s]);typeof t=="string"&&(t=mi(t));let{pathname:f="/",search:d="",hash:p="",state:g=null,key:v="default"}=t,x=O.useMemo(()=>{let k=tr(f,a);return k==null?null:{location:{pathname:k,search:d,hash:p,state:g,key:v},navigationType:r}},[a,f,d,p,g,v,r]);return Dn(x!=null,`<Router basename="${a}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(jn.Provider,{value:u},O.createElement(Us.Provider,{children:e,value:x}))}function $b({children:n,location:e}){return Nb($d(n),e)}function $d(n,e=[]){let t=[];return O.Children.forEach(n,(r,o)=>{if(!O.isValidElement(r))return;let s=[...e,o];if(r.type===O.Fragment){t.push.apply(t,$d(r.props.children,s));return}Ue(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$d(r.props.children,s)),t.push(a)}),t}var Na="get",Ma="application/x-www-form-urlencoded";function Pu(n){return n!=null&&typeof n.tagName=="string"}function Ub(n){return Pu(n)&&n.tagName.toLowerCase()==="button"}function Hb(n){return Pu(n)&&n.tagName.toLowerCase()==="form"}function Vb(n){return Pu(n)&&n.tagName.toLowerCase()==="input"}function Wb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Kb(n,e){return n.button===0&&(!e||e==="_self")&&!Wb(n)}var ha=null;function qb(){if(ha===null)try{new FormData(document.createElement("form"),0),ha=!1}catch{ha=!0}return ha}var Jb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(n){return n!=null&&!Jb.has(n)?(Dn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ma}"`),null):n}function Qb(n,e){let t,r,o,s,a;if(Hb(n)){let u=n.getAttribute("action");r=u?tr(u,e):null,t=n.getAttribute("method")||Na,o=od(n.getAttribute("enctype"))||Ma,s=new FormData(n)}else if(Ub(n)||Vb(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?tr(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Na,o=od(n.getAttribute("formenctype"))||od(u.getAttribute("enctype"))||Ma,s=new FormData(u,n),!qb()){let{name:d,type:p,value:g}=n;if(p==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,g)}}else{if(Pu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Na,r=null,o=Ma,a=n}return s&&o==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ah(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gb(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&tr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Yb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Zb(n,e,t){let r=await Promise.all(n.map(async o=>{let s=e.routes[o.route.id];if(s){let a=await Yb(s,t);return a.links?a.links():[]}return[]}));return rE(r.flat(1).filter(Xb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Oy(n,e,t,r,o,s){let a=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,u=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return s==="assets"?e.filter((f,d)=>a(f,d)||u(f,d)):s==="data"?e.filter((f,d)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(a(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function eE(n,e,{includeHydrateFallback:t}={}){return tE(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function tE(n){return[...new Set(n)]}function nE(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function rE(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let s=JSON.stringify(nE(o));return t.has(s)||(t.add(s),r.push({key:s,link:o})),r},[])}function Mv(){let n=O.useContext(gi);return Ah(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oE(){let n=O.useContext(Ru);return Ah(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Lh=O.createContext(void 0);Lh.displayName="FrameworkContext";function Ov(){let n=O.useContext(Lh);return Ah(n,"You must render this element inside a <HydratedRouter> element"),n}function iE(n,e){let t=O.useContext(Lh),[r,o]=O.useState(!1),[s,a]=O.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,v=O.useRef(null);O.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=E=>{E.forEach(N=>{a(N.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[n]),O.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{o(!0)},k=()=>{o(!1),a(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:ls(u,x),onBlur:ls(f,k),onMouseEnter:ls(d,x),onMouseLeave:ls(p,k),onTouchStart:ls(g,x)}]:[!1,v,{}]}function ls(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sE({page:n,...e}){let{router:t}=Mv(),r=O.useMemo(()=>yv(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(aE,{page:n,matches:r,...e}):null}function lE(n){let{manifest:e,routeModules:t}=Ov(),[r,o]=O.useState([]);return O.useEffect(()=>{let s=!1;return Zb(n,e,t).then(a=>{s||o(a)}),()=>{s=!0}},[n,e,t]),r}function aE({page:n,matches:e,...t}){let r=Fr(),{manifest:o,routeModules:s}=Ov(),{basename:a}=Mv(),{loaderData:u,matches:f}=oE(),d=O.useMemo(()=>Oy(n,e,f,o,r,"data"),[n,e,f,o,r]),p=O.useMemo(()=>Oy(n,e,f,o,r,"assets"),[n,e,f,o,r]),g=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,S=!1;if(e.forEach(E=>{let N=o.routes[E.route.id];!N||!N.hasLoader||(!d.some(P=>P.route.id===E.route.id)&&E.route.id in u&&s[E.route.id]?.shouldRevalidate||N.hasClientLoader?S=!0:k.add(E.route.id))}),k.size===0)return[];let b=Gb(n,a,"data");return S&&k.size>0&&b.searchParams.set("_routes",e.filter(E=>k.has(E.route.id)).map(E=>E.route.id).join(",")),[b.pathname+b.search]},[a,u,r,o,d,e,n,s]),v=O.useMemo(()=>eE(p,o),[p,o]),x=lE(p);return O.createElement(O.Fragment,null,g.map(k=>O.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),v.map(k=>O.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),x.map(({key:k,link:S})=>O.createElement("link",{key:k,...S})))}function uE(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rv&&(window.__reactRouterVersion="7.7.1")}catch{}function cE({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=GS({window:t,v5Compat:!0}));let o=r.current,[s,a]=O.useState({action:o.action,location:o.location}),u=O.useCallback(f=>{O.startTransition(()=>a(f))},[a]);return O.useLayoutEffect(()=>o.listen(u),[o,u]),O.createElement(Fb,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:o})}var Pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:s,replace:a,state:u,target:f,to:d,preventScrollReset:p,viewTransition:g,...v},x){let{basename:k}=O.useContext(jn),S=typeof d=="string"&&Pv.test(d),b,E=!1;if(typeof d=="string"&&S&&(b=d,Rv))try{let re=new URL(window.location.href),de=d.startsWith("//")?new URL(re.protocol+d):new URL(d),Ae=tr(de.pathname,k);de.origin===re.origin&&Ae!=null?d=Ae+de.search+de.hash:E=!0}catch{Dn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=bb(d,{relative:o}),[P,j,z]=iE(r,v),J=pE(d,{replace:a,state:u,target:f,preventScrollReset:p,relative:o,viewTransition:g});function K(re){e&&e(re),re.defaultPrevented||J(re)}let H=O.createElement("a",{...v,...z,href:b||N,onClick:E||s?e:K,ref:uE(x,j),target:f,"data-discover":!S&&t==="render"?"true":void 0});return P&&!S?O.createElement(O.Fragment,null,H,O.createElement(sE,{page:N})):H});ot.displayName="Link";var fE=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:s,to:a,viewTransition:u,children:f,...d},p){let g=Ws(a,{relative:d.relative}),v=Fr(),x=O.useContext(Ru),{navigator:k,basename:S}=O.useContext(jn),b=x!=null&&xE(g)&&u===!0,E=k.encodeLocation?k.encodeLocation(g).pathname:g.pathname,N=v.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(N=N.toLowerCase(),P=P?P.toLowerCase():null,E=E.toLowerCase()),P&&S&&(P=tr(P,S)||P);const j=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let z=N===E||!o&&N.startsWith(E)&&N.charAt(j)==="/",J=P!=null&&(P===E||!o&&P.startsWith(E)&&P.charAt(E.length)==="/"),K={isActive:z,isPending:J,isTransitioning:b},H=z?e:void 0,re;typeof r=="function"?re=r(K):re=[r,z?"active":null,J?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let de=typeof s=="function"?s(K):s;return O.createElement(ot,{...d,"aria-current":H,className:re,ref:p,style:de,to:a,viewTransition:u},typeof f=="function"?f(K):f)});fE.displayName="NavLink";var dE=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:s,method:a=Na,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:g,...v},x)=>{let k=yE(),S=vE(u,{relative:d}),b=a.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&Pv.test(u),N=P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let j=P.nativeEvent.submitter,z=j?.getAttribute("formmethod")||a;k(j||P.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:o,state:s,relative:d,preventScrollReset:p,viewTransition:g})};return O.createElement("form",{ref:x,method:b,action:S,onSubmit:r?f:N,...v,"data-discover":!E&&n==="render"?"true":void 0})});dE.displayName="Form";function hE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Av(n){let e=O.useContext(gi);return Ue(e,hE(n)),e}function pE(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:s,viewTransition:a}={}){let u=Eo(),f=Fr(),d=Ws(n,{relative:s});return O.useCallback(p=>{if(Kb(p,e)){p.preventDefault();let g=t!==void 0?t:Ns(f)===Ns(d);u(n,{replace:g,state:r,preventScrollReset:o,relative:s,viewTransition:a})}},[f,u,d,t,r,e,n,o,s,a])}var mE=0,gE=()=>`__${String(++mE)}__`;function yE(){let{router:n}=Av("useSubmit"),{basename:e}=O.useContext(jn),t=Ib();return O.useCallback(async(r,o={})=>{let{action:s,method:a,encType:u,formData:f,body:d}=Qb(r,e);if(o.navigate===!1){let p=o.fetcherKey||gE();await n.fetch(p,t,o.action||s,{preventScrollReset:o.preventScrollReset,formData:f,body:d,formMethod:o.method||a,formEncType:o.encType||u,flushSync:o.flushSync})}else await n.navigate(o.action||s,{preventScrollReset:o.preventScrollReset,formData:f,body:d,formMethod:o.method||a,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function vE(n,{relative:e}={}){let{basename:t}=O.useContext(jn),r=O.useContext(bn);Ue(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),s={...Ws(n||".",{relative:e})},a=Fr();if(n==null){s.search=a.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Xn([t,s.pathname])),Ns(s)}function xE(n,{relative:e}={}){let t=O.useContext(bv);Ue(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Av("useViewTransitionState"),o=Ws(n,{relative:e});if(!t.isTransitioning)return!1;let s=tr(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=tr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ja(o.pathname,a)!=null||ja(o.pathname,s)!=null}var kE=gv();const wE=Nh(kE);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Ry=n=>{const e=bE(n);return e.charAt(0).toUpperCase()+e.slice(1)},Lv=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),EE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:a,...u},f)=>O.createElement("svg",{ref:f,...CE,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Lv("lucide",o),...!s&&!EE(u)&&{"aria-hidden":"true"},...u},[...a.map(([d,p])=>O.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(n,e)=>{const t=O.forwardRef(({className:r,...o},s)=>O.createElement(TE,{ref:s,iconNode:e,className:Lv(`lucide-${SE(Ry(n))}`,`lucide-${n}`,r),...o}));return t.displayName=Ry(n),t};/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Dv=rr("bookmark",NE);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],OE=rr("file-text",ME);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],_v=rr("heart",RE);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],AE=rr("image",PE);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Au=rr("loader-circle",LE);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Iv=rr("pen-tool",DE);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],za=rr("square-pen",_E);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dh=rr("trash-2",IE);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ba=rr("user",jE),Zt=O.createContext();function zE({children:n}){const[e,t]=O.useState({}),r={id:e.id,name:e.name,username:e.username,email:e.eamil,bio:e.bio,profilePicture_url:e.profilePicture?.url||null,profilePicture_id:e.profilePicture?.id||null};return C.jsx(Zt.Provider,{value:{user:r,setCurrentUser:t},children:n})}function BE(){const{user:n}=O.useContext(Zt),e=n.id?n.id:void 0;return C.jsxs("nav",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-300 bg-white shadow-sm",children:[C.jsx(ot,{to:n?"/dashboard":"/",children:C.jsx("h1",{className:"text-2xl font-semibold tracking-tight hover:text-blue-600 transition-colors duration-200",children:"Blue-Horizon"})}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(ot,{to:n?"/write":"/login",className:"hover:text-blue-600 transition duration-200",children:C.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 bg-white hover:bg-gray-100 hover:shadow-md transition-all duration-200",children:[C.jsx(Iv,{size:18}),C.jsx("span",{className:"text-sm font-medium",children:"Write"})]})}),C.jsx(ot,{to:`/profile/${e}`,className:"hover:text-blue-600 transition duration-200",children:C.jsx(Ba,{size:22})})]})]})}function FE(){return C.jsxs(C.Fragment,{children:[C.jsx(BE,{}),C.jsx(Ph,{})]})}function $E(){const{user:n}=O.useContext(Zt);return C.jsx("section",{className:"w-full h-[80vh] flex items-center justify-center bg-white",children:C.jsxs("div",{className:"text-center max-w-2xl px-6",children:[C.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-gray-900 transition-all duration-300",children:"Where great ideas find their voice"}),C.jsx("p",{className:"mt-6 text-lg sm:text-xl text-gray-600 opacity-80",children:"Discover stories, thinking, and expertise from writers on any topic that matters to you."}),C.jsx(ot,{to:n?"/write":"/login",className:"mt-8 inline-flex items-center gap-3 px-6 py-3 rounded-md bg-blue-600 text-white font-semibold hover:bg-blue-700 shadow-md hover:shadow-lg transition duration-300 ease-in-out",children:C.jsxs("button",{className:"mt-10 inline-flex items-center gap-2 px-6 py-3 rounded-md bg-gray-900 text-white font-semibold hover:bg-gray-800 shadow-md hover:shadow-lg transition duration-300 ease-in-out",children:[C.jsx(Iv,{className:"w-5 h-5"}),C.jsx("span",{children:"Start Writing"})]})})]})})}function UE(){return C.jsx(C.Fragment,{children:C.jsx($E,{})})}function jv(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=jv(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function uo(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=jv(n))&&(r&&(r+=" "),r+=e);return r}function HE(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}HE(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ks=n=>typeof n=="number"&&!isNaN(n),yo=n=>typeof n=="string",nr=n=>typeof n=="function",VE=n=>yo(n)||Ks(n),Ud=n=>yo(n)||nr(n)?n:null,WE=(n,e)=>n===!1||Ks(n)&&n>0?n:e,Hd=n=>O.isValidElement(n)||yo(n)||nr(n)||Ks(n);function KE(n,e,t=300){let{scrollHeight:r,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function qE({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:s,position:a,preventExitTransition:u,done:f,nodeRef:d,isIn:p,playToast:g}){let v=t?`${n}--${a}`:n,x=t?`${e}--${a}`:e,k=O.useRef(0);return O.useLayoutEffect(()=>{let S=d.current,b=v.split(" "),E=N=>{N.target===d.current&&(g(),S.removeEventListener("animationend",E),S.removeEventListener("animationcancel",E),k.current===0&&N.type!=="animationcancel"&&S.classList.remove(...b))};S.classList.add(...b),S.addEventListener("animationend",E),S.addEventListener("animationcancel",E)},[]),O.useEffect(()=>{let S=d.current,b=()=>{S.removeEventListener("animationend",b),r?KE(S,f,o):f()};p||(u?b():(k.current=1,S.className+=` ${x}`,S.addEventListener("animationend",b)))},[p]),Ce.createElement(Ce.Fragment,null,s)}}function Py(n,e){return{content:zv(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function zv(n,e,t=!1){return O.isValidElement(n)&&!yo(n.type)?O.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):nr(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function JE({closeToast:n,theme:e,ariaLabel:t="close"}){return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function QE({delay:n,isRunning:e,closeToast:t,type:r="default",hide:o,className:s,controlledProgress:a,progress:u,rtl:f,isIn:d,theme:p}){let g=o||a&&u===0,v={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};a&&(v.transform=`scaleX(${u})`);let x=uo("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),k=nr(s)?s({rtl:f,type:r,defaultClassName:x}):uo(x,s),S={[a&&u>=1?"onTransitionEnd":"onAnimationEnd"]:a&&u<1?null:()=>{d&&t()}};return Ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},Ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),Ce.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:k,style:v,...S}))}var GE=1,Bv=()=>`${GE++}`;function YE(n,e,t){let r=1,o=0,s=[],a=[],u=e,f=new Map,d=new Set,p=N=>(d.add(N),()=>d.delete(N)),g=()=>{a=Array.from(f.values()),d.forEach(N=>N())},v=({containerId:N,toastId:P,updateId:j})=>{let z=N?N!==n:n!==1,J=f.has(P)&&j==null;return z||J},x=(N,P)=>{f.forEach(j=>{var z;(P==null||P===j.props.toastId)&&((z=j.toggle)==null||z.call(j,N))})},k=N=>{var P,j;(j=(P=N.props)==null?void 0:P.onClose)==null||j.call(P,N.removalReason),N.isActive=!1},S=N=>{if(N==null)f.forEach(k);else{let P=f.get(N);P&&k(P)}g()},b=()=>{o-=s.length,s=[]},E=N=>{var P,j;let{toastId:z,updateId:J}=N.props,K=J==null;N.staleId&&f.delete(N.staleId),N.isActive=!0,f.set(z,N),g(),t(Py(N,K?"added":"updated")),K&&((j=(P=N.props).onOpen)==null||j.call(P))};return{id:n,props:u,observe:p,toggle:x,removeToast:S,toasts:f,clearQueue:b,buildToast:(N,P)=>{if(v(P))return;let{toastId:j,updateId:z,data:J,staleId:K,delay:H}=P,re=z==null;re&&o++;let de={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(P).filter(([He,Je])=>Je!=null)),toastId:j,updateId:z,data:J,isIn:!1,className:Ud(P.className||u.toastClassName),progressClassName:Ud(P.progressClassName||u.progressClassName),autoClose:P.isLoading?!1:WE(P.autoClose,u.autoClose),closeToast(He){f.get(j).removalReason=He,S(j)},deleteToast(){let He=f.get(j);if(He!=null){if(t(Py(He,"removed")),f.delete(j),o--,o<0&&(o=0),s.length>0){E(s.shift());return}g()}}};de.closeButton=u.closeButton,P.closeButton===!1||Hd(P.closeButton)?de.closeButton=P.closeButton:P.closeButton===!0&&(de.closeButton=Hd(u.closeButton)?u.closeButton:!0);let Ae={content:N,props:de,staleId:K};u.limit&&u.limit>0&&o>u.limit&&re?s.push(Ae):Ks(H)?setTimeout(()=>{E(Ae)},H):E(Ae)},setProps(N){u=N},setToggle:(N,P)=>{let j=f.get(N);j&&(j.toggle=P)},isToastActive:N=>{var P;return(P=f.get(N))==null?void 0:P.isActive},getSnapshot:()=>a}}var Rt=new Map,Ms=[],Vd=new Set,XE=n=>Vd.forEach(e=>e(n)),Fv=()=>Rt.size>0;function ZE(){Ms.forEach(n=>Uv(n.content,n.options)),Ms=[]}var eC=(n,{containerId:e})=>{var t;return(t=Rt.get(e||1))==null?void 0:t.toasts.get(n)};function $v(n,e){var t;if(e)return!!((t=Rt.get(e))!=null&&t.isToastActive(n));let r=!1;return Rt.forEach(o=>{o.isToastActive(n)&&(r=!0)}),r}function tC(n){if(!Fv()){Ms=Ms.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||VE(n))Rt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Rt.get(n.containerId);e?e.removeToast(n.id):Rt.forEach(t=>{t.removeToast(n.id)})}}var nC=(n={})=>{Rt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Uv(n,e){Hd(n)&&(Fv()||Ms.push({content:n,options:e}),Rt.forEach(t=>{t.buildToast(n,e)}))}function rC(n){var e;(e=Rt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Hv(n,e){Rt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function oC(n){let e=n.containerId||1;return{subscribe(t){let r=YE(e,n,XE);Rt.set(e,r);let o=r.observe(t);return ZE(),()=>{o(),Rt.delete(e)}},setProps(t){var r;(r=Rt.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=Rt.get(e))==null?void 0:t.getSnapshot()}}}function iC(n){return Vd.add(n),()=>{Vd.delete(n)}}function sC(n){return n&&(yo(n.toastId)||Ks(n.toastId))?n.toastId:Bv()}function qs(n,e){return Uv(n,e),e.toastId}function Lu(n,e){return{...e,type:e&&e.type||n,toastId:sC(e)}}function Du(n){return(e,t)=>qs(e,Lu(n,t))}function ie(n,e){return qs(n,Lu("default",e))}ie.loading=(n,e)=>qs(n,Lu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function lC(n,{pending:e,error:t,success:r},o){let s;e&&(s=yo(e)?ie.loading(e,o):ie.loading(e.render,{...o,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,p,g)=>{if(p==null){ie.dismiss(s);return}let v={type:d,...a,...o,data:g},x=yo(p)?{render:p}:p;return s?ie.update(s,{...v,...x}):ie(x.render,{...v,...x}),g},f=nr(n)?n():n;return f.then(d=>u("success",r,d)).catch(d=>u("error",t,d)),f}ie.promise=lC;ie.success=Du("success");ie.info=Du("info");ie.error=Du("error");ie.warning=Du("warning");ie.warn=ie.warning;ie.dark=(n,e)=>qs(n,Lu("default",{theme:"dark",...e}));function aC(n){tC(n)}ie.dismiss=aC;ie.clearWaitingQueue=nC;ie.isActive=$v;ie.update=(n,e={})=>{let t=eC(n,e);if(t){let{props:r,content:o}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:Bv()};s.toastId!==n&&(s.staleId=n);let a=s.render||o;delete s.render,qs(a,s)}};ie.done=n=>{ie.update(n,{progress:1})};ie.onChange=iC;ie.play=n=>Hv(!0,n);ie.pause=n=>Hv(!1,n);function uC(n){var e;let{subscribe:t,getSnapshot:r,setProps:o}=O.useRef(oC(n)).current;o(n);let s=(e=O.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function a(u){if(!s)return[];let f=new Map;return n.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:p}=d.props;f.has(p)||f.set(p,[]),f.get(p).push(d)}),Array.from(f,d=>u(d[0],d[1]))}return{getToastToRender:a,isToastActive:$v,count:s?.length}}function cC(n){let[e,t]=O.useState(!1),[r,o]=O.useState(!1),s=O.useRef(null),a=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:f,closeToast:d,onClick:p,closeOnClick:g}=n;rC({id:n.toastId,containerId:n.containerId,fn:t}),O.useEffect(()=>{if(n.pauseOnFocusLoss)return v(),()=>{x()}},[n.pauseOnFocusLoss]);function v(){document.hasFocus()||E(),window.addEventListener("focus",b),window.addEventListener("blur",E)}function x(){window.removeEventListener("focus",b),window.removeEventListener("blur",E)}function k(K){if(n.draggable===!0||n.draggable===K.pointerType){N();let H=s.current;a.canCloseOnClick=!0,a.canDrag=!0,H.style.transition="none",n.draggableDirection==="x"?(a.start=K.clientX,a.removalDistance=H.offsetWidth*(n.draggablePercent/100)):(a.start=K.clientY,a.removalDistance=H.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function S(K){let{top:H,bottom:re,left:de,right:Ae}=s.current.getBoundingClientRect();K.nativeEvent.type!=="touchend"&&n.pauseOnHover&&K.clientX>=de&&K.clientX<=Ae&&K.clientY>=H&&K.clientY<=re?E():b()}function b(){t(!0)}function E(){t(!1)}function N(){a.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",z)}function P(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",z)}function j(K){let H=s.current;if(a.canDrag&&H){a.didMove=!0,e&&E(),n.draggableDirection==="x"?a.delta=K.clientX-a.start:a.delta=K.clientY-a.start,a.start!==K.clientX&&(a.canCloseOnClick=!1);let re=n.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;H.style.transform=`translate3d(${re},0)`,H.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function z(){P();let K=s.current;if(a.canDrag&&a.didMove&&K){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}K.style.transition="transform 0.2s, opacity 0.2s",K.style.removeProperty("transform"),K.style.removeProperty("opacity")}}let J={onPointerDown:k,onPointerUp:S};return u&&f&&(J.onMouseEnter=E,n.stacked||(J.onMouseLeave=b)),g&&(J.onClick=K=>{p&&p(K),a.canCloseOnClick&&d(!0)}),{playToast:b,pauseToast:E,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:J}}var fC=typeof window<"u"?O.useLayoutEffect:O.useEffect,_u=({theme:n,type:e,isLoading:t,...r})=>Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function dC(n){return Ce.createElement(_u,{...n},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function hC(n){return Ce.createElement(_u,{...n},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function pC(n){return Ce.createElement(_u,{...n},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function mC(n){return Ce.createElement(_u,{...n},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function gC(){return Ce.createElement("div",{className:"Toastify__spinner"})}var Wd={info:hC,warning:dC,success:pC,error:mC,spinner:gC},yC=n=>n in Wd;function vC({theme:n,type:e,isLoading:t,icon:r}){let o=null,s={theme:n,type:e};return r===!1||(nr(r)?o=r({...s,isLoading:t}):O.isValidElement(r)?o=O.cloneElement(r,s):t?o=Wd.spinner():yC(e)&&(o=Wd[e](s))),o}var xC=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:s}=cC(n),{closeButton:a,children:u,autoClose:f,onClick:d,type:p,hideProgressBar:g,closeToast:v,transition:x,position:k,className:S,style:b,progressClassName:E,updateId:N,role:P,progress:j,rtl:z,toastId:J,deleteToast:K,isIn:H,isLoading:re,closeOnClick:de,theme:Ae,ariaLabel:He}=n,Je=uo("Toastify__toast",`Toastify__toast-theme--${Ae}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":de}),ht=nr(S)?S({rtl:z,position:k,type:p,defaultClassName:Je}):uo(Je,S),it=vC(n),Ie=!!j||!f,we={closeToast:v,type:p,theme:Ae},Q=null;return a===!1||(nr(a)?Q=a(we):O.isValidElement(a)?Q=O.cloneElement(a,we):Q=JE(we)),Ce.createElement(x,{isIn:H,done:K,position:k,preventExitTransition:t,nodeRef:r,playToast:s},Ce.createElement("div",{id:J,tabIndex:0,onClick:d,"data-in":H,className:ht,...o,style:b,ref:r,...H&&{role:P,"aria-label":He}},it!=null&&Ce.createElement("div",{className:uo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!re})},it),zv(u,n,!e),Q,!n.customProgressBar&&Ce.createElement(QE,{...N&&!Ie?{key:`p-${N}`}:{},rtl:z,theme:Ae,delay:f,isRunning:e,isIn:H,closeToast:v,hide:g,type:p,className:E,controlledProgress:Ie,progress:j||0})))},kC=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),wC=qE(kC("bounce",!0)),SC={position:"top-right",transition:wC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function bC(n){let e={...SC,...n},t=n.stacked,[r,o]=O.useState(!0),s=O.useRef(null),{getToastToRender:a,isToastActive:u,count:f}=uC(e),{className:d,style:p,rtl:g,containerId:v,hotKeys:x}=e;function k(b){let E=uo("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":g});return nr(d)?d({position:b,rtl:g,defaultClassName:E}):uo(E,Ud(d))}function S(){t&&(o(!0),ie.play())}return fC(()=>{var b;if(t){let E=s.current.querySelectorAll('[data-in="true"]'),N=12,P=(b=e.position)==null?void 0:b.includes("top"),j=0,z=0;Array.from(E).reverse().forEach((J,K)=>{let H=J;H.classList.add("Toastify__toast--stacked"),K>0&&(H.dataset.collapsed=`${r}`),H.dataset.pos||(H.dataset.pos=P?"top":"bot");let re=j*(r?.2:1)+(r?0:N*K);H.style.setProperty("--y",`${P?re:re*-1}px`),H.style.setProperty("--g",`${N}`),H.style.setProperty("--s",`${1-(r?z:0)}`),j+=H.offsetHeight,z+=.025})}},[r,f,t]),O.useEffect(()=>{function b(E){var N;let P=s.current;x(E)&&((N=P.querySelector('[tabIndex="0"]'))==null||N.focus(),o(!1),ie.pause()),E.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(o(!0),ie.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[x]),Ce.createElement("section",{ref:s,className:"Toastify",id:v,onMouseEnter:()=>{t&&(o(!1),ie.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((b,E)=>{let N=E.length?{...p}:{...p,pointerEvents:"none"};return Ce.createElement("div",{tabIndex:-1,className:k(b),"data-stacked":t,style:N,key:`c-${b}`},E.map(({content:P,props:j})=>Ce.createElement(xC,{...j,stacked:t,collapseAll:S,isIn:u(j.toastId,j.containerId),key:`t-${j.key}`},P)))}))}function Vv(n,e){return function(){return n.apply(e,arguments)}}const{toString:EC}=Object.prototype,{getPrototypeOf:_h}=Object,{iterator:Iu,toStringTag:Wv}=Symbol,ju=(n=>e=>{const t=EC.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),En=n=>(n=n.toLowerCase(),e=>ju(e)===n),zu=n=>e=>typeof e===n,{isArray:yi}=Array,Os=zu("undefined");function Js(n){return n!==null&&!Os(n)&&n.constructor!==null&&!Os(n.constructor)&&Ut(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Kv=En("ArrayBuffer");function CC(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Kv(n.buffer),e}const TC=zu("string"),Ut=zu("function"),qv=zu("number"),Qs=n=>n!==null&&typeof n=="object",NC=n=>n===!0||n===!1,Oa=n=>{if(ju(n)!=="object")return!1;const e=_h(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Wv in n)&&!(Iu in n)},MC=n=>{if(!Qs(n)||Js(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},OC=En("Date"),RC=En("File"),PC=En("Blob"),AC=En("FileList"),LC=n=>Qs(n)&&Ut(n.pipe),DC=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ut(n.append)&&((e=ju(n))==="formdata"||e==="object"&&Ut(n.toString)&&n.toString()==="[object FormData]"))},_C=En("URLSearchParams"),[IC,jC,zC,BC]=["ReadableStream","Request","Response","Headers"].map(En),FC=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gs(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),yi(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{if(Js(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),a=s.length;let u;for(r=0;r<a;r++)u=s[r],e.call(null,n[u],u,n)}}function Jv(n,e){if(Js(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qv=n=>!Os(n)&&n!==oo;function Kd(){const{caseless:n}=Qv(this)&&this||{},e={},t=(r,o)=>{const s=n&&Jv(e,o)||o;Oa(e[s])&&Oa(r)?e[s]=Kd(e[s],r):Oa(r)?e[s]=Kd({},r):yi(r)?e[s]=r.slice():e[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Gs(arguments[r],t);return e}const $C=(n,e,t,{allOwnKeys:r}={})=>(Gs(e,(o,s)=>{t&&Ut(o)?n[s]=Vv(o,t):n[s]=o},{allOwnKeys:r}),n),UC=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),HC=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},VC=(n,e,t,r)=>{let o,s,a;const u={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),s=o.length;s-- >0;)a=o[s],(!r||r(a,n,e))&&!u[a]&&(e[a]=n[a],u[a]=!0);n=t!==!1&&_h(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},WC=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},KC=n=>{if(!n)return null;if(yi(n))return n;let e=n.length;if(!qv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},qC=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&_h(Uint8Array)),JC=(n,e)=>{const r=(n&&n[Iu]).call(n);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(n,s[0],s[1])}},QC=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},GC=En("HTMLFormElement"),YC=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),Ay=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),XC=En("RegExp"),Gv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Gs(t,(o,s)=>{let a;(a=e(o,s,n))!==!1&&(r[s]=a||o)}),Object.defineProperties(n,r)},ZC=n=>{Gv(n,(e,t)=>{if(Ut(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ut(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},eT=(n,e)=>{const t={},r=o=>{o.forEach(s=>{t[s]=!0})};return yi(n)?r(n):r(String(n).split(e)),t},tT=()=>{},nT=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function rT(n){return!!(n&&Ut(n.append)&&n[Wv]==="FormData"&&n[Iu])}const oT=n=>{const e=new Array(10),t=(r,o)=>{if(Qs(r)){if(e.indexOf(r)>=0)return;if(Js(r))return r;if(!("toJSON"in r)){e[o]=r;const s=yi(r)?[]:{};return Gs(r,(a,u)=>{const f=t(a,o+1);!Os(f)&&(s[u]=f)}),e[o]=void 0,s}}return r};return t(n,0)},iT=En("AsyncFunction"),sT=n=>n&&(Qs(n)||Ut(n))&&Ut(n.then)&&Ut(n.catch),Yv=((n,e)=>n?setImmediate:e?((t,r)=>(oo.addEventListener("message",({source:o,data:s})=>{o===oo&&s===t&&r.length&&r.shift()()},!1),o=>{r.push(o),oo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ut(oo.postMessage)),lT=typeof queueMicrotask<"u"?queueMicrotask.bind(oo):typeof process<"u"&&process.nextTick||Yv,aT=n=>n!=null&&Ut(n[Iu]),I={isArray:yi,isArrayBuffer:Kv,isBuffer:Js,isFormData:DC,isArrayBufferView:CC,isString:TC,isNumber:qv,isBoolean:NC,isObject:Qs,isPlainObject:Oa,isEmptyObject:MC,isReadableStream:IC,isRequest:jC,isResponse:zC,isHeaders:BC,isUndefined:Os,isDate:OC,isFile:RC,isBlob:PC,isRegExp:XC,isFunction:Ut,isStream:LC,isURLSearchParams:_C,isTypedArray:qC,isFileList:AC,forEach:Gs,merge:Kd,extend:$C,trim:FC,stripBOM:UC,inherits:HC,toFlatObject:VC,kindOf:ju,kindOfTest:En,endsWith:WC,toArray:KC,forEachEntry:JC,matchAll:QC,isHTMLForm:GC,hasOwnProperty:Ay,hasOwnProp:Ay,reduceDescriptors:Gv,freezeMethods:ZC,toObjectSet:eT,toCamelCase:YC,noop:tT,toFiniteNumber:nT,findKey:Jv,global:oo,isContextDefined:Qv,isSpecCompliantForm:rT,toJSONObject:oT,isAsyncFn:iT,isThenable:sT,setImmediate:Yv,asap:lT,isIterable:aT};function he(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}I.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Xv=he.prototype,Zv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Zv[n]={value:n}});Object.defineProperties(he,Zv);Object.defineProperty(Xv,"isAxiosError",{value:!0});he.from=(n,e,t,r,o,s)=>{const a=Object.create(Xv);return I.toFlatObject(n,a,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),he.call(a,n.message,e,t,r,o),a.cause=n,a.name=n.name,s&&Object.assign(a,s),a};const uT=null;function qd(n){return I.isPlainObject(n)||I.isArray(n)}function e1(n){return I.endsWith(n,"[]")?n.slice(0,-2):n}function Ly(n,e,t){return n?n.concat(e).map(function(o,s){return o=e1(o),!t&&s?"["+o+"]":o}).join(t?".":""):e}function cT(n){return I.isArray(n)&&!n.some(qd)}const fT=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Bu(n,e,t){if(!I.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=I.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,b){return!I.isUndefined(b[S])});const r=t.metaTokens,o=t.visitor||p,s=t.dots,a=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(o))throw new TypeError("visitor must be a function");function d(k){if(k===null)return"";if(I.isDate(k))return k.toISOString();if(I.isBoolean(k))return k.toString();if(!f&&I.isBlob(k))throw new he("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(k)||I.isTypedArray(k)?f&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function p(k,S,b){let E=k;if(k&&!b&&typeof k=="object"){if(I.endsWith(S,"{}"))S=r?S:S.slice(0,-2),k=JSON.stringify(k);else if(I.isArray(k)&&cT(k)||(I.isFileList(k)||I.endsWith(S,"[]"))&&(E=I.toArray(k)))return S=e1(S),E.forEach(function(P,j){!(I.isUndefined(P)||P===null)&&e.append(a===!0?Ly([S],j,s):a===null?S:S+"[]",d(P))}),!1}return qd(k)?!0:(e.append(Ly(b,S,s),d(k)),!1)}const g=[],v=Object.assign(fT,{defaultVisitor:p,convertValue:d,isVisitable:qd});function x(k,S){if(!I.isUndefined(k)){if(g.indexOf(k)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(k),I.forEach(k,function(E,N){(!(I.isUndefined(E)||E===null)&&o.call(e,E,I.isString(N)?N.trim():N,S,v))===!0&&x(E,S?S.concat(N):[N])}),g.pop()}}if(!I.isObject(n))throw new TypeError("data must be an object");return x(n),e}function Dy(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ih(n,e){this._pairs=[],n&&Bu(n,this,e)}const t1=Ih.prototype;t1.append=function(e,t){this._pairs.push([e,t])};t1.toString=function(e){const t=e?function(r){return e.call(this,r,Dy)}:Dy;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function dT(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function n1(n,e,t){if(!e)return n;const r=t&&t.encode||dT;I.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let s;if(o?s=o(e,t):s=I.isURLSearchParams(e)?e.toString():new Ih(e,t).toString(r),s){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class _y{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(r){r!==null&&e(r)})}}const r1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hT=typeof URLSearchParams<"u"?URLSearchParams:Ih,pT=typeof FormData<"u"?FormData:null,mT=typeof Blob<"u"?Blob:null,gT={isBrowser:!0,classes:{URLSearchParams:hT,FormData:pT,Blob:mT},protocols:["http","https","file","blob","url","data"]},jh=typeof window<"u"&&typeof document<"u",Jd=typeof navigator=="object"&&navigator||void 0,yT=jh&&(!Jd||["ReactNative","NativeScript","NS"].indexOf(Jd.product)<0),vT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xT=jh&&window.location.href||"http://localhost",kT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jh,hasStandardBrowserEnv:yT,hasStandardBrowserWebWorkerEnv:vT,navigator:Jd,origin:xT},Symbol.toStringTag,{value:"Module"})),Et={...kT,...gT};function wT(n,e){return Bu(n,new Et.classes.URLSearchParams,{visitor:function(t,r,o,s){return Et.isNode&&I.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function ST(n){return I.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bT(n){const e={},t=Object.keys(n);let r;const o=t.length;let s;for(r=0;r<o;r++)s=t[r],e[s]=n[s];return e}function o1(n){function e(t,r,o,s){let a=t[s++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),f=s>=t.length;return a=!a&&I.isArray(o)?o.length:a,f?(I.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!u):((!o[a]||!I.isObject(o[a]))&&(o[a]=[]),e(t,r,o[a],s)&&I.isArray(o[a])&&(o[a]=bT(o[a])),!u)}if(I.isFormData(n)&&I.isFunction(n.entries)){const t={};return I.forEachEntry(n,(r,o)=>{e(ST(r),o,t,0)}),t}return null}function ET(n,e,t){if(I.isString(n))try{return(e||JSON.parse)(n),I.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ys={transitional:r1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,s=I.isObject(e);if(s&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return o?JSON.stringify(o1(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wT(e,this.formSerializer).toString();if((u=I.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Bu(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return s||o?(t.setContentType("application/json",!1),ET(e)):e}],transformResponse:[function(e){const t=this.transitional||Ys.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(r&&!this.responseType||o)){const a=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?he.from(u,he.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],n=>{Ys.headers[n]={}});const CT=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TT=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(a){o=a.indexOf(":"),t=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!t||e[t]&&CT[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Iy=Symbol("internals");function as(n){return n&&String(n).trim().toLowerCase()}function Ra(n){return n===!1||n==null?n:I.isArray(n)?n.map(Ra):String(n)}function NT(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const MT=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function id(n,e,t,r,o){if(I.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!I.isString(e)){if(I.isString(r))return e.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(e)}}function OT(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function RT(n,e){const t=I.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,s,a){return this[r].call(this,e,o,s,a)},configurable:!0})})}let Ht=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function s(u,f,d){const p=as(f);if(!p)throw new Error("header name must be a non-empty string");const g=I.findKey(o,p);(!g||o[g]===void 0||d===!0||d===void 0&&o[g]!==!1)&&(o[g||f]=Ra(u))}const a=(u,f)=>I.forEach(u,(d,p)=>s(d,p,f));if(I.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(I.isString(e)&&(e=e.trim())&&!MT(e))a(TT(e),t);else if(I.isObject(e)&&I.isIterable(e)){let u={},f,d;for(const p of e){if(!I.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[d=p[0]]=(f=u[d])?I.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}a(u,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=as(e),e){const r=I.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return NT(o);if(I.isFunction(t))return t.call(this,o,r);if(I.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=as(e),e){const r=I.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||id(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function s(a){if(a=as(a),a){const u=I.findKey(r,a);u&&(!t||id(r,r[u],u,t))&&(delete r[u],o=!0)}}return I.isArray(e)?e.forEach(s):s(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const s=t[r];(!e||id(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const t=this,r={};return I.forEach(this,(o,s)=>{const a=I.findKey(r,s);if(a){t[a]=Ra(o),delete t[s];return}const u=e?OT(s):String(s).trim();u!==s&&delete t[s],t[u]=Ra(o),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return I.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&I.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Iy]=this[Iy]={accessors:{}}).accessors,o=this.prototype;function s(a){const u=as(a);r[u]||(RT(o,a),r[u]=!0)}return I.isArray(e)?e.forEach(s):s(e),this}};Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Ht.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});I.freezeMethods(Ht);function sd(n,e){const t=this||Ys,r=e||t,o=Ht.from(r.headers);let s=r.data;return I.forEach(n,function(u){s=u.call(t,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function i1(n){return!!(n&&n.__CANCEL__)}function vi(n,e,t){he.call(this,n??"canceled",he.ERR_CANCELED,e,t),this.name="CanceledError"}I.inherits(vi,he,{__CANCEL__:!0});function s1(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new he("Request failed with status code "+t.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function PT(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function AT(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,s=0,a;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),p=r[s];a||(a=d),t[o]=f,r[o]=d;let g=s,v=0;for(;g!==o;)v+=t[g++],g=g%n;if(o=(o+1)%n,o===s&&(s=(s+1)%n),d-a<e)return;const x=p&&d-p;return x?Math.round(v*1e3/x):void 0}}function LT(n,e){let t=0,r=1e3/e,o,s;const a=(d,p=Date.now())=>{t=p,o=null,s&&(clearTimeout(s),s=null),n(...d)};return[(...d)=>{const p=Date.now(),g=p-t;g>=r?a(d,p):(o=d,s||(s=setTimeout(()=>{s=null,a(o)},r-g)))},()=>o&&a(o)]}const Fa=(n,e,t=3)=>{let r=0;const o=AT(50,250);return LT(s=>{const a=s.loaded,u=s.lengthComputable?s.total:void 0,f=a-r,d=o(f),p=a<=u;r=a;const g={loaded:a,total:u,progress:u?a/u:void 0,bytes:f,rate:d||void 0,estimated:d&&u&&p?(u-a)/d:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},jy=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},zy=n=>(...e)=>I.asap(()=>n(...e)),DT=Et.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Et.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,_T=Et.hasStandardBrowserEnv?{write(n,e,t,r,o,s){const a=[n+"="+encodeURIComponent(e)];I.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),I.isString(r)&&a.push("path="+r),I.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function jT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function l1(n,e,t){let r=!IT(e);return n&&(r||t==!1)?jT(n,e):e}const By=n=>n instanceof Ht?{...n}:n;function vo(n,e){e=e||{};const t={};function r(d,p,g,v){return I.isPlainObject(d)&&I.isPlainObject(p)?I.merge.call({caseless:v},d,p):I.isPlainObject(p)?I.merge({},p):I.isArray(p)?p.slice():p}function o(d,p,g,v){if(I.isUndefined(p)){if(!I.isUndefined(d))return r(void 0,d,g,v)}else return r(d,p,g,v)}function s(d,p){if(!I.isUndefined(p))return r(void 0,p)}function a(d,p){if(I.isUndefined(p)){if(!I.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function u(d,p,g){if(g in e)return r(d,p);if(g in n)return r(void 0,d)}const f={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(d,p,g)=>o(By(d),By(p),g,!0)};return I.forEach(Object.keys({...n,...e}),function(p){const g=f[p]||o,v=g(n[p],e[p],p);I.isUndefined(v)&&g!==u||(t[p]=v)}),t}const a1=n=>{const e=vo({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:u}=e;e.headers=a=Ht.from(a),e.url=n1(l1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let f;if(I.isFormData(t)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((f=a.getContentType())!==!1){const[d,...p]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...p].join("; "))}}if(Et.hasStandardBrowserEnv&&(r&&I.isFunction(r)&&(r=r(e)),r||r!==!1&&DT(e.url))){const d=o&&s&&_T.read(s);d&&a.set(o,d)}return e},zT=typeof XMLHttpRequest<"u",BT=zT&&function(n){return new Promise(function(t,r){const o=a1(n);let s=o.data;const a=Ht.from(o.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:d}=o,p,g,v,x,k;function S(){x&&x(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let b=new XMLHttpRequest;b.open(o.method.toUpperCase(),o.url,!0),b.timeout=o.timeout;function E(){if(!b)return;const P=Ht.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:P,config:n,request:b};s1(function(K){t(K),S()},function(K){r(K),S()},z),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(r(new he("Request aborted",he.ECONNABORTED,n,b)),b=null)},b.onerror=function(){r(new he("Network Error",he.ERR_NETWORK,n,b)),b=null},b.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const z=o.transitional||r1;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),r(new he(j,z.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,n,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&I.forEach(a.toJSON(),function(j,z){b.setRequestHeader(z,j)}),I.isUndefined(o.withCredentials)||(b.withCredentials=!!o.withCredentials),u&&u!=="json"&&(b.responseType=o.responseType),d&&([v,k]=Fa(d,!0),b.addEventListener("progress",v)),f&&b.upload&&([g,x]=Fa(f),b.upload.addEventListener("progress",g),b.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(p=P=>{b&&(r(!P||P.type?new vi(null,n,b):P),b.abort(),b=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const N=PT(o.url);if(N&&Et.protocols.indexOf(N)===-1){r(new he("Unsupported protocol "+N+":",he.ERR_BAD_REQUEST,n));return}b.send(s||null)})},FT=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const s=function(d){if(!o){o=!0,u();const p=d instanceof Error?d:this.reason;r.abort(p instanceof he?p:new vi(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,s(new he(`timeout ${e} of ms exceeded`,he.ETIMEDOUT))},e);const u=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:f}=r;return f.unsubscribe=()=>I.asap(u),f}},$T=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},UT=async function*(n,e){for await(const t of HT(n))yield*$T(t,e)},HT=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Fy=(n,e,t,r)=>{const o=UT(n,e);let s=0,a,u=f=>{a||(a=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:p}=await o.next();if(d){u(),f.close();return}let g=p.byteLength;if(t){let v=s+=g;t(v)}f.enqueue(new Uint8Array(p))}catch(d){throw u(d),d}},cancel(f){return u(f),o.return()}},{highWaterMark:2})},Fu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",u1=Fu&&typeof ReadableStream=="function",VT=Fu&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),c1=(n,...e)=>{try{return!!n(...e)}catch{return!1}},WT=u1&&c1(()=>{let n=!1;const e=new Request(Et.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),$y=64*1024,Qd=u1&&c1(()=>I.isReadableStream(new Response("").body)),$a={stream:Qd&&(n=>n.body)};Fu&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$a[e]&&($a[e]=I.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new he(`Response type '${e}' is not supported`,he.ERR_NOT_SUPPORT,r)})})})(new Response);const KT=async n=>{if(n==null)return 0;if(I.isBlob(n))return n.size;if(I.isSpecCompliantForm(n))return(await new Request(Et.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(I.isArrayBufferView(n)||I.isArrayBuffer(n))return n.byteLength;if(I.isURLSearchParams(n)&&(n=n+""),I.isString(n))return(await VT(n)).byteLength},qT=async(n,e)=>{const t=I.toFiniteNumber(n.getContentLength());return t??KT(e)},JT=Fu&&(async n=>{let{url:e,method:t,data:r,signal:o,cancelToken:s,timeout:a,onDownloadProgress:u,onUploadProgress:f,responseType:d,headers:p,withCredentials:g="same-origin",fetchOptions:v}=a1(n);d=d?(d+"").toLowerCase():"text";let x=FT([o,s&&s.toAbortSignal()],a),k;const S=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let b;try{if(f&&WT&&t!=="get"&&t!=="head"&&(b=await qT(p,r))!==0){let z=new Request(e,{method:"POST",body:r,duplex:"half"}),J;if(I.isFormData(r)&&(J=z.headers.get("content-type"))&&p.setContentType(J),z.body){const[K,H]=jy(b,Fa(zy(f)));r=Fy(z.body,$y,K,H)}}I.isString(g)||(g=g?"include":"omit");const E="credentials"in Request.prototype;k=new Request(e,{...v,signal:x,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:E?g:void 0});let N=await fetch(k,v);const P=Qd&&(d==="stream"||d==="response");if(Qd&&(u||P&&S)){const z={};["status","statusText","headers"].forEach(re=>{z[re]=N[re]});const J=I.toFiniteNumber(N.headers.get("content-length")),[K,H]=u&&jy(J,Fa(zy(u),!0))||[];N=new Response(Fy(N.body,$y,K,()=>{H&&H(),S&&S()}),z)}d=d||"text";let j=await $a[I.findKey($a,d)||"text"](N,n);return!P&&S&&S(),await new Promise((z,J)=>{s1(z,J,{data:j,headers:Ht.from(N.headers),status:N.status,statusText:N.statusText,config:n,request:k})})}catch(E){throw S&&S(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,n,k),{cause:E.cause||E}):he.from(E,E&&E.code,n,k)}}),Gd={http:uT,xhr:BT,fetch:JT};I.forEach(Gd,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Uy=n=>`- ${n}`,QT=n=>I.isFunction(n)||n===null||n===!1,f1={getAdapter:n=>{n=I.isArray(n)?n:[n];const{length:e}=n;let t,r;const o={};for(let s=0;s<e;s++){t=n[s];let a;if(r=t,!QT(t)&&(r=Gd[(a=String(t)).toLowerCase()],r===void 0))throw new he(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+s]=r}if(!r){const s=Object.entries(o).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Uy).join(`
`):" "+Uy(s[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Gd};function ld(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new vi(null,n)}function Hy(n){return ld(n),n.headers=Ht.from(n.headers),n.data=sd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),f1.getAdapter(n.adapter||Ys.adapter)(n).then(function(r){return ld(n),r.data=sd.call(n,n.transformResponse,r),r.headers=Ht.from(r.headers),r},function(r){return i1(r)||(ld(n),r&&r.response&&(r.response.data=sd.call(n,n.transformResponse,r.response),r.response.headers=Ht.from(r.response.headers))),Promise.reject(r)})}const d1="1.11.0",$u={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{$u[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Vy={};$u.transitional=function(e,t,r){function o(s,a){return"[Axios v"+d1+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,u)=>{if(e===!1)throw new he(o(a," has been removed"+(t?" in "+t:"")),he.ERR_DEPRECATED);return t&&!Vy[a]&&(Vy[a]=!0,console.warn(o(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,u):!0}};$u.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function GT(n,e,t){if(typeof n!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const s=r[o],a=e[s];if(a){const u=n[s],f=u===void 0||a(u,s,n);if(f!==!0)throw new he("option "+s+" must be "+f,he.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new he("Unknown option "+s,he.ERR_BAD_OPTION)}}const Pa={assertOptions:GT,validators:$u},Rn=Pa.validators;let co=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _y,response:new _y}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=vo(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:s}=t;r!==void 0&&Pa.assertOptions(r,{silentJSONParsing:Rn.transitional(Rn.boolean),forcedJSONParsing:Rn.transitional(Rn.boolean),clarifyTimeoutError:Rn.transitional(Rn.boolean)},!1),o!=null&&(I.isFunction(o)?t.paramsSerializer={serialize:o}:Pa.assertOptions(o,{encode:Rn.function,serialize:Rn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Pa.assertOptions(t,{baseUrl:Rn.spelling("baseURL"),withXsrfToken:Rn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&I.merge(s.common,s[t.method]);s&&I.forEach(["delete","get","head","post","put","patch","common"],k=>{delete s[k]}),t.headers=Ht.concat(a,s);const u=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(f=f&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let p,g=0,v;if(!f){const k=[Hy.bind(this),void 0];for(k.unshift(...u),k.push(...d),v=k.length,p=Promise.resolve(t);g<v;)p=p.then(k[g++],k[g++]);return p}v=u.length;let x=t;for(g=0;g<v;){const k=u[g++],S=u[g++];try{x=k(x)}catch(b){S.call(this,b);break}}try{p=Hy.call(this,x)}catch(k){return Promise.reject(k)}for(g=0,v=d.length;g<v;)p=p.then(d[g++],d[g++]);return p}getUri(e){e=vo(this.defaults,e);const t=l1(e.baseURL,e.url,e.allowAbsoluteUrls);return n1(t,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){co.prototype[e]=function(t,r){return this.request(vo(r||{},{method:e,url:t,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(e){function t(r){return function(s,a,u){return this.request(vo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}co.prototype[e]=t(),co.prototype[e+"Form"]=t(!0)});let YT=class h1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const a=new Promise(u=>{r.subscribe(u),s=u}).then(o);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,u){r.reason||(r.reason=new vi(s,a,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new h1(function(o){e=o}),cancel:e}}};function XT(n){return function(t){return n.apply(null,t)}}function ZT(n){return I.isObject(n)&&n.isAxiosError===!0}const Yd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yd).forEach(([n,e])=>{Yd[e]=n});function p1(n){const e=new co(n),t=Vv(co.prototype.request,e);return I.extend(t,co.prototype,e,{allOwnKeys:!0}),I.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return p1(vo(n,o))},t}const ve=p1(Ys);ve.Axios=co;ve.CanceledError=vi;ve.CancelToken=YT;ve.isCancel=i1;ve.VERSION=d1;ve.toFormData=Bu;ve.AxiosError=he;ve.Cancel=ve.CanceledError;ve.all=function(e){return Promise.all(e)};ve.spread=XT;ve.isAxiosError=ZT;ve.mergeConfig=vo;ve.AxiosHeaders=Ht;ve.formToJSON=n=>o1(I.isHTMLForm(n)?new FormData(n):n);ve.getAdapter=f1.getAdapter;ve.HttpStatusCode=Yd;ve.default=ve;const{Axios:mL,AxiosError:gL,CanceledError:yL,isCancel:vL,CancelToken:xL,VERSION:kL,all:wL,Cancel:SL,isAxiosError:bL,spread:EL,toFormData:CL,AxiosHeaders:TL,HttpStatusCode:NL,formToJSON:ML,getAdapter:OL,mergeConfig:RL}=ve,Xo="http://localhost:3005/api",ai={getPostCountbySpecificUserId:async function(n){try{const e=await ve.get(`${Xo}/post/count/users/${n}`);if(e.data.status==="SUCCESS"&&e.data.data)return console.log(e.data.data),console.log("Successfully Get All User Count Post"),e.data.data;console.log(`User id : ${n} Not found`);return}catch(e){throw console.log(`Error While Post Count ${e.message}`),e}},getPostBySpecificUserId:async function(n){try{const e=await ve.get(`${Xo}/post/users/${n}`);if(e.data.status==="SUCCESS"&&e.data.data)return console.log("Successfully Get Post By User Id"),e.data.data;console.log("Post User Id Not Found")}catch(e){throw console.log(`Error While Post Count ${e.message}`),e}},deletePostById:async function(n){try{return(await ve.get(`${Xo}/post/${n}`)).data.status==="SUCCESS"?(console.log("Successfully Delete"),!0):(console.log("Post Not Found"),!1)}catch(e){throw console.log(`Error While Delete Post ${e.message}`),e}},getAllPost:async function(){try{const n=await ve.get(`${Xo}/post`);return n.data.status==="SUCCESS"?(console.log("Successfully Get All Post"),console.log(n.data.data),n.data.data):(console.log("Post Not Found"),!1)}catch(n){throw console.log(`Error While Getting All Post ${n.message}`),n}},createPost:async function(n){try{const e=await ve.post(`${Xo}/post/create`,n,{headers:{"Content-Type":"multipart/form-data"}});return e.data.status==="SUCCESS"?e.data.data:!1}catch(e){throw new Error(e)}},getPostById:async function(n){try{const e=await ve.get(`${Xo}/post/${n}`);return e.data.status==="SUCCESS"?e.data.data:!1}catch(e){throw new Error(e)}}},eN="http://localhost:3005/api",tN={createImage:async function(n){try{const e=await ve.post(`${eN}/post-image/create`,n,{headers:{"Content-Type":"multipart/form-data"}});return e.data.status==="SUCCESS"?e.data.data:!1}catch(e){throw new Error(e)}}};var ad={exports:{}},ud={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function nN(){if(Wy)return ud;Wy=1;var n=$s();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function u(g,v){var x=v(),k=r({inst:{value:x,getSnapshot:v}}),S=k[0].inst,b=k[1];return s(function(){S.value=x,S.getSnapshot=v,f(S)&&b({inst:S})},[g,x,v]),o(function(){return f(S)&&b({inst:S}),g(function(){f(S)&&b({inst:S})})},[g]),a(x),x}function f(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!t(g,x)}catch{return!0}}function d(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return ud.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,ud}var Ky;function m1(){return Ky||(Ky=1,ad.exports=nN()),ad.exports}var g1=m1();function gt(n){this.content=n}gt.prototype={constructor:gt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),s=r.content.slice();return o==-1?s.push(t||n,e):(s[o+1]=e,t&&(s[o]=t)),new gt(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new gt(t)},addToStart:function(n,e){return new gt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new gt(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),s=r.find(n);return o.splice(s==-1?o.length:s,0,e,t),new gt(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=gt.from(n),n.size?new gt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=gt.from(n),n.size?new gt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=gt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};gt.from=function(n){if(n instanceof gt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new gt(e)};function y1(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),s=e.child(r);if(o==s){t+=o.nodeSize;continue}if(!o.sameMarkup(s))return t;if(o.isText&&o.text!=s.text){for(let a=0;o.text[a]==s.text[a];a++)t++;return t}if(o.content.size||s.content.size){let a=y1(o.content,s.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function v1(n,e,t,r){for(let o=n.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:t,b:r};let a=n.child(--o),u=e.child(--s),f=a.nodeSize;if(a==u){t-=f,r-=f;continue}if(!a.sameMarkup(u))return{a:t,b:r};if(a.isText&&a.text!=u.text){let d=0,p=Math.min(a.text.length,u.text.length);for(;d<p&&a.text[a.text.length-d-1]==u.text[u.text.length-d-1];)d++,t--,r--;return{a:t,b:r}}if(a.content.size||u.content.size){let d=v1(a.content,u.content,t-1,r-1);if(d)return d}t-=f,r-=f}}class U{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,s){for(let a=0,u=0;u<t;a++){let f=this.content[a],d=u+f.nodeSize;if(d>e&&r(f,o+u,s||null,a)!==!1&&f.content.size){let p=u+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,t-p),r,o+p)}u=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let s="",a=!0;return this.nodesBetween(e,t,(u,f)=>{let d=u.isText?u.text.slice(Math.max(e,f)-f,t-f):u.isLeaf?o?typeof o=="function"?o(u):o:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&d||u.isTextblock)&&r&&(a?a=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new U(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let s=0,a=0;a<t;s++){let u=this.content[s],f=a+u.nodeSize;f>e&&((a<e||f>t)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,t-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,t-a-1))),r.push(u),o+=u.nodeSize),a=f}return new U(r,o)}cutByIndex(e,t){return e==t?U.empty:e==0&&t==this.content.length?this:new U(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new U(o,s)}addToStart(e){return new U([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new U(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return y1(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return v1(this,e,t,r)}findIndex(e){if(e==0)return pa(0,e);if(e==this.size)return pa(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let o=this.child(t),s=r+o.nodeSize;if(s>=e)return s==e?pa(t+1,s):pa(t,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return U.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new U(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return U.empty;let t,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(t||(t=e.slice(0,o)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new U(t||e,r)}static from(e){if(!e)return U.empty;if(e instanceof U)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new U([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}U.empty=new U([],0);const cd={index:0,offset:0};function pa(n,e){return cd.index=n,cd.offset=e,cd}function Ua(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Ua(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Ua(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Oe=class Xd{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ua(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=r.create(t.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Xd.none;if(e instanceof Xd)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}};Oe.none=[];class Ha extends Error{}class G{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=k1(this.content,e+this.openStart,t);return r&&new G(r,this.openStart,this.openEnd)}removeBetween(e,t){return new G(x1(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return G.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G(U.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)o++;return new G(e,r,o)}}G.empty=new G(U.empty,0,0);function x1(n,e,t){let{index:r,offset:o}=n.findIndex(e),s=n.maybeChild(r),{index:a,offset:u}=n.findIndex(t);if(o==e||s.isText){if(u!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(x1(s.content,e-o-1,t-o-1)))}function k1(n,e,t,r){let{index:o,offset:s}=n.findIndex(e),a=n.maybeChild(o);if(s==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let u=k1(a.content,e-s-1,t);return u&&n.replaceChild(o,a.copy(u))}function rN(n,e,t){if(t.openStart>n.depth)throw new Ha("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Ha("Inconsistent open depths");return w1(n,e,t,0)}function w1(n,e,t,r){let o=n.index(r),s=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let a=w1(n,e,t,r+1);return s.copy(s.content.replaceChild(o,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,u=a.content;return ho(a,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=oN(t,n);return ho(s,b1(n,a,u,e,r))}else return ho(s,Va(n,e,r))}function S1(n,e){if(!e.type.compatibleContent(n.type))throw new Ha("Cannot join "+e.type.name+" onto "+n.type.name)}function Zd(n,e,t){let r=n.node(t);return S1(r,e.node(t)),r}function fo(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function ms(n,e,t,r){let o=(e||n).node(t),s=0,a=e?e.index(t):o.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(fo(n.nodeAfter,r),s++));for(let u=s;u<a;u++)fo(o.child(u),r);e&&e.depth==t&&e.textOffset&&fo(e.nodeBefore,r)}function ho(n,e){return n.type.checkContent(e),n.copy(e)}function b1(n,e,t,r,o){let s=n.depth>o&&Zd(n,e,o+1),a=r.depth>o&&Zd(t,r,o+1),u=[];return ms(null,n,o,u),s&&a&&e.index(o)==t.index(o)?(S1(s,a),fo(ho(s,b1(n,e,t,r,o+1)),u)):(s&&fo(ho(s,Va(n,e,o+1)),u),ms(e,t,o,u),a&&fo(ho(a,Va(t,r,o+1)),u)),ms(r,null,o,u),new U(u)}function Va(n,e,t){let r=[];if(ms(null,n,t,r),n.depth>t){let o=Zd(n,e,t+1);fo(ho(o,Va(n,e,t+1)),r)}return ms(e,null,t,r),new U(r)}function oN(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)o=e.node(s).copy(U.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class Rs{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Oe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let u=r;r=o,o=u}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Wa(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,s=t;for(let a=e;;){let{index:u,offset:f}=a.content.findIndex(s),d=s-f;if(r.push(a,u,o+f),!d||(a=a.child(u),a.isText))break;s=d-1,o+=f+1}return new Rs(t,r,s)}static resolveCached(e,t){let r=qy.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==t)return a}else qy.set(e,r=new iN);let o=r.elts[r.i]=Rs.resolve(e,t);return r.i=(r.i+1)%sN,o}}class iN{constructor(){this.elts=[],this.i=0}}const sN=12,qy=new WeakMap;class Wa{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const lN=Object.create(null);class wn{constructor(e,t,r,o=Oe.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||U.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Ua(this.attrs,t||e.defaultAttrs||lN)&&Oe.sameSet(this.marks,r||Oe.none)}copy(e=null){return e==this.content?this:new wn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new wn(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return G.empty;let o=this.resolve(e),s=this.resolve(t),a=r?0:o.sharedDepth(t),u=o.start(a),d=o.node(a).content.cut(o.pos-u,s.pos-u);return new G(d,o.depth-a,s.depth-a)}replace(e,t,r){return rN(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return Rs.resolveCached(this,e)}resolveNoCache(e){return Rs.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),E1(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=U.empty,o=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,s),u=a&&a.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let f=o;f<s;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Oe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Oe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=U.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,o,r);return s.type.checkAttrs(s.attrs),s}}wn.prototype.text=void 0;class Ka extends wn{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):E1(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ka(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ka(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function E1(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class xo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new aN(e,t);if(r.next==null)return xo.empty;let o=C1(r);r.next&&r.err("Unexpected trailing text");let s=mN(pN(o));return gN(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let s=t;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function s(a,u){let f=a.matchFragment(e,r);if(f&&(!t||f.validEnd))return U.from(u.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:p,next:g}=a.next[d];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(g)==-1){o.push(g);let v=s(g,u.concat(p));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let a=[];for(let u=o;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:u,next:f}=s.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!o.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:o}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}xo.empty=new xo(!0);class aN{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function C1(n){let e=[];do e.push(uN(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function uN(n){let e=[];do e.push(cN(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function cN(n){let e=hN(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=fN(n,e);else break;return e}function Jy(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function fN(n,e){let t=Jy(n),r=t;return n.eat(",")&&(n.next!="}"?r=Jy(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function dN(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let s in t){let a=t[s];a.isInGroup(e)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function hN(n){if(n.eat("(")){let e=C1(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=dN(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function pN(n){let e=[[]];return o(s(n,0),t()),e;function t(){return e.push([])-1}function r(a,u,f){let d={term:f,to:u};return e[a].push(d),d}function o(a,u){a.forEach(f=>f.to=u)}function s(a,u){if(a.type=="choice")return a.exprs.reduce((f,d)=>f.concat(s(d,u)),[]);if(a.type=="seq")for(let f=0;;f++){let d=s(a.exprs[f],u);if(f==a.exprs.length-1)return d;o(d,u=t())}else if(a.type=="star"){let f=t();return r(u,f),o(s(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=t();return o(s(a.expr,u),f),o(s(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(u)].concat(s(a.expr,u));if(a.type=="range"){let f=u;for(let d=0;d<a.min;d++){let p=t();o(s(a.expr,f),p),f=p}if(a.max==-1)o(s(a.expr,f),f);else for(let d=a.min;d<a.max;d++){let p=t();r(f,p),o(s(a.expr,f),p),f=p}return[r(f)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function T1(n,e){return e-n}function Qy(n,e){let t=[];return r(e),t.sort(T1);function r(o){let s=n[o];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(o);for(let a=0;a<s.length;a++){let{term:u,to:f}=s[a];!u&&t.indexOf(f)==-1&&r(f)}}}function mN(n){let e=Object.create(null);return t(Qy(n,0));function t(r){let o=[];r.forEach(a=>{n[a].forEach(({term:u,to:f})=>{if(!u)return;let d;for(let p=0;p<o.length;p++)o[p][0]==u&&(d=o[p][1]);Qy(n,f).forEach(p=>{d||o.push([u,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[r.join(",")]=new xo(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let u=o[a][1].sort(T1);s.next.push({type:o[a][0],next:e[u.join(",")]||t(u)})}return s}}function gN(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],s=!o.validEnd,a=[];for(let u=0;u<o.next.length;u++){let{type:f,next:d}=o.next[u];a.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function N1(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function M1(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let s=n[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function O1(n,e,t,r){for(let o in e)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in n){let s=n[o];s.validate&&s.validate(e[o])}}function R1(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new vN(n,r,e[r]);return t}let Gy=class P1{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=R1(e,r.attrs),this.defaultAttrs=N1(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==xo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:M1(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new wn(this,this.computeAttrs(e),U.from(t),Oe.setFrom(r))}createChecked(e=null,t,r){return t=U.from(t),this.checkContent(t),new wn(this,this.computeAttrs(e),t,Oe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=U.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let o=this.contentMatch.matchFragment(t),s=o&&o.fillBefore(U.empty,!0);return s?new wn(this,e,t.append(s),Oe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){O1(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Oe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,a)=>r[s]=new P1(s,t,a));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function yN(n,e,t){let r=t.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class vN{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?yN(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Uu{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=R1(e,o.attrs),this.excluded=null;let s=N1(this.attrs);this.instance=s?new Oe(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Oe(this,M1(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((s,a)=>r[s]=new Uu(s,o++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){O1(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class A1{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=gt.from(e.nodes),t.marks=gt.from(e.marks||{}),this.nodes=Gy.compile(this.spec.nodes,this),this.marks=Uu.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],a=s.spec.content||"",u=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=xo.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=u=="_"?null:u?Yy(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:Yy(this,a.split(" "))}this.nodeFromJSON=o=>wn.fromJSON(this,o),this.markFromJSON=o=>Oe.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Gy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new Ka(r,r.defaultAttrs,e,Oe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Yy(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],s=n.marks[o],a=s;if(s)t.push(s);else for(let u in n.marks){let f=n.marks[u];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function xN(n){return n.tag!=null}function kN(n){return n.style!=null}class Dr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(o=>{if(xN(o))this.tags.push(o);else if(kN(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new Zy(this,t,!1);return r.addAll(e,Oe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Zy(this,t,!0);return r.addAll(e,Oe.none,t.from,t.to),G.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(bN(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,t,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let a=this.styles[s],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(a.getAttrs){let f=a.getAttrs(t);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let t=[];function r(o){let s=o.priority==null?50:o.priority,a=0;for(;a<t.length;a++){let u=t[a];if((u.priority==null?50:u.priority)<s)break}t.splice(a,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(a=>{r(a=e0(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(a=>{r(a=e0(a)),a.node||a.ignore||a.mark||(a.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Dr(e,Dr.schemaRules(e)))}}const L1={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wN={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},D1={ol:!0,ul:!0},Ps=1,eh=2,gs=4;function Xy(n,e,t){return e!=null?(e?Ps:0)|(e==="full"?eh:0):n&&n.whitespace=="pre"?Ps|eh:t&~gs}class ma{constructor(e,t,r,o,s,a){this.type=e,this.attrs=t,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Oe.none,this.match=s||(a&gs?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(U.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ps)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let t=U.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(U.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!L1.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Zy{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=t.topNode,s,a=Xy(null,t.preserveWhitespace,0)|(r?gs:0);o?s=new ma(o.type,o.attrs,Oe.none,!0,t.topMatch||o.type.contentMatch,a):r?s=new ma(null,null,Oe.none,!0,null,a):s=new ma(e.schema.topNodeType,null,Oe.none,!0,null,a),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,o=this.top,s=o.options&eh?"full":this.localPreserveWS||(o.options&Ps)>0;if(s==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],u=e.previousSibling;(!a||u&&u.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let o=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;D1.hasOwnProperty(a)&&this.parser.normalizeLists&&SN(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(f?f.ignore:wN.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let d,p=this.needsBlock;if(L1.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=f&&f.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),d&&this.sync(s),this.needsBlock=p}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,f,d,f.consuming===!1?u:void 0)}this.localPreserveWS=o}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],a=r.getPropertyValue(s);if(a)for(let u=void 0;;){let f=this.parser.matchStyle(s,a,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(d=>!f.clearMark(d)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return t}addElementByRule(e,t,r,o){let s,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(a,t.attrs||null,r,t.preserveWhitespace);f&&(s=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}s&&this.sync(u)&&this.open--}addAll(e,t,r,o){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=o==null?null:e.childNodes[o];a!=u;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,t);this.findAtPoint(e,s)}findPlace(e,t,r){let o,s;for(let a=this.open,u=0;a>=0;a--){let f=this.nodes[a],d=f.findWrapping(e);if(d&&(!o||o.length>d.length+u)&&(o=d,s=f,!d.length))break;if(f.solid){if(r)break;u+=2}}if(!o)return null;this.sync(s);for(let a=0;a<o.length;a++)t=this.enterInner(o[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let o=this.findPlace(e,t,r);if(o){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=Oe.none;for(let u of o.concat(e.marks))(s.type?s.type.allowsMarkType(u.type):t0(u.type,e.type))&&(a=u.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,t,r,o){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,o)),s}enterInner(e,t,r,o=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=Xy(e,s,a.options);a.options&gs&&a.content.length==0&&(u|=gs);let f=Oe.none;return r=r.filter(d=>(a.type?a.type.allowsMarkType(d.type):t0(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new ma(e,t,f,o,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Ps)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),a=(u,f)=>{for(;u>=0;u--){let d=t[u];if(d==""){if(u==t.length-1||u==0)continue;for(;f>=s;f--)if(a(u-1,f))return!0;return!1}else{let p=f>0||f==0&&o?this.nodes[f].type:r&&f>=s?r.node(f-s).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function SN(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&D1.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function bN(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function e0(n){let e={};for(let t in n)e[t]=n[t];return e}function t0(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let s=[],a=u=>{s.push(u);for(let f=0;f<u.edgeCount;f++){let{type:d,next:p}=u.edge(f);if(d==e||s.indexOf(p)<0&&a(p))return!0}};if(a(o.contentMatch))return!0}}class Co{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=fd(t).createDocumentFragment());let o=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let u=0,f=0;for(;u<s.length&&f<a.marks.length;){let d=a.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(s[u][0])||d.type.spec.spanning===!1)break;u++,f++}for(;u<s.length;)o=s.pop()[1];for(;f<a.marks.length;){let d=a.marks[f++],p=this.serializeMark(d,a.isInline,t);p&&(s.push([d,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=Aa(fd(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&Aa(fd(r),o(e,t),null,e.attrs)}static renderSpec(e,t,r=null,o){return Aa(e,t,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Co(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=n0(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return n0(e.marks)}}function n0(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function fd(n){return n.document||window.document}const r0=new WeakMap;function EN(n){let e=r0.get(n);return e===void 0&&r0.set(n,e=CN(n)),e}function CN(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)t(r[o]);else for(let o in r)t(r[o])}return t(n),e}function Aa(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=EN(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(t=o.slice(0,a),o=o.slice(a+1));let u,f=t?n.createElementNS(t,o):n.createElement(o),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let g in d)if(d[g]!=null){let v=g.indexOf(" ");v>0?f.setAttributeNS(g.slice(0,v),g.slice(v+1),d[g]):g=="style"&&f.style?f.style.cssText=d[g]:f.setAttribute(g,d[g])}}for(let g=p;g<e.length;g++){let v=e[g];if(v===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:x,contentDOM:k}=Aa(n,v,t,r);if(f.appendChild(x),k){if(u)throw new RangeError("Multiple content holes");u=k}}}return{dom:f,contentDOM:u}}const _1=65535,I1=Math.pow(2,16);function TN(n,e){return n+e*I1}function o0(n){return n&_1}function NN(n){return(n-(n&_1))/I1}const j1=1,z1=2,La=4,B1=8;class th{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&B1)>0}get deletedBefore(){return(this.delInfo&(j1|La))>0}get deletedAfter(){return(this.delInfo&(z1|La))>0}get deletedAcross(){return(this.delInfo&La)>0}}class Yt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Yt.empty)return Yt.empty}recover(e){let t=0,r=o0(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+NN(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?o:0);if(f>e)break;let d=this.ranges[u+s],p=this.ranges[u+a],g=f+d;if(e<=g){let v=d?e==f?-1:e==g?1:t:t,x=f+o+(v<0?0:p);if(r)return x;let k=e==(t<0?f:g)?null:TN(u/3,e-f),S=e==f?z1:e==g?j1:La;return(t<0?e!=f:e!=g)&&(S|=B1),new th(x,S,k)}o+=p-d}return r?e+o:new th(e+o,0,null)}touches(e,t){let r=0,o=o0(t),s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let d=this.ranges[u+s],p=f+d;if(e<=p&&u==o*3)return!0;r+=this.ranges[u+a]-d}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let a=this.ranges[o],u=a-(this.inverted?s:0),f=a+(this.inverted?0:s),d=this.ranges[o+t],p=this.ranges[o+r];e(u,u+d,f,f+p),s+=p-d}}invert(){return new Yt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Yt.empty:new Yt(e<0?[0,-e,0]:[0,0,e])}}Yt.empty=new Yt([]);class As{constructor(e,t,r=0,o=e?e.length:0){this.mirror=t,this.from=r,this.to=o,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new As(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let o=e.getMirror(t);this.appendMap(e._maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e._maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new As;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],u=a.mapResult(e,t);if(u.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this._maps[f].recover(u.recover);continue}}o|=u.delInfo,e=u.pos}return r?e:new th(e,o,null)}}const dd=Object.create(null);class Tt{getMap(){return Yt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=dd[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in dd)throw new RangeError("Duplicate use of step JSON ID "+e);return dd[e]=t,t.prototype.jsonID=e,t}}class Ze{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ze(e,null)}static fail(e){return new Ze(null,e)}static fromReplace(e,t,r,o){try{return Ze.ok(e.replace(t,r,o))}catch(s){if(s instanceof Ha)return Ze.fail(s.message);throw s}}}function zh(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let s=n.child(o);s.content.size&&(s=s.copy(zh(s.content,e,s))),s.isInline&&(s=e(s,t,o)),r.push(s)}return U.fromArray(r)}class Pr extends Tt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new G(zh(t.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return Ze.fromReplace(e,this.from,this.to,s)}invert(){return new kn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Pr(t.pos,r.pos,this.mark)}merge(e){return e instanceof Pr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pr(t.from,t.to,e.markFromJSON(t.mark))}}Tt.jsonID("addMark",Pr);class kn extends Tt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new G(zh(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return Ze.fromReplace(e,this.from,this.to,r)}invert(){return new Pr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new kn(t.pos,r.pos,this.mark)}merge(e){return e instanceof kn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new kn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new kn(t.from,t.to,e.markFromJSON(t.mark))}}Tt.jsonID("removeMark",kn);class Ar extends Tt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ze.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ze.fromReplace(e,this.pos,this.pos+1,new G(U.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new Ar(this.pos,t.marks[o]);return new Ar(this.pos,this.mark)}}return new ko(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ar(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ar(t.pos,e.markFromJSON(t.mark))}}Tt.jsonID("addNodeMark",Ar);class ko extends Tt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ze.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ze.fromReplace(e,this.pos,this.pos+1,new G(U.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ar(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ko(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ko(t.pos,e.markFromJSON(t.mark))}}Tt.jsonID("removeNodeMark",ko);class ut extends Tt{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&nh(e,this.from,this.to)?Ze.fail("Structure replace would overwrite content"):Ze.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Yt([this.from,this.to-this.from,this.slice.size])}invert(e){return new ut(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ut(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ut)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ut(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ut(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ut(t.from,t.to,G.fromJSON(e,t.slice),!!t.structure)}}Tt.jsonID("replace",ut);class ct extends Tt{constructor(e,t,r,o,s,a,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=a,this.structure=u}apply(e){if(this.structure&&(nh(e,this.from,this.gapFrom)||nh(e,this.gapTo,this.to)))return Ze.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ze.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ze.fromReplace(e,this.from,this.to,r):Ze.fail("Content does not fit in gap")}getMap(){return new Yt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ct(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||s>r.pos?null:new ct(t.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ct(t.from,t.to,t.gapFrom,t.gapTo,G.fromJSON(e,t.slice),t.insert,!!t.structure)}}Tt.jsonID("replaceAround",ct);function nh(n,e,t){let r=n.resolve(e),o=t-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function MN(n,e,t,r){let o=[],s=[],a,u;n.doc.nodesBetween(e,t,(f,d,p)=>{if(!f.isInline)return;let g=f.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let v=Math.max(d,e),x=Math.min(d+f.nodeSize,t),k=r.addToSet(g);for(let S=0;S<g.length;S++)g[S].isInSet(k)||(a&&a.to==v&&a.mark.eq(g[S])?a.to=x:o.push(a=new kn(v,x,g[S])));u&&u.to==v?u.to=x:s.push(u=new Pr(v,x,r))}}),o.forEach(f=>n.step(f)),s.forEach(f=>n.step(f))}function ON(n,e,t,r){let o=[],s=0;n.doc.nodesBetween(e,t,(a,u)=>{if(!a.isInline)return;s++;let f=null;if(r instanceof Uu){let d=a.marks,p;for(;p=r.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let d=Math.min(u+a.nodeSize,t);for(let p=0;p<f.length;p++){let g=f[p],v;for(let x=0;x<o.length;x++){let k=o[x];k.step==s-1&&g.eq(o[x].style)&&(v=k)}v?(v.to=d,v.step=s):o.push({style:g,from:Math.max(u,e),to:d,step:s})}}}),o.forEach(a=>n.step(new kn(a.from,a.to,a.style)))}function Bh(n,e,t,r=t.contentMatch,o=!0){let s=n.doc.nodeAt(e),a=[],u=e+1;for(let f=0;f<s.childCount;f++){let d=s.child(f),p=u+d.nodeSize,g=r.matchType(d.type);if(!g)a.push(new ut(u,p,G.empty));else{r=g;for(let v=0;v<d.marks.length;v++)t.allowsMarkType(d.marks[v].type)||n.step(new kn(u,p,d.marks[v]));if(o&&d.isText&&t.whitespace!="pre"){let v,x=/\r?\n|\r/g,k;for(;v=x.exec(d.text);)k||(k=new G(U.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),a.push(new ut(u+v.index,u+v.index+v[0].length,k))}}u=p}if(!r.validEnd){let f=r.fillBefore(U.empty,!0);n.replace(u,u,new G(f,0,0))}for(let f=a.length-1;f>=0;f--)n.step(a[f])}function RN(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function xi(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),s=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(s,a,t))return r;if(r==0||o.type.spec.isolating||!RN(o,s,a))break}return null}function PN(n,e,t){let{$from:r,$to:o,depth:s}=e,a=r.before(s+1),u=o.after(s+1),f=a,d=u,p=U.empty,g=0;for(let k=s,S=!1;k>t;k--)S||r.index(k)>0?(S=!0,p=U.from(r.node(k).copy(p)),g++):f--;let v=U.empty,x=0;for(let k=s,S=!1;k>t;k--)S||o.after(k+1)<o.end(k)?(S=!0,v=U.from(o.node(k).copy(v)),x++):d++;n.step(new ct(f,d,a,u,new G(p.append(v),g,x),p.size-g,!0))}function Fh(n,e,t=null,r=n){let o=AN(n,e),s=o&&LN(r,e);return s?o.map(i0).concat({type:e,attrs:t}).concat(s.map(i0)):null}function i0(n){return{type:n,attrs:null}}function AN(n,e){let{parent:t,startIndex:r,endIndex:o}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return t.canReplaceWith(r,o,a)?s:null}function LN(n,e){let{parent:t,startIndex:r,endIndex:o}=n,s=t.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let d=r;f&&d<o;d++)f=f.matchType(t.child(d).type);return!f||!f.validEnd?null:a}function DN(n,e,t){let r=U.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let u=t[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=U.from(t[a].type.create(t[a].attrs,r))}let o=e.start,s=e.end;n.step(new ct(o,s,o,s,new G(r,0,0),t.length,!0))}function _N(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(a,u)=>{let f=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,f)&&IN(n.doc,n.mapping.slice(s).map(u),r)){let d=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",k=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!k?d=!1:!x&&k&&(d=!0)}d===!1&&$1(n,a,u,s),Bh(n,n.mapping.slice(s).map(u,1),r,void 0,d===null);let p=n.mapping.slice(s),g=p.map(u,1),v=p.map(u+a.nodeSize,1);return n.step(new ct(g,v,g+1,v-1,new G(U.from(r.create(f,null,a.marks)),0,0),1,!0)),d===!0&&F1(n,a,u,s),!1}})}function F1(n,e,t,r){e.forEach((o,s)=>{if(o.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(o.text);){let f=n.mapping.slice(r).map(t+1+s+a.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function $1(n,e,t,r){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+s);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function IN(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function jN(n,e,t,r,o){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let a=t.create(r,null,o||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,a);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new ct(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new G(U.from(a),0,0),1,!0))}function Zn(n,e,t=1,r){let o=n.resolve(e),s=o.depth-t,a=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let d=o.depth-1,p=t-2;d>s;d--,p--){let g=o.node(d),v=o.index(d);if(g.type.spec.isolating)return!1;let x=g.content.cutByIndex(v,g.childCount),k=r&&r[p+1];k&&(x=x.replaceChild(0,k.type.create(k.attrs)));let S=r&&r[p]||g;if(!g.canReplace(v+1,g.childCount)||!S.type.validContent(x))return!1}let u=o.indexAfter(s),f=r&&r[0];return o.node(s).canReplaceWith(u,u,f?f.type:o.node(s+1).type)}function zN(n,e,t=1,r){let o=n.doc.resolve(e),s=U.empty,a=U.empty;for(let u=o.depth,f=o.depth-t,d=t-1;u>f;u--,d--){s=U.from(o.node(u).copy(s));let p=r&&r[d];a=U.from(p?p.type.create(p.attrs,a):o.node(u).copy(a))}n.step(new ut(e,e,new G(s.append(a),t,t),!0))}function $r(n,e){let t=n.resolve(e),r=t.index();return U1(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function BN(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),a=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function U1(n,e){return!!(n&&e&&!n.isLeaf&&BN(n,e))}function Hu(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let s,a,u=r.index(o);if(o==r.depth?(s=r.nodeBefore,a=r.nodeAfter):t>0?(s=r.node(o+1),u++,a=r.node(o).maybeChild(u)):(s=r.node(o).maybeChild(u-1),a=r.node(o+1)),s&&!s.isTextblock&&U1(s,a)&&r.node(o).canReplace(u,u+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function FN(n,e,t){let r=null,{linebreakReplacement:o}=n.doc.type.schema,s=n.doc.resolve(e-t),a=s.node().type;if(o&&a.inlineContent){let p=a.whitespace=="pre",g=!!a.contentMatch.matchType(o);p&&!g?r=!1:!p&&g&&(r=!0)}let u=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);$1(n,p.node(),p.before(),u)}a.inlineContent&&Bh(n,e+t-1,a,s.node().contentMatchAt(s.index()),r==null);let f=n.mapping.slice(u),d=f.map(e-t);if(n.step(new ut(d,f.map(e+t,-1),G.empty,!0)),r===!0){let p=n.doc.resolve(d);F1(n,p.node(),p.before(),n.steps.length)}return n}function $N(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,t))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,t))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function H1(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let s=0;s<t.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(u>0?1:0),d=r.node(a),p=!1;if(s==1)p=d.canReplace(f,f,o);else{let g=d.contentMatchAt(f).findWrapping(o.firstChild.type);p=g&&d.canReplaceWith(f,f,g[0])}if(p)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function Vu(n,e,t=e,r=G.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),s=n.resolve(t);return V1(o,s,r)?new ut(e,t,r):new UN(o,s,r).fit()}function V1(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class UN{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=U.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=U.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,a=r.depth,u=o.depth;for(;a&&u&&s.childCount==1;)s=s.firstChild.content,a--,u--;let f=new G(s,a,u);return e>-1?new ct(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new ut(r.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=hd(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let a=o.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:d}=this.frontier[u],p,g=null;if(t==1&&(a?d.matchType(a.type)||(g=d.fillBefore(U.from(a),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:u,parent:s,inject:g};if(t==2&&a&&(p=d.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=hd(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new G(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=hd(e,t);if(o.childCount<=1&&t>0){let s=e.size-t<=t+o.size;this.unplaced=new G(fs(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new G(fs(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let a=this.unplaced,u=r?r.content:a.content,f=a.openStart-e,d=0,p=[],{match:g,type:v}=this.frontier[t];if(o){for(let S=0;S<o.childCount;S++)p.push(o.child(S));g=g.matchFragment(o)}let x=u.size+e-(a.content.size-a.openEnd);for(;d<u.childCount;){let S=u.child(d),b=g.matchType(S.type);if(!b)break;d++,(d>1||f==0||S.content.size)&&(g=b,p.push(W1(S.mark(v.allowedMarks(S.marks)),d==1?f:0,d==u.childCount?x:-1)))}let k=d==u.childCount;k||(x=-1),this.placed=ds(this.placed,t,U.from(p)),this.frontier[t].match=g,k&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,b=u;S<x;S++){let E=b.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),b=E.content}this.unplaced=k?e==0?G.empty:new G(fs(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new G(fs(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!pd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=pd(e,t,o,r,s);if(a){for(let u=t-1;u>=0;u--){let{match:f,type:d}=this.frontier[u],p=pd(e,u,d,f,!0);if(!p||p.childCount)continue e}return{depth:t,fit:a,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ds(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=ds(this.placed,this.depth,U.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(U.empty,!0);t.childCount&&(this.placed=ds(this.placed,this.frontier.length,t))}}function fs(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(fs(n.firstChild.content,e-1,t)))}function ds(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ds(n.lastChild.content,e-1,t)))}function hd(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function W1(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,W1(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(U.empty,!0)))),n.copy(r)}function pd(n,e,t,r,o){let s=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==s.childCount&&!t.compatibleContent(s.type))return null;let u=r.fillBefore(s.content,!0,a);return u&&!HN(t,s.content,a)?u:null}function HN(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function VN(n){return n.spec.defining||n.spec.definingForContent}function WN(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),s=n.doc.resolve(t);if(V1(o,s,r))return n.step(new ut(e,t,r));let a=q1(o,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let u=-(o.depth+1);a.unshift(u);for(let v=o.depth,x=o.pos-1;v>0;v--,x--){let k=o.node(v).type.spec;if(k.defining||k.definingAsContext||k.isolating)break;a.indexOf(v)>-1?u=v:o.before(v)==x&&a.splice(1,0,-v)}let f=a.indexOf(u),d=[],p=r.openStart;for(let v=r.content,x=0;;x++){let k=v.firstChild;if(d.push(k),x==r.openStart)break;v=k.content}for(let v=p-1;v>=0;v--){let x=d[v],k=VN(x.type);if(k&&!x.sameMarkup(o.node(Math.abs(u)-1)))p=v;else if(k||!x.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let x=(v+p+1)%(r.openStart+1),k=d[x];if(k)for(let S=0;S<a.length;S++){let b=a[(S+f)%a.length],E=!0;b<0&&(E=!1,b=-b);let N=o.node(b-1),P=o.index(b-1);if(N.canReplaceWith(P,P,k.type,k.marks))return n.replace(o.before(b),E?s.after(b):t,new G(K1(r.content,0,r.openStart,x),x,r.openEnd))}}let g=n.steps.length;for(let v=a.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>g));v--){let x=a[v];x<0||(e=o.before(x),t=s.after(x))}}function K1(n,e,t,r,o){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(K1(s.content,e+1,t,r,s)))}if(e>r){let s=o.contentMatchAt(0),a=s.fillBefore(n).append(n);n=a.append(s.matchFragment(a).fillBefore(U.empty,!0))}return n}function KN(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=$N(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new G(U.from(r),0,0))}function qN(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),s=q1(r,o);for(let a=0;a<s.length;a++){let u=s[a],f=a==s.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),o.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),o.indexAfter(u-1))))return n.delete(r.before(u),o.after(u))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&o.end(a)-t!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function q1(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let s=n.start(o);if(s<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&t.push(o)}return t}class si extends Tt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ze.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return Ze.fromReplace(e,this.pos,this.pos+1,new G(U.from(o),0,t.isLeaf?0:1))}getMap(){return Yt.empty}invert(e){return new si(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new si(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new si(t.pos,t.attr,t.value)}}Tt.jsonID("attr",si);class Ls extends Tt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ze.ok(r)}getMap(){return Yt.empty}invert(e){return new Ls(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ls(t.attr,t.value)}}Tt.jsonID("docAttr",Ls);let ui=class extends Error{};ui=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};ui.prototype=Object.create(Error.prototype);ui.prototype.constructor=ui;ui.prototype.name="TransformError";class J1{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new As}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new ui(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=G.empty){let o=Vu(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new G(U.from(r),0,0))}delete(e,t){return this.replace(e,t,G.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return WN(this,e,t,r),this}replaceRangeWith(e,t,r){return KN(this,e,t,r),this}deleteRange(e,t){return qN(this,e,t),this}lift(e,t){return PN(this,e,t),this}join(e,t=1){return FN(this,e,t),this}wrap(e,t){return DN(this,e,t),this}setBlockType(e,t=e,r,o=null){return _N(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return jN(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new si(e,t,r)),this}setDocAttribute(e,t){return this.step(new Ls(e,t)),this}addNodeMark(e,t){return this.step(new Ar(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Oe)t.isInSet(r.marks)&&this.step(new ko(e,t));else{let o=r.marks,s,a=[];for(;s=t.isInSet(o);)a.push(new ko(e,s)),o=s.removeFromSet(o);for(let u=a.length-1;u>=0;u--)this.step(a[u])}return this}split(e,t=1,r){return zN(this,e,t,r),this}addMark(e,t,r){return MN(this,e,t,r),this}removeMark(e,t,r){return ON(this,e,t,r),this}clearIncompatible(e,t,r){return Bh(this,e,t,r),this}}const md=Object.create(null);class pe{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new JN(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=G.empty){let r=t.content.lastChild,o=null;for(let u=0;u<t.openEnd;u++)o=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:f,$to:d}=a[u],p=e.mapping.slice(s);e.replaceRange(p.map(f.pos),p.map(d.pos),u?G.empty:t),u==0&&a0(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:u}=o[s],f=e.mapping.slice(r),d=f.map(a.pos),p=f.map(u.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,t),a0(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new fe(e):ti(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let a=t<0?ti(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):ti(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Xt(e.node(0))}static atStart(e){return ti(e,e,0,0,1)||new Xt(e)}static atEnd(e){return ti(e,e,e.content.size,e.childCount,-1)||new Xt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=md[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in md)throw new RangeError("Duplicate use of selection JSON ID "+e);return md[e]=t,t.prototype.jsonID=e,t}getBookmark(){return fe.between(this.$anchor,this.$head).getBookmark()}}pe.prototype.visible=!0;class JN{constructor(e,t){this.$from=e,this.$to=t}}let s0=!1;function l0(n){!s0&&!n.parent.inlineContent&&(s0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class fe extends pe{constructor(e,t=e){l0(e),l0(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return pe.near(r);let o=e.resolve(t.map(this.anchor));return new fe(o.parent.inlineContent?o:r,r)}replace(e,t=G.empty){if(super.replace(e,t),t==G.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof fe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Wu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new fe(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let s=pe.findFrom(t,r,!0)||pe.findFrom(t,-r,!0);if(s)t=s.$head;else return pe.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(pe.findFrom(e,-r,!0)||pe.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new fe(e,t)}}pe.jsonID("text",fe);class Wu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Wu(e.map(this.anchor),e.map(this.head))}resolve(e){return fe.between(e.resolve(this.anchor),e.resolve(this.head))}}class se extends pe{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),s=e.resolve(o);return r?pe.near(s):new se(s)}content(){return new G(U.from(this.node),0,0)}eq(e){return e instanceof se&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $h(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new se(e.resolve(t.anchor))}static create(e,t){return new se(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}se.prototype.visible=!1;pe.jsonID("node",se);class $h{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Wu(r,r):new $h(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&se.isSelectable(r)?new se(t):pe.near(t)}}class Xt extends pe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=G.empty){if(t==G.empty){e.delete(0,e.doc.content.size);let r=pe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Xt(e)}map(e){return new Xt(e)}eq(e){return e instanceof Xt}getBookmark(){return QN}}pe.jsonID("all",Xt);const QN={map(){return this},resolve(n){return new Xt(n)}};function ti(n,e,t,r,o,s=!1){if(e.inlineContent)return fe.create(n,t);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let u=e.child(a);if(u.isAtom){if(!s&&se.isSelectable(u))return se.create(n,t-(o<0?u.nodeSize:0))}else{let f=ti(n,u,t+o,o<0?u.childCount:0,o,s);if(f)return f}t+=u.nodeSize*o}return null}function a0(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof ut||o instanceof ct))return;let s=n.mapping.maps[r],a;s.forEach((u,f,d,p)=>{a==null&&(a=p)}),n.setSelection(pe.near(n.doc.resolve(a),t))}const u0=1,ga=2,c0=4;class GN extends J1{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|u0)&~ga,this.storedMarks=null,this}get selectionSet(){return(this.updated&u0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ga,this}ensureMarks(e){return Oe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ga)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ga,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Oe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(t);s=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,s)),this.selection.empty||this.setSelection(pe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=c0,this}get scrolledIntoView(){return(this.updated&c0)>0}}function f0(n,e){return!e||!n?n:n.bind(e)}class hs{constructor(e,t,r){this.name=e,this.init=f0(t.init,r),this.apply=f0(t.apply,r)}}const YN=[new hs("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new hs("selection",{init(n,e){return n.selection||pe.atStart(e.doc)},apply(n){return n.selection}}),new hs("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new hs("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class gd{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=YN.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new hs(r.key,r.spec.state,r))})}}class ii{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let f=o?o[a].n:0,d=o?o[a].state:this,p=f<t.length&&u.spec.appendTransaction.call(u,f?t.slice(f):t,d,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!o){o=[];for(let g=0;g<this.config.plugins.length;g++)o.push(g<a?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),s=!0}o&&(o[a]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ii(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new GN(this)}static create(e){let t=new gd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ii(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new gd(this.schema,e.plugins),r=t.fields,o=new ii(t);for(let s=0;s<r.length;s++){let a=r[s].name;o[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new gd(e.schema,e.plugins),s=new ii(o);return o.fields.forEach(a=>{if(a.name=="doc")s.doc=wn.fromJSON(e.schema,t.doc);else if(a.name=="selection")s.selection=pe.fromJSON(s.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],d=f.spec.state;if(f.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){s[a.name]=d.fromJSON.call(f,e,t[u],s);return}}s[a.name]=a.init(e,s)}}),s}}function Q1(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=Q1(o,e,{})),t[r]=o}return t}class qe{constructor(e){this.spec=e,this.props={},e.props&&Q1(e.props,this,this.props),this.key=e.key?e.key.key:G1("plugin")}getState(e){return e[this.key]}}const yd=Object.create(null);function G1(n){return n in yd?n+"$"+ ++yd[n]:(yd[n]=0,n+"$")}class dt{constructor(e="key"){this.key=G1(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const yt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},ci=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let rh=null;const Gn=function(n,e,t){let r=rh||(rh=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},XN=function(){rh=null},wo=function(n,e,t,r){return t&&(d0(n,e,t,r,-1)||d0(n,e,t,r,1))},ZN=/^(img|br|input|textarea|hr)$/i;function d0(n,e,t,r,o){for(var s;;){if(n==t&&e==r)return!0;if(e==(o<0?0:cn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||Xs(n)||ZN.test(n.nodeName)||n.contentEditable=="false")return!1;e=yt(n)+(o<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[e+(o<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=o;else return!1;else n=a,e=o<0?cn(n):0}else return!1}}function cn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function e2(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=cn(n)}else if(n.parentNode&&!Xs(n))e=yt(n),n=n.parentNode;else return null}}function t2(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Xs(n))e=yt(n)+1,n=n.parentNode;else return null}}function n2(n,e,t){for(let r=e==0,o=e==cn(n);r||o;){if(n==t)return!0;let s=yt(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,o=o&&s==cn(n)}}function Xs(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Ku=function(n){return n.focusNode&&wo(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function ro(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function r2(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function o2(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(cn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(cn(r.startContainer),r.startOffset)}}}const _n=typeof navigator<"u"?navigator:null,h0=typeof document<"u"?document:null,Ur=_n&&_n.userAgent||"",oh=/Edge\/(\d+)/.exec(Ur),Y1=/MSIE \d/.exec(Ur),ih=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ur),Vt=!!(Y1||ih||oh),_r=Y1?document.documentMode:ih?+ih[1]:oh?+oh[1]:0,Sn=!Vt&&/gecko\/(\d+)/i.test(Ur);Sn&&+(/Firefox\/(\d+)/.exec(Ur)||[0,0])[1];const sh=!Vt&&/Chrome\/(\d+)/.exec(Ur),Ct=!!sh,X1=sh?+sh[1]:0,At=!Vt&&!!_n&&/Apple Computer/.test(_n.vendor),fi=At&&(/Mobile\/\w+/.test(Ur)||!!_n&&_n.maxTouchPoints>2),un=fi||(_n?/Mac/.test(_n.platform):!1),i2=_n?/Win/.test(_n.platform):!1,Yn=/Android \d/.test(Ur),Zs=!!h0&&"webkitFontSmoothing"in h0.documentElement.style,s2=Zs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function l2(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Kn(n,e){return typeof n=="number"?n:n[e]}function a2(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function p0(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=ci(a);continue}let u=a,f=u==s.body,d=f?l2(s):a2(u),p=0,g=0;if(e.top<d.top+Kn(r,"top")?g=-(d.top-e.top+Kn(o,"top")):e.bottom>d.bottom-Kn(r,"bottom")&&(g=e.bottom-e.top>d.bottom-d.top?e.top+Kn(o,"top")-d.top:e.bottom-d.bottom+Kn(o,"bottom")),e.left<d.left+Kn(r,"left")?p=-(d.left-e.left+Kn(o,"left")):e.right>d.right-Kn(r,"right")&&(p=e.right-d.right+Kn(o,"right")),p||g)if(f)s.defaultView.scrollBy(p,g);else{let x=u.scrollLeft,k=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let S=u.scrollLeft-x,b=u.scrollTop-k;e={left:e.left-S,top:e.top-b,right:e.right-S,bottom:e.bottom-b}}let v=f?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(v))break;a=v=="absolute"?a.offsetParent:ci(a)}}function u2(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=n.root.elementFromPoint(s,a);if(!u||u==n.dom||!n.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=t-20){r=u,o=f.top;break}}return{refDOM:r,refTop:o,stack:Z1(n.dom)}}function Z1(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=ci(r));return e}function c2({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;ex(t,r==0?0:r-e)}function ex(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:s}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Zo=null;function f2(n){if(n.setActive)return n.setActive();if(Zo)return n.focus(Zo);let e=Z1(n);n.focus(Zo==null?{get preventScroll(){return Zo={preventScroll:!0},!0}}:void 0),Zo||(Zo=!1,ex(e,0))}function tx(n,e){let t,r=2e8,o,s=0,a=e.top,u=e.top,f,d;for(let p=n.firstChild,g=0;p;p=p.nextSibling,g++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Gn(p).getClientRects();else continue;for(let x=0;x<v.length;x++){let k=v[x];if(k.top<=a&&k.bottom>=u){a=Math.max(k.bottom,a),u=Math.min(k.top,u);let S=k.left>e.left?k.left-e.left:k.right<e.left?e.left-k.right:0;if(S<r){t=p,r=S,o=S&&t.nodeType==3?{left:k.right<e.left?k.right:k.left,top:e.top}:e,p.nodeType==1&&S&&(s=g+(e.left>=(k.left+k.right)/2?1:0));continue}}else k.top>e.top&&!f&&k.left<=e.left&&k.right>=e.left&&(f=p,d={left:Math.max(k.left,Math.min(k.right,e.left)),top:k.top});!t&&(e.left>=k.right&&e.top>=k.top||e.left>=k.left&&e.top>=k.bottom)&&(s=g+1)}}return!t&&f&&(t=f,o=d,r=0),t&&t.nodeType==3?d2(t,o):!t||r&&t.nodeType==1?{node:n,offset:s}:tx(t,o)}function d2(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let s=Cr(r,1);if(s.top!=s.bottom&&Uh(e,s))return{node:n,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function Uh(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function h2(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function p2(n,e,t){let{node:r,offset:o}=tx(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,s)}function m2(n,e,t,r){let o=-1;for(let s=e,a=!1;s!=n.dom;){let u=n.docView.nearestDesc(s,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!a&&f.left>r.left||f.top>r.top?o=u.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(o=u.posAfter),a=!0),!u.contentDOM&&o<0&&!u.node.isText))return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;s=u.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function nx(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=o;;){let a=n.childNodes[s];if(a.nodeType==1){let u=a.getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(Uh(e,d))return nx(a,e,d)}}if((s=(s+1)%r)==o)break}return n}function g2(n,e){let t=n.dom.ownerDocument,r,o=0,s=o2(t,e.left,e.top);s&&({node:r,offset:o}=s);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=n.dom.getBoundingClientRect();if(!Uh(e,d)||(a=nx(n.dom,e,d),!a))return null}if(At)for(let d=a;r&&d;d=ci(d))d.draggable&&(r=void 0);if(a=h2(a,e),r){if(Sn&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let p=r.childNodes[o],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&o++}let d;Zs&&o&&r.nodeType==1&&(d=r.childNodes[o-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(u=m2(n,r,o,e))}u==null&&(u=p2(n,a,e));let f=n.docView.nearestDesc(a,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function m0(n){return n.top<n.bottom||n.left<n.right}function Cr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(m0(r))return r}return Array.prototype.find.call(t,m0)||n.getBoundingClientRect()}const y2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function rx(n,e,t){let{node:r,offset:o,atom:s}=n.docView.domFromPos(e,t<0?-1:1),a=Zs||Sn;if(r.nodeType==3)if(a&&(y2.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let f=Cr(Gn(r,o,o),t);if(Sn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let d=Cr(Gn(r,o-1,o-1),-1);if(d.top==f.top){let p=Cr(Gn(r,o,o+1),-1);if(p.top!=f.top)return us(p,p.left<d.left)}}return f}else{let f=o,d=o,p=t<0?1:-1;return t<0&&!o?(d++,p=-1):t>=0&&o==r.nodeValue.length?(f--,p=1):t<0?f--:d++,us(Cr(Gn(r,f,d),p),p<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(t<0||o==cn(r))){let f=r.childNodes[o-1];if(f.nodeType==1)return vd(f.getBoundingClientRect(),!1)}if(s==null&&o<cn(r)){let f=r.childNodes[o];if(f.nodeType==1)return vd(f.getBoundingClientRect(),!0)}return vd(r.getBoundingClientRect(),t>=0)}if(s==null&&o&&(t<0||o==cn(r))){let f=r.childNodes[o-1],d=f.nodeType==3?Gn(f,cn(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return us(Cr(d,1),!1)}if(s==null&&o<cn(r)){let f=r.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?Gn(f,0,a?0:1):f.nodeType==1?f:null:null;if(d)return us(Cr(d,-1),!0)}return us(Cr(r.nodeType==3?Gn(r):r,-t),t>=0)}function us(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function vd(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function ox(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function v2(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return ox(n,e,()=>{let{node:s}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let a=rx(n,o.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Gn(u,0,u.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(t=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const x2=/[\u0590-\u08ac]/;function k2(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,a=o==r.parent.content.size,u=n.domSelection();return u?!x2.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?s:a:ox(n,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:g}=n.domSelectionRange(),v=u.caretBidiLevel;u.modify("move",t,"character");let x=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:k,focusOffset:S}=n.domSelectionRange(),b=k&&!x.contains(k.nodeType==1?k:k.parentNode)||f==k&&d==S;try{u.collapse(p,g),f&&(f!=p||d!=g)&&u.extend&&u.extend(f,d)}catch{}return v!=null&&(u.caretBidiLevel=v),b}):r.pos==r.start()||r.pos==r.end()}let g0=null,y0=null,v0=!1;function w2(n,e,t){return g0==e&&y0==t?v0:(g0=e,y0=t,v0=t=="up"||t=="down"?v2(n,e,t):k2(n,e,t))}const fn=0,x0=1,io=2,In=3;class el{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=fn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>yt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),a;if(s&&(!t||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let u=o.children[a];if(u.size){o=u;break}}return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],u=s+a.size;if(u>e||a instanceof sx){o=e-s;break}s=u}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof ix&&s.side>=0;r--);if(t<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&t&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?yt(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?yt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let a=r,u=0;;u++){let f=this.children[u],d=a+f.size;if(o==-1&&e<=d){let p=a+f.border;if(e>=p&&t<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,p);e=a;for(let g=u;g>0;g--){let v=this.children[g-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){o=yt(v.dom)+1;break}e-=v.size}o==-1&&(o=0)}if(o>-1&&(d>t||u==this.children.length-1)){t=d;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=yt(g.dom);break}t+=g.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let s=Math.min(e,t),a=Math.max(e,t);for(let x=0,k=0;x<this.children.length;x++){let S=this.children[x],b=k+S.size;if(s>k&&a<b)return S.setSelection(e-k-S.border,t-k-S.border,r,o);k=b}let u=this.domFromPos(e,e?-1:1),f=t==e?u:this.domFromPos(t,t?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((Sn||At)&&e==t){let{node:x,offset:k}=u;if(x.nodeType==3){if(g=!!(k&&x.nodeValue[k-1]==`
`),g&&k==x.nodeValue.length)for(let S=x,b;S;S=S.parentNode){if(b=S.nextSibling){b.nodeName=="BR"&&(u=f={node:b.parentNode,offset:yt(b)+1});break}let E=S.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let S=x.childNodes[k-1];g=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Sn&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let x=p.focusNode.childNodes[p.focusOffset];x&&x.contentEditable=="false"&&(o=!0)}if(!(o||g&&At)&&wo(u.node,u.offset,p.anchorNode,p.anchorOffset)&&wo(f.node,f.offset,p.focusNode,p.focusOffset))return;let v=!1;if((d.extend||e==t)&&!g){d.collapse(u.node,u.offset);try{e!=t&&d.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(e>t){let k=u;u=f,f=k}let x=document.createRange();x.setEnd(f.node,f.offset),x.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],a=r+s.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let u=r+s.border,f=a-s.border;if(e>=u&&t<=f){this.dirty=e==r||t==a?io:x0,e==u&&t==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=In:s.markDirty(e-u,t-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?io:In}r=a}this.dirty=io}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?io:x0;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ix extends el{constructor(e,t,r,o){let s,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==fn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class S2 extends el{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class So extends el{constructor(e,t,r,o,s){super(e,[],r,o),this.mark=t,this.spec=s}static create(e,t,r,o){let s=o.nodeViews[t.type.name],a=s&&s(t,o,r);return(!a||!a.dom)&&(a=Co.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new So(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&In||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=In&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=fn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=fn}}slice(e,t,r){let o=So.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;t<a&&(s=ah(s,t,a,r)),e>0&&(s=ah(s,0,e,r));for(let u=0;u<s.length;u++)s[u].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ir extends el{constructor(e,t,r,o,s,a,u,f,d){super(e,[],s,a),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=u}static create(e,t,r,o,s,a){let u=s.nodeViews[t.type.name],f,d=u&&u(t,s,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,o),p=d&&d.dom,g=d&&d.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=Co.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let v=p;return p=ux(p,r,t),d?f=new b2(e,t,r,o,p,g||null,v,d,s,a+1):t.isText?new qu(e,t,r,o,p,v,s):new Ir(e,t,r,o,p,g||null,v,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>U.empty)}return e}matchesNode(e,t,r){return this.dirty==fn&&e.eq(this.node)&&qa(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,s=e.composing?this.localCompositionInfo(e,t):null,a=s&&s.pos>-1?s:null,u=s&&s.pos<0,f=new C2(this,a&&a.node,e);M2(this.node,this.innerDeco,(d,p,g)=>{d.spec.marks?f.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!g&&f.syncToMarks(p==this.node.childCount?Oe.none:this.node.child(p).marks,r,e),f.placeWidget(d,e,o)},(d,p,g,v)=>{f.syncToMarks(d.marks,r,e);let x;f.findNodeMatch(d,p,g,v)||u&&e.state.selection.from>o&&e.state.selection.to<o+d.nodeSize&&(x=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(d,p,g,x,e)||f.updateNextNode(d,p,g,e,v,o)||f.addNode(d,p,g,e,o),o+=d.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==io)&&(a&&this.protectLocalComposition(e,a),lx(this.contentDOM,this.children,e),fi&&O2(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof fe)||r<t||o>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,u=R2(this.node.content,a,r-t,o-t);return u<0?null:{node:s,pos:u,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new S2(this,s,t,o);e.input.compositionNodes.push(a),this.children=ah(this.children,r,r+o.length,e,a)}update(e,t,r,o){return this.dirty==In||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=fn}updateOuterDeco(e){if(qa(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=ax(this.dom,this.nodeDOM,lh(this.outerDeco,this.node,t),lh(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function k0(n,e,t,r,o){ux(r,e,n);let s=new Ir(void 0,n,e,t,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class qu extends Ir{constructor(e,t,r,o,s,a,u){super(e,t,r,o,s,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==In||this.dirty!=fn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=fn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=fn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),s=document.createTextNode(o.text);return new qu(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=In)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sx extends el{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==fn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class b2 extends Ir{constructor(e,t,r,o,s,a,u,f,d,p){super(e,t,r,o,s,a,u,d,p),this.spec=f}update(e,t,r,o){if(this.dirty==In)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function lx(n,e,t){let r=n.firstChild,o=!1;for(let s=0;s<e.length;s++){let a=e[s],u=a.dom;if(u.parentNode==n){for(;u!=r;)r=w0(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(u,r);if(a instanceof So){let f=r?r.previousSibling:n.lastChild;lx(a.contentDOM,a.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=w0(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const ys=function(n){n&&(this.nodeName=n)};ys.prototype=Object.create(null);const so=[new ys];function lh(n,e,t){if(n.length==0)return so;let r=t?so[0]:new ys,o=[r];for(let s=0;s<n.length;s++){let a=n[s].type.attrs;if(a){a.nodeName&&o.push(r=new ys(a.nodeName));for(let u in a){let f=a[u];f!=null&&(t&&o.length==1&&o.push(r=new ys(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return o}function ax(n,e,t,r){if(t==so&&r==so)return e;let o=e;for(let s=0;s<r.length;s++){let a=r[s],u=t[s];if(s){let f;u&&u.nodeName==a.nodeName&&o!=n&&(f=o.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(o),u=so[0]),o=f}E2(o,u||so[0],a)}return o}function E2(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&n.classList.add(o[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function ux(n,e,t){return ax(n,n,so,lh(e,t,n.nodeType!=1))}function qa(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function w0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class C2{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=T2(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=fn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=So.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,o){let s=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))s=this.top.children.indexOf(a,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let d=this.top.children[u];if(d.matchesNode(e,t,r)&&!this.preMatch.matched.has(d)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,o,s){let a=this.top.children[o];return a.dirty==In&&a.dom==a.contentDOM&&(a.dirty=io),a.update(e,t,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,s,a){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof Ir){let d=this.preMatch.matched.get(f);if(d!=null&&d!=s)return!1;let p=f.dom,g,v=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=In&&qa(t,f.outerDeco));if(!v&&f.update(e,t,r,o))return this.destroyBetween(this.index,u),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(g=this.recreateWrapper(f,e,t,r,o,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=io,g.updateChildren(o,a+1),g.dirty=fn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,s,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!qa(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let u=Ir.create(this.top,t,r,o,s,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,t,r,o,s){let a=Ir.create(this.top,e,t,r,o,s);a.contentDOM&&a.updateChildren(o,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new ix(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof So;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof qu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((At||Ct)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new sx(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function T2(n,e){let t=e,r=t.children.length,o=n.childCount,s=new Map,a=[];e:for(;o>0;){let u;for(;;)if(r){let d=t.children[r-1];if(d instanceof So)t=d,r=d.children.length;else{u=d,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=u.node;if(f){if(f!=n.child(o-1))break;--o,s.set(u,o),a.push(u)}}return{index:o,matched:s,matches:a.reverse()}}function N2(n,e){return n.type.side-e.type.side}function M2(n,e,t,r){let o=e.locals(n),s=0;if(o.length==0){for(let d=0;d<n.childCount;d++){let p=n.child(d);r(p,o,e.forChild(s,p),d),s+=p.nodeSize}return}let a=0,u=[],f=null;for(let d=0;;){let p,g;for(;a<o.length&&o[a].to==s;){let b=o[a++];b.widget&&(p?(g||(g=[p])).push(b):p=b)}if(p)if(g){g.sort(N2);for(let b=0;b<g.length;b++)t(g[b],d,!!f)}else t(p,d,!!f);let v,x;if(f)x=-1,v=f,f=null;else if(d<n.childCount)x=d,v=n.child(d++);else break;for(let b=0;b<u.length;b++)u[b].to<=s&&u.splice(b--,1);for(;a<o.length&&o[a].from<=s&&o[a].to>s;)u.push(o[a++]);let k=s+v.nodeSize;if(v.isText){let b=k;a<o.length&&o[a].from<b&&(b=o[a].from);for(let E=0;E<u.length;E++)u[E].to<b&&(b=u[E].to);b<k&&(f=v.cut(b-s),v=v.cut(0,b-s),k=b,x=-1)}else for(;a<o.length&&o[a].to<k;)a++;let S=v.isInline&&!v.isLeaf?u.filter(b=>!b.inline):u.slice();r(v,S,e.forChild(s,v),x),s=k}}function O2(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function R2(n,e,t,r){for(let o=0,s=0;o<n.childCount&&s<=r;){let a=n.child(o++),u=s;if(s+=a.nodeSize,!a.isText)continue;let f=a.text;for(;o<n.childCount;){let d=n.child(o++);if(s+=d.nodeSize,!d.isText)break;f+=d.text}if(s>=t){if(s>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let d=u<r?f.lastIndexOf(e,r-u-1):-1;if(d>=0&&d+e.length+u>=t)return u+d;if(t==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function ah(n,e,t,r,o){let s=[];for(let a=0,u=0;a<n.length;a++){let f=n[a],d=u,p=u+=f.size;d>=t||p<=e?s.push(f):(d<e&&s.push(f.slice(0,e-d,r)),o&&(s.push(o),o=void 0),p>t&&s.push(f.slice(t-d,f.size,r)))}return s}function Hh(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),s=o&&o.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let u=r.resolve(a),f,d;if(Ku(t)){for(f=a;o&&!o.node;)o=o.parent;let g=o.node;if(o&&g.isAtom&&se.isSelectable(g)&&o.parent&&!(g.isInline&&n2(t.focusNode,t.focusOffset,o.dom))){let v=o.posBefore;d=new se(a==v?u:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=a,v=a;for(let x=0;x<t.rangeCount;x++){let k=t.getRangeAt(x);g=Math.min(g,n.docView.posFromDOM(k.startContainer,k.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(k.endContainer,k.endOffset,-1))}if(g<0)return null;[f,a]=v==n.state.selection.anchor?[v,g]:[g,v],u=r.resolve(a)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!d){let g=e=="pointer"||n.state.selection.head<u.pos&&!s?1:-1;d=Vh(n,p,u,g)}return d}function cx(n){return n.editable?n.hasFocus():dx(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function er(n,e=!1){let t=n.state.selection;if(fx(n,t),!!cx(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Ct){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&wo(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)A2(n);else{let{anchor:r,head:o}=t,s,a;S0&&!(t instanceof fe)&&(t.$from.parent.inlineContent||(s=b0(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=b0(n,t.to))),n.docView.setSelection(r,o,n,e),S0&&(s&&E0(s),a&&E0(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&P2(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const S0=At||Ct&&X1<63;function b0(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(At&&o&&o.contentEditable=="false")return xd(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return xd(o);if(s)return xd(s)}}function xd(n){return n.contentEditable="true",At&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function E0(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function P2(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!cx(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function A2(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setStart(r.parentNode,yt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&Vt&&_r<=11&&(r.disabled=!0,r.disabled=!1)}function fx(n,e){if(e instanceof se){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(C0(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else C0(n)}function C0(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Vh(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||fe.between(e,t,r)}function T0(n){return n.editable&&!n.hasFocus()?!1:dx(n)}function dx(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function L2(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return wo(e.node,e.offset,t.anchorNode,t.anchorOffset)}function uh(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),s=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return s&&pe.findFrom(s,e)}function Tr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function N0(n,e,t){let r=n.state.selection;if(r instanceof fe)if(t.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return Tr(n,new fe(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=uh(n.state,e);return o&&o instanceof se?Tr(n,o):!1}else if(!(un&&t.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!s||s.isText)return!1;let u=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(a=n.docView.descAt(u))&&!a.contentDOM?se.isSelectable(s)?Tr(n,new se(e<0?n.state.doc.resolve(o.pos-s.nodeSize):o)):Zs?Tr(n,new fe(n.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof se&&r.node.isInline)return Tr(n,new fe(e>0?r.$to:r.$from));{let o=uh(n.state,e);return o?Tr(n,o):!1}}}function Ja(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function vs(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function ei(n,e){return e<0?D2(n):_2(n)}function D2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,s,a=!1;for(Sn&&t.nodeType==1&&r<Ja(t)&&vs(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(vs(u,-1))o=t,s=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(hx(t))break;{let u=t.previousSibling;for(;u&&vs(u,-1);)o=t.parentNode,s=yt(u),u=u.previousSibling;if(u)t=u,r=Ja(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?ch(n,t,r):o&&ch(n,o,s)}function _2(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=Ja(t),s,a;for(;;)if(r<o){if(t.nodeType!=1)break;let u=t.childNodes[r];if(vs(u,1))s=t,a=++r;else break}else{if(hx(t))break;{let u=t.nextSibling;for(;u&&vs(u,1);)s=u.parentNode,a=yt(u)+1,u=u.nextSibling;if(u)t=u,r=0,o=Ja(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}s&&ch(n,s,a)}function hx(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function I2(n,e){for(;n&&e==n.childNodes.length&&!Xs(n);)e=yt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function j2(n,e){for(;n&&!e&&!Xs(n);)e=yt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function ch(n,e,t){if(e.nodeType!=3){let s,a;(a=I2(e,t))?(e=a,t=0):(s=j2(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Ku(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&er(n)},50)}function M0(n,e){let t=n.state.doc.resolve(e);if(!(Ct||i2)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function O0(n,e,t){let r=n.state.selection;if(r instanceof fe&&!r.empty||t.indexOf("s")>-1||un&&t.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=uh(n.state,e);if(a&&a instanceof se)return Tr(n,a)}if(!o.parent.inlineContent){let a=e<0?o:s,u=r instanceof Xt?pe.near(a,e):pe.findFrom(a,e);return u?Tr(n,u):!1}return!1}function R0(n,e){if(!(n.state.selection instanceof fe))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let a=n.state.tr;return e<0?a.delete(t.pos-s.nodeSize,t.pos):a.delete(t.pos,t.pos+s.nodeSize),n.dispatch(a),!0}return!1}function P0(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function z2(n){if(!At||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;P0(n,r,"true"),setTimeout(()=>P0(n,r,"false"),20)}return!1}function B2(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function F2(n,e){let t=e.keyCode,r=B2(e);if(t==8||un&&t==72&&r=="c")return R0(n,-1)||ei(n,-1);if(t==46&&!e.shiftKey||un&&t==68&&r=="c")return R0(n,1)||ei(n,1);if(t==13||t==27)return!0;if(t==37||un&&t==66&&r=="c"){let o=t==37?M0(n,n.state.selection.from)=="ltr"?-1:1:-1;return N0(n,o,r)||ei(n,o)}else if(t==39||un&&t==70&&r=="c"){let o=t==39?M0(n,n.state.selection.from)=="ltr"?1:-1:1;return N0(n,o,r)||ei(n,o)}else{if(t==38||un&&t==80&&r=="c")return O0(n,-1,r)||ei(n,-1);if(t==40||un&&t==78&&r=="c")return z2(n)||O0(n,1,r)||ei(n,1);if(r==(un?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Wh(n,e){n.someProp("transformCopied",x=>{e=x(e,n)});let t=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let x=r.firstChild;t.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=n.someProp("clipboardSerializer")||Co.fromSchema(n.state.schema),u=xx(),f=u.createElement("div");f.appendChild(a.serializeFragment(r,{document:u}));let d=f.firstChild,p,g=0;for(;d&&d.nodeType==1&&(p=vx[d.nodeName.toLowerCase()]);){for(let x=p.length-1;x>=0;x--){let k=u.createElement(p[x]);for(;f.firstChild;)k.appendChild(f.firstChild);f.appendChild(k),g++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${o} ${s}${g?` -${g}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",x=>x(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v,slice:e}}function px(n,e,t,r,o){let s=o.parent.type.spec.code,a,u;if(!t&&!e)return null;let f=e&&(r||s||!t);if(f){if(n.someProp("transformPastedText",v=>{e=v(e,s||r,n)}),s)return e?new G(U.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):G.empty;let g=n.someProp("clipboardTextParser",v=>v(e,o,r,n));if(g)u=g;else{let v=o.marks(),{schema:x}=n.state,k=Co.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let b=a.appendChild(document.createElement("p"));S&&b.appendChild(k.serializeNode(x.text(S,v)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),a=V2(t),Zs&&W2(a);let d=a&&a.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let v=a.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;a=v}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||Dr.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||p),context:o,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!$2.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)u=K2(A0(u,+p[1],+p[2]),p[4]);else if(u=G.maxOpen(U2(u.content,o),!0),u.openStart||u.openEnd){let g=0,v=0;for(let x=u.content.firstChild;g<u.openStart&&!x.type.spec.isolating;g++,x=x.firstChild);for(let x=u.content.lastChild;v<u.openEnd&&!x.type.spec.isolating;v++,x=x.lastChild);u=A0(u,g,v)}return n.someProp("transformPasted",g=>{u=g(u,n)}),u}const $2=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function U2(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),s,a=[];if(n.forEach(u=>{if(!a)return;let f=o.findWrapping(u.type),d;if(!f)return a=null;if(d=a.length&&s.length&&gx(f,s,u,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=yx(a[a.length-1],s.length));let p=mx(u,f);a.push(p),o=o.matchType(p.type),s=f}}),a)return U.from(a)}return n}function mx(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,U.from(n));return n}function gx(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let s=gx(n,e,t,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append(U.from(mx(t,n,o+1))))}}function yx(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,yx(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(U.empty,!0);return n.copy(t.append(r))}function fh(n,e,t,r,o,s){let a=e<0?n.firstChild:n.lastChild,u=a.content;return n.childCount>1&&(s=0),o<r-1&&(u=fh(u,e,t,r,o+1,s)),o>=t&&(u=e<0?a.contentMatchAt(0).fillBefore(u,s<=o).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(U.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(u))}function A0(n,e,t){return e<n.openStart&&(n=new G(fh(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new G(fh(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const vx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let L0=null;function xx(){return L0||(L0=document.implementation.createHTMLDocument("title"))}let kd=null;function H2(n){let e=window.trustedTypes;return e?(kd||(kd=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),kd.createHTML(n)):n}function V2(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=xx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&vx[r[1].toLowerCase()])&&(n=o.map(s=>"<"+s+">").join("")+n+o.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=H2(n),o)for(let s=0;s<o.length;s++)t=t.querySelector(o[s])||t;return t}function W2(n){let e=n.querySelectorAll(Ct?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function K2(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:s,openEnd:a}=n;for(let u=r.length-2;u>=0;u-=2){let f=t.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;o=U.from(f.create(r[u+1],o)),s++,a++}return new G(o,s,a)}const Lt={},Dt={},q2={touchstart:!0,touchmove:!0};class J2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Q2(n){for(let e in Lt){let t=Lt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{Y2(n,r)&&!Kh(n,r)&&(n.editable||!(r.type in Dt))&&t(n,r)},q2[e]?{passive:!0}:void 0)}At&&n.dom.addEventListener("input",()=>null),dh(n)}function Lr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function G2(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function dh(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Kh(n,r))})}function Kh(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function Y2(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function X2(n,e){!Kh(n,e)&&Lt[e.type]&&(n.editable||!(e.type in Dt))&&Lt[e.type](n,e)}Dt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!wx(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Yn&&Ct&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),fi&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,ro(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||F2(n,t)?t.preventDefault():Lr(n,"key")};Dt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Dt.keypress=(n,e)=>{let t=e;if(wx(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||un&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof fe)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,o,s))&&n.dispatch(s()),t.preventDefault()}};function Ju(n){return{left:n.clientX,top:n.clientY}}function Z2(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function qh(n,e,t,r,o){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(n.someProp(e,u=>a>s.depth?u(n,t,s.nodeAfter,s.before(a),o,!0):u(n,t,s.node(a),s.before(a),o,!1)))return!0;return!1}function li(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function eM(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&se.isSelectable(r)?(li(n,new se(t)),!0):!1}function tM(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof se&&(r=t.node);let s=n.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let u=a>s.depth?s.nodeAfter:s.node(a);if(se.isSelectable(u)){r&&t.$from.depth>0&&a>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?o=s.before(t.$from.depth):o=s.before(a);break}}return o!=null?(li(n,se.create(n.state.doc,o)),!0):!1}function nM(n,e,t,r,o){return qh(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(o?tM(n,t):eM(n,t))}function rM(n,e,t,r){return qh(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function oM(n,e,t,r){return qh(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||iM(n,t,r)}function iM(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(li(n,fe.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s),u=o.before(s);if(a.inlineContent)li(n,fe.create(r,u+1,u+1+a.content.size));else if(se.isSelectable(a))li(n,se.create(r,u));else continue;return!0}}function Jh(n){return Qa(n)}const kx=un?"metaKey":"ctrlKey";Lt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Jh(n),o=Date.now(),s="singleClick";o-n.input.lastClick.time<500&&Z2(t,n.input.lastClick)&&!t[kx]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:s,button:t.button};let a=n.posAtCoords(Ju(t));a&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new sM(n,a,t,!!r)):(s=="doubleClick"?rM:oM)(n,a.pos,a.inside,t)?t.preventDefault():Lr(n,"pointer"))};class sM{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[kx],this.allowDefault=r.shiftKey;let s,a;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,a=p.depth?p.before():0}const u=o?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof se&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Sn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Lr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>er(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ju(e))),this.updateAllowDefault(e),this.allowDefault||!t?Lr(this.view,"pointer"):nM(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||At&&this.mightDrag&&!this.mightDrag.node.isAtom||Ct&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(li(this.view,pe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Lr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Lr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Lt.touchstart=n=>{n.input.lastTouch=Date.now(),Jh(n),Lr(n,"pointer")};Lt.touchmove=n=>{n.input.lastTouch=Date.now(),Lr(n,"pointer")};Lt.contextmenu=n=>Jh(n);function wx(n,e){return n.composing?!0:At&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const lM=Yn?5e3:-1;Dt.compositionstart=Dt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof fe&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Qa(n,!0),n.markCursor=null;else if(Qa(n,!e.selection.empty),Sn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let a=s<0?o.lastChild:o.childNodes[s-1];if(!a)break;if(a.nodeType==3){let u=n.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else o=a,s=-1}}n.input.composing=!0}Sx(n,lM)};Dt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Sx(n,20))};function Sx(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Qa(n),e))}function bx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=uM());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function aM(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=e2(e.focusNode,e.focusOffset),r=t2(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let o=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function uM(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Qa(n,e=!1){if(!(Yn&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),bx(n),e||n.docView&&n.docView.dirty){let t=Hh(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function cM(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Ds=Vt&&_r<15||fi&&s2<604;Lt.copy=Dt.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let s=Ds?null:t.clipboardData,a=r.content(),{dom:u,text:f}=Wh(n,a);s?(t.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",f)):cM(n,u),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fM(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function dM(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?_s(n,r.value,null,o,e):_s(n,r.textContent,r.innerHTML,o,e)},50)}function _s(n,e,t,r,o){let s=px(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,o,s||G.empty)))return!0;if(!s)return!1;let a=fM(s),u=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(s);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ex(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Dt.paste=(n,e)=>{let t=e;if(n.composing&&!Yn)return;let r=Ds?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&_s(n,Ex(r),r.getData("text/html"),o,t)?t.preventDefault():dM(n,t)};class Cx{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const hM=un?"altKey":"ctrlKey";function Tx(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[hM]}Lt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,s=o.empty?null:n.posAtCoords(Ju(t)),a;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof se?o.to-1:o.to))){if(r&&r.mightDrag)a=se.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(a=se.create(n.state.doc,g.posBefore))}}let u=(a||n.state.selection).content(),{dom:f,text:d,slice:p}=Wh(n,u);(!t.dataTransfer.files.length||!Ct||X1>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ds?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ds||t.dataTransfer.setData("text/plain",d),n.dragging=new Cx(p,Tx(n,t),a)};Lt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Dt.dragover=Dt.dragenter=(n,e)=>e.preventDefault();Dt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(Ju(t));if(!o)return;let s=n.state.doc.resolve(o.pos),a=r&&r.slice;a?n.someProp("transformPasted",k=>{a=k(a,n)}):a=px(n,Ex(t.dataTransfer),Ds?null:t.dataTransfer.getData("text/html"),!1,s);let u=!!(r&&Tx(n,t));if(n.someProp("handleDrop",k=>k(n,t,a||G.empty,u))){t.preventDefault();return}if(!a)return;t.preventDefault();let f=a?H1(n.state.doc,s.pos,a):s.pos;f==null&&(f=s.pos);let d=n.state.tr;if(u){let{node:k}=r;k?k.replace(d):d.deleteSelection()}let p=d.mapping.map(f),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,v=d.doc;if(g?d.replaceRangeWith(p,p,a.content.firstChild):d.replaceRange(p,p,a),d.doc.eq(v))return;let x=d.doc.resolve(p);if(g&&se.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new se(x));else{let k=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((S,b,E,N)=>k=N),d.setSelection(Vh(n,x,d.doc.resolve(k)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};Lt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&er(n)},20))};Lt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Lt.beforeinput=(n,e)=>{if(Ct&&Yn&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,ro(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in Dt)Lt[n]=Dt[n];function Is(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Ga{constructor(e,t){this.toDOM=e,this.spec=t||po,this.side=this.spec.side||0}map(e,t,r,o){let{pos:s,deleted:a}=e.mapResult(t.from+o,this.side<0?-1:1);return a?null:new Pt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ga&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Is(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class jr{constructor(e,t){this.attrs=e,this.spec=t||po}map(e,t,r,o){let s=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Pt(s,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof jr&&Is(this.attrs,e.attrs)&&Is(this.spec,e.spec)}static is(e){return e.type instanceof jr}destroy(){}}class Qh{constructor(e,t){this.attrs=e,this.spec=t||po}map(e,t,r,o){let s=e.mapResult(t.from+o,1);if(s.deleted)return null;let a=e.mapResult(t.to+o,-1);return a.deleted||a.pos<=s.pos?null:new Pt(s.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),s;return o==t.from&&!(s=e.child(r)).isText&&o+s.nodeSize==t.to}eq(e){return this==e||e instanceof Qh&&Is(this.attrs,e.attrs)&&Is(this.spec,e.spec)}destroy(){}}class Pt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Pt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Pt(e,e,new Ga(t,r))}static inline(e,t,r,o){return new Pt(e,t,new jr(r,o))}static node(e,t,r,o){return new Pt(e,t,new Qh(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof jr}get widget(){return this.type instanceof Ga}}const ni=[],po={};class $e{constructor(e,t){this.local=e.length?e:ni,this.children=t.length?t:ni}static create(e,t){return t.length?Ya(t,e,0,po):bt}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,s){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=t&&u.to>=e&&(!s||s(u.spec))&&r.push(u.copy(u.from+o,u.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,t-u,r,o+u,s)}}map(e,t,r){return this==bt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||po)}mapInner(e,t,r,o,s){let a;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,o);f&&f.type.valid(t,f)?(a||(a=[])).push(f):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?pM(this.children,a||[],e,t,r,o,s):a?new $e(a.sort(mo),ni):bt}add(e,t){return t.length?this==bt?$e.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,s=0;e.forEach((u,f)=>{let d=f+r,p;if(p=Mx(t,u,d)){for(o||(o=this.children.slice());s<o.length&&o[s]<f;)s+=3;o[s]==f?o[s+2]=o[s+2].addInner(u,p,d+1):o.splice(s,0,f,f+u.nodeSize,Ya(p,u,d+1,po)),s+=3}});let a=Nx(s?Ox(t):t,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new $e(a.length?this.local.concat(a).sort(mo):this.local,o||this.children)}remove(e){return e.length==0||this==bt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let a,u=r[s]+t,f=r[s+1]+t;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<f&&(e[p]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(a,u+1);d!=bt?r[s+2]=d:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let u=0;u<o.length;u++)o[u].eq(a,t)&&(o==this.local&&(o=this.local.slice()),o.splice(u--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new $e(o,r):bt}forChild(e,t){if(this==bt)return this;if(t.isLeaf)return $e.empty;let r,o;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let s=e+1,a=s+t.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<a&&f.to>s&&f.type instanceof jr){let d=Math.max(s,f.from)-s,p=Math.min(a,f.to)-s;d<p&&(o||(o=[])).push(f.copy(d,p))}}if(o){let u=new $e(o.sort(mo),ni);return r?new Or([u,r]):u}return r||bt}eq(e){if(this==e)return!0;if(!(e instanceof $e)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Gh(this.localsInner(e))}localsInner(e){if(this==bt)return ni;if(e.inlineContent||!this.local.some(jr.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof jr||t.push(this.local[r]);return t}forEachSet(e){e(this)}}$e.empty=new $e([],[]);$e.removeOverlap=Gh;const bt=$e.empty;class Or{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,po));return Or.from(r)}forChild(e,t){if(t.isLeaf)return $e.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,t);s!=bt&&(s instanceof Or?r=r.concat(s.members):r.push(s))}return Or.from(r)}eq(e){if(!(e instanceof Or)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let a=0;a<s.length;a++)t.push(s[a])}}return t?Gh(r?t:t.sort(mo)):ni}static from(e){switch(e.length){case 0:return bt;case 1:return e[0];default:return new Or(e.every(t=>t instanceof $e)?e:e.reduce((t,r)=>t.concat(r instanceof $e?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function pM(n,e,t,r,o,s,a){let u=n.slice();for(let d=0,p=s;d<t.maps.length;d++){let g=0;t.maps[d].forEach((v,x,k,S)=>{let b=S-k-(x-v);for(let E=0;E<u.length;E+=3){let N=u[E+1];if(N<0||v>N+p-g)continue;let P=u[E]+p-g;x>=P?u[E+1]=v<=P?-2:-1:v>=p&&b&&(u[E]+=b,u[E+1]+=b)}g+=b}),p=t.maps[d].map(p,-1)}let f=!1;for(let d=0;d<u.length;d+=3)if(u[d+1]<0){if(u[d+1]==-2){f=!0,u[d+1]=-1;continue}let p=t.map(n[d]+s),g=p-o;if(g<0||g>=r.content.size){f=!0;continue}let v=t.map(n[d+1]+s,-1),x=v-o,{index:k,offset:S}=r.content.findIndex(g),b=r.maybeChild(k);if(b&&S==g&&S+b.nodeSize==x){let E=u[d+2].mapInner(t,b,p+1,n[d]+s+1,a);E!=bt?(u[d]=g,u[d+1]=x,u[d+2]=E):(u[d+1]=-2,f=!0)}else f=!0}if(f){let d=mM(u,n,e,t,o,s,a),p=Ya(d,r,0,a);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,v=0;g<p.children.length;g+=3){let x=p.children[g];for(;v<u.length&&u[v]<x;)v+=3;u.splice(v,0,p.children[g],p.children[g+1],p.children[g+2])}}return new $e(e.sort(mo),u)}function Nx(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new Pt(o.from+e,o.to+e,o.type))}return t}function mM(n,e,t,r,o,s,a){function u(f,d){for(let p=0;p<f.local.length;p++){let g=f.local[p].map(r,o,d);g?t.push(g):a.onRemove&&a.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)u(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&u(n[f+2],e[f]+s+1);return t}function Mx(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let s=0,a;s<n.length;s++)(a=n[s])&&a.from>t&&a.to<r&&((o||(o=[])).push(a),n[s]=null);return o}function Ox(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Ya(n,e,t,r){let o=[],s=!1;e.forEach((u,f)=>{let d=Mx(n,u,f+t);if(d){s=!0;let p=Ya(d,u,t+f+1,r);p!=bt&&o.push(f,f+u.nodeSize,p)}});let a=Nx(s?Ox(n):n,-t).sort(mo);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||o.length?new $e(a,o):bt}function mo(n,e){return n.from-e.from||n.to-e.to}function Gh(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[o]=s.copy(s.from,r.to),D0(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),D0(e,o,r.copy(s.from,r.to)));break}}}return e}function D0(n,e,t){for(;e<n.length&&mo(t,n[e])>0;)e++;n.splice(e,0,t)}function wd(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=bt&&e.push(r)}),n.cursorWrapper&&e.push($e.create(n.state.doc,[n.cursorWrapper.deco])),Or.from(e)}const gM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yM=Vt&&_r<=11;class vM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class xM{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new vM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Vt&&_r<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),yM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,gM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(T0(this.view)){if(this.suppressingSelectionUpdates)return er(this.view);if(Vt&&_r<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&wo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=ci(s))t.add(s);for(let s=e.anchorNode;s;s=ci(s))if(t.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&T0(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,u=!1,f=[];if(e.editable)for(let p=0;p<t.length;p++){let g=this.registerMutation(t[p],f);g&&(s=s<0?g.from:Math.min(g.from,s),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(u=!0))}if(Sn&&f.length){let p=f.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,v]=p;g.parentNode&&g.parentNode.parentNode==v.parentNode?v.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let v of p){let x=v.parentNode;x&&x.nodeName=="LI"&&(!g||SM(e,g)!=x)&&v.remove()}}}let d=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ku(r)&&(d=Hh(e))&&d.eq(pe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,er(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,a),kM(e)),this.handleDOMChange(s,a,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||er(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(Vt&&_r<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:v}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let a=o&&o.parentNode==e.target?yt(o)+1:0,u=r.localPosFromDOM(e.target,a,-1),f=s&&s.parentNode==e.target?yt(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,f,1);return{from:u,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let _0=new WeakMap,I0=!1;function kM(n){if(!_0.has(n)&&(_0.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Sn,I0)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),I0=!0}}function j0(n,e){let t=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return wo(a.node,a.offset,o,s)&&([t,r,o,s]=[o,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:o,focusOffset:s}}function wM(n,e){if(e.getComposedRanges){let o=e.getComposedRanges(n.root)[0];if(o)return j0(n,o)}let t;function r(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?j0(n,t):null}function SM(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function bM(n,e,t){let{node:r,fromOffset:o,toOffset:s,from:a,to:u}=n.docView.parseRange(e,t),f=n.domSelectionRange(),d,p=f.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],Ku(f)||d.push({node:f.focusNode,offset:f.focusOffset})),Ct&&n.input.lastKeyCode===8)for(let b=s;b>o;b--){let E=r.childNodes[b-1],N=E.pmViewDesc;if(E.nodeName=="BR"&&!N){s=b;break}if(!N||N.size)break}let g=n.state.doc,v=n.someProp("domParser")||Dr.fromSchema(n.state.schema),x=g.resolve(a),k=null,S=v.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:o,to:s,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:EM,context:x});if(d&&d[0].pos!=null){let b=d[0].pos,E=d[1]&&d[1].pos;E==null&&(E=b),k={anchor:b+a,head:E+a}}return{doc:S,sel:k,from:a,to:u}}function EM(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(At&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||At&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const CM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function TM(n,e,t,r,o){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let H=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,re=Hh(n,H);if(re&&!n.state.selection.eq(re)){if(Ct&&Yn&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",Ae=>Ae(n,ro(13,"Enter"))))return;let de=n.state.tr.setSelection(re);H=="pointer"?de.setMeta("pointer",!0):H=="key"&&de.scrollIntoView(),s&&de.setMeta("composition",s),n.dispatch(de)}return}let a=n.state.doc.resolve(e),u=a.sharedDepth(t);e=a.before(u+1),t=n.state.doc.resolve(t).after(u+1);let f=n.state.selection,d=bM(n,e,t),p=n.state.doc,g=p.slice(d.from,d.to),v,x;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,x="end"):(v=n.state.selection.from,x="start"),n.input.lastKeyCode=null;let k=OM(g.content,d.doc.content,d.from,v,x);if(k&&n.input.domChangeCount++,(fi&&n.input.lastIOSEnter>Date.now()-225||Yn)&&o.some(H=>H.nodeType==1&&!CM.test(H.nodeName))&&(!k||k.endA>=k.endB)&&n.someProp("handleKeyDown",H=>H(n,ro(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!k)if(r&&f instanceof fe&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))k={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let H=z0(n,n.state.doc,d.sel);if(H&&!H.eq(n.state.selection)){let re=n.state.tr.setSelection(H);s&&re.setMeta("composition",s),n.dispatch(re)}}return}n.state.selection.from<n.state.selection.to&&k.start==k.endB&&n.state.selection instanceof fe&&(k.start>n.state.selection.from&&k.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?k.start=n.state.selection.from:k.endA<n.state.selection.to&&k.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(k.endB+=n.state.selection.to-k.endA,k.endA=n.state.selection.to)),Vt&&_r<=11&&k.endB==k.start+1&&k.endA==k.start&&k.start>d.from&&d.doc.textBetween(k.start-d.from-1,k.start-d.from+1)=="  "&&(k.start--,k.endA--,k.endB--);let S=d.doc.resolveNoCache(k.start-d.from),b=d.doc.resolveNoCache(k.endB-d.from),E=p.resolve(k.start),N=S.sameParent(b)&&S.parent.inlineContent&&E.end()>=k.endA,P;if((fi&&n.input.lastIOSEnter>Date.now()-225&&(!N||o.some(H=>H.nodeName=="DIV"||H.nodeName=="P"))||!N&&S.pos<d.doc.content.size&&(!S.sameParent(b)||!S.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(S.pos,b.pos,"",""))&&(P=pe.findFrom(d.doc.resolve(S.pos+1),1,!0))&&P.head>S.pos)&&n.someProp("handleKeyDown",H=>H(n,ro(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>k.start&&MM(p,k.start,k.endA,S,b)&&n.someProp("handleKeyDown",H=>H(n,ro(8,"Backspace")))){Yn&&Ct&&n.domObserver.suppressSelectionUpdates();return}Ct&&k.endB==k.start&&(n.input.lastChromeDelete=Date.now()),Yn&&!N&&S.start()!=b.start()&&b.parentOffset==0&&S.depth==b.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==k.endA&&(k.endB-=2,b=d.doc.resolveNoCache(k.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(H){return H(n,ro(13,"Enter"))})},20));let j=k.start,z=k.endA,J=H=>{let re=H||n.state.tr.replace(j,z,d.doc.slice(k.start-d.from,k.endB-d.from));if(d.sel){let de=z0(n,re.doc,d.sel);de&&!(Ct&&n.composing&&de.empty&&(k.start!=k.endB||n.input.lastChromeDelete<Date.now()-100)&&(de.head==j||de.head==re.mapping.map(z)-1)||Vt&&de.empty&&de.head==j)&&re.setSelection(de)}return s&&re.setMeta("composition",s),re.scrollIntoView()},K;if(N){if(S.pos==b.pos){Vt&&_r<=11&&S.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>er(n),20));let H=J(n.state.tr.delete(j,z)),re=p.resolve(k.start).marksAcross(p.resolve(k.endA));re&&H.ensureMarks(re),n.dispatch(H)}else if(k.endA==k.endB&&(K=NM(S.parent.content.cut(S.parentOffset,b.parentOffset),E.parent.content.cut(E.parentOffset,k.endA-E.start())))){let H=J(n.state.tr);K.type=="add"?H.addMark(j,z,K.mark):H.removeMark(j,z,K.mark),n.dispatch(H)}else if(S.parent.child(S.index()).isText&&S.index()==b.index()-(b.textOffset?0:1)){let H=S.parent.textBetween(S.parentOffset,b.parentOffset),re=()=>J(n.state.tr.insertText(H,j,z));n.someProp("handleTextInput",de=>de(n,j,z,H,re))||n.dispatch(re())}}else n.dispatch(J())}function z0(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Vh(n,e.resolve(t.anchor),e.resolve(t.head))}function NM(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,s=r,a,u,f;for(let p=0;p<r.length;p++)o=r[p].removeFromSet(o);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(o.length==1&&s.length==0)u=o[0],a="add",f=p=>p.mark(u.addToSet(p.marks));else if(o.length==0&&s.length==1)u=s[0],a="remove",f=p=>p.mark(u.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(U.from(d).eq(n))return{mark:u,type:a}}function MM(n,e,t,r,o){if(t-e<=o.pos-r.pos||Sd(r,!0,!1)<o.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let u=s.nodeAfter;return u!=null&&t==e+u.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=n.resolve(Sd(s,!0,!0));return!a.parent.isTextblock||a.pos>t||Sd(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Sd(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function OM(n,e,t,r,o){let s=n.findDiffStart(e,t);if(s==null)return null;let{a,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let f=Math.max(0,s-Math.min(a,u));r-=a+f-s}if(a<s&&n.size<e.size){let f=r<=s&&r>=a?s-r:0;s-=f,s&&s<e.size&&B0(e.textBetween(s-1,s+1))&&(s+=f?1:-1),u=s+(u-a),a=s}else if(u<s){let f=r<=s&&r>=u?s-r:0;s-=f,s&&s<n.size&&B0(n.textBetween(s-1,s+1))&&(s+=f?1:-1),a=s+(a-u),u=s}return{start:s,endA:a,endB:u}}function B0(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Rx{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new J2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(V0),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=U0(this),$0(this),this.nodeViews=H0(this),this.docView=k0(this.state.doc,F0(this),wd(this),this.dom,this),this.domObserver=new xM(this,(r,o,s,a)=>TM(this,r,o,s,a)),this.domObserver.start(),Q2(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&dh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(V0),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(bx(this),a=!0),this.state=e;let u=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let x=H0(this);PM(x,this.nodeViews)&&(this.nodeViews=x,s=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&dh(this),this.editable=U0(this),$0(this);let f=wd(this),d=F0(this),p=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",g=s||!this.docView.matchesNode(e.doc,d,f);(g||!e.selection.eq(o.selection))&&(a=!0);let v=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&u2(this);if(a){this.domObserver.stop();let x=g&&(Vt||Ct)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&RM(o.selection,e.selection);if(g){let k=Ct?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=aM(this)),(s||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=k0(e.doc,d,f,this.dom,this)),k&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&L2(this))?er(this,x):(fx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&c2(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof se){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&p0(this,t.getBoundingClientRect(),e)}else p0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new Cx(e.slice,e.move,o<0?void 0:se.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(o=t?t(u):u))return o}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let u=s[a].props[e];if(u!=null&&(o=t?t(u):u))return o}}hasFocus(){if(Vt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&f2(this.dom),er(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return g2(this,e)}coordsAtPos(e,t=1){return rx(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return w2(this,t||this.state,e)}pasteHTML(e,t){return _s(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return _s(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Wh(this,e)}destroy(){this.docView&&(G2(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,XN())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return X2(this,e)}domSelectionRange(){let e=this.domSelection();return e?At&&this.root.nodeType===11&&r2(this.dom.ownerDocument)==this.dom&&wM(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Rx.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function F0(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Pt.node(0,n.state.doc.content.size,e)]}function $0(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Pt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function U0(n){return!n.someProp("editable",e=>e(n.state)===!1)}function RM(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function H0(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function PM(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function V0(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var zr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},AM=typeof navigator<"u"&&/Mac/.test(navigator.platform),LM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vt=0;vt<10;vt++)zr[48+vt]=zr[96+vt]=String(vt);for(var vt=1;vt<=24;vt++)zr[vt+111]="F"+vt;for(var vt=65;vt<=90;vt++)zr[vt]=String.fromCharCode(vt+32),Xa[vt]=String.fromCharCode(vt);for(var bd in zr)Xa.hasOwnProperty(bd)||(Xa[bd]=zr[bd]);function DM(n){var e=AM&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||LM&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Xa:zr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const _M=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),IM=typeof navigator<"u"&&/Win/.test(navigator.platform);function jM(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,s,a;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))_M?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),a&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function zM(n){let e=Object.create(null);for(let t in n)e[jM(t)]=n[t];return e}function Ed(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function BM(n){return new qe({props:{handleKeyDown:Px(n)}})}function Px(n){let e=zM(n);return function(t,r){let o=DM(r),s,a=e[Ed(o,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let u=e[Ed(o,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(IM&&r.ctrlKey&&r.altKey)&&(s=zr[r.keyCode])&&s!=o){let u=e[Ed(s,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const Yh=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Ax(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Lx=(n,e,t)=>{let r=Ax(n,t);if(!r)return!1;let o=Xh(r);if(!o){let a=r.blockRange(),u=a&&xi(a);return u==null?!1:(e&&e(n.tr.lift(a,u).scrollIntoView()),!0)}let s=o.nodeBefore;if(Ux(n,o,e,-1))return!0;if(r.parent.content.size==0&&(di(s,"end")||se.isSelectable(s)))for(let a=r.depth;;a--){let u=Vu(n.doc,r.before(a),r.after(a),G.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=n.tr.step(u);f.setSelection(di(s,"end")?pe.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):se.create(f.doc,o.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},FM=(n,e,t)=>{let r=Ax(n,t);if(!r)return!1;let o=Xh(r);return o?Dx(n,o,e):!1},$M=(n,e,t)=>{let r=Ix(n,t);if(!r)return!1;let o=Zh(r);return o?Dx(n,o,e):!1};function Dx(n,e,t){let r=e.nodeBefore,o=r,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let p=o.lastChild;if(!p)return!1;o=p}let a=e.nodeAfter,u=a,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let d=Vu(n.doc,s,f,G.empty);if(!d||d.from!=s||d instanceof ut&&d.slice.size>=f-s)return!1;if(t){let p=n.tr.step(d);p.setSelection(fe.create(p.doc,s)),t(p.scrollIntoView())}return!0}function di(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const _x=(n,e,t)=>{let{$head:r,empty:o}=n.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Xh(r)}let a=s&&s.nodeBefore;return!a||!se.isSelectable(a)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function Xh(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Ix(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const jx=(n,e,t)=>{let r=Ix(n,t);if(!r)return!1;let o=Zh(r);if(!o)return!1;let s=o.nodeAfter;if(Ux(n,o,e,1))return!0;if(r.parent.content.size==0&&(di(s,"start")||se.isSelectable(s))){let a=Vu(n.doc,r.before(),r.after(),G.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=n.tr.step(a);u.setSelection(di(s,"start")?pe.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):se.create(u.doc,u.mapping.map(o.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},zx=(n,e,t)=>{let{$head:r,empty:o}=n.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Zh(r)}let a=s&&s.nodeAfter;return!a||!se.isSelectable(a)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,s.pos)).scrollIntoView()),!0)};function Zh(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const UM=(n,e)=>{let t=n.selection,r=t instanceof se,o;if(r){if(t.node.isTextblock||!$r(n.doc,t.from))return!1;o=t.from}else if(o=Hu(n.doc,t.from,-1),o==null)return!1;if(e){let s=n.tr.join(o);r&&s.setSelection(se.create(s.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},HM=(n,e)=>{let t=n.selection,r;if(t instanceof se){if(t.node.isTextblock||!$r(n.doc,t.to))return!1;r=t.to}else if(r=Hu(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},VM=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),s=o&&xi(o);return s==null?!1:(e&&e(n.tr.lift(o,s).scrollIntoView()),!0)},Bx=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function ep(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const WM=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),s=t.indexAfter(-1),a=ep(o.contentMatchAt(s));if(!a||!o.canReplaceWith(s,s,a))return!1;if(e){let u=t.after(),f=n.tr.replaceWith(u,u,a.createAndFill());f.setSelection(pe.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},Fx=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof Xt||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=ep(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,u=n.tr.insert(a,s.createAndFill());u.setSelection(fe.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},$x=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Zn(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),o=r&&xi(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)};function KM(n){return(e,t)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof se&&e.selection.node.isBlock)return!r.parentOffset||!Zn(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,u,f=!1,d=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){f=r.end(x)==r.pos+(r.depth-x),d=r.start(x)==r.pos-(r.depth-x),u=ep(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),s.unshift(f&&u?{type:u}:null),a=x;break}else{if(x==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof fe||e.selection instanceof Xt)&&p.deleteSelection();let g=p.mapping.map(r.pos),v=Zn(p.doc,g,s.length,s);if(v||(s[0]=u?{type:u}:null,v=Zn(p.doc,g,s.length,s)),!v)return!1;if(p.split(g,s.length,s),!f&&d&&r.node(a).type!=u){let x=p.mapping.map(r.before(a)),k=p.doc.resolve(x);u&&r.node(a-1).canReplaceWith(k.index(),k.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(a)),u)}return t&&t(p.scrollIntoView()),!0}}const qM=KM(),JM=(n,e)=>{let{$from:t,to:r}=n.selection,o,s=t.sharedDepth(r);return s==0?!1:(o=t.before(s),e&&e(n.tr.setSelection(se.create(n.doc,o))),!0)};function QM(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||$r(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Ux(n,e,t,r){let o=e.nodeBefore,s=e.nodeAfter,a,u,f=o.type.spec.isolating||s.type.spec.isolating;if(!f&&QM(n,e,t))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(u=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&u.matchType(a[0]||s.type).validEnd){if(t){let x=e.pos+s.nodeSize,k=U.empty;for(let E=a.length-1;E>=0;E--)k=U.from(a[E].create(null,k));k=U.from(o.copy(k));let S=n.tr.step(new ct(e.pos-1,x,e.pos,x,new G(k,1,0),a.length,!0)),b=S.doc.resolve(x+2*a.length);b.nodeAfter&&b.nodeAfter.type==o.type&&$r(S.doc,b.pos)&&S.join(b.pos),t(S.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&f?null:pe.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),v=g&&xi(g);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(g,v).scrollIntoView()),!0;if(d&&di(s,"start",!0)&&di(o,"end")){let x=o,k=[];for(;k.push(x),!x.isTextblock;)x=x.lastChild;let S=s,b=1;for(;!S.isTextblock;S=S.firstChild)b++;if(x.canReplace(x.childCount,x.childCount,S.content)){if(t){let E=U.empty;for(let P=k.length-1;P>=0;P--)E=U.from(k[P].copy(E));let N=n.tr.step(new ct(e.pos-k.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new G(E,k.length,0),0,!0));t(N.scrollIntoView())}return!0}}return!1}function Hx(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(t&&t(e.tr.setSelection(fe.create(e.doc,n<0?o.start(s):o.end(s)))),!0):!1}}const GM=Hx(-1),YM=Hx(1);function XM(n,e=null){return function(t,r){let{$from:o,$to:s}=t.selection,a=o.blockRange(s),u=a&&Fh(a,n,e);return u?(r&&r(t.tr.wrap(a,u).scrollIntoView()),!0):!1}}function W0(n,e=null){return function(t,r){let o=!1;for(let s=0;s<t.selection.ranges.length&&!o;s++){let{$from:{pos:a},$to:{pos:u}}=t.selection.ranges[s];t.doc.nodesBetween(a,u,(f,d)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)o=!0;else{let p=t.doc.resolve(d),g=p.index();o=p.parent.canReplaceWith(g,g+1,n)}})}if(!o)return!1;if(r){let s=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[a];s.setBlockType(u,f,n,e)}r(s.scrollIntoView())}return!0}}function tp(...n){return function(e,t,r){for(let o=0;o<n.length;o++)if(n[o](e,t,r))return!0;return!1}}tp(Yh,Lx,_x);tp(Yh,jx,zx);tp(Bx,Fx,$x,qM);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function ZM(n,e=null){return function(t,r){let{$from:o,$to:s}=t.selection,a=o.blockRange(s);if(!a)return!1;let u=r?t.tr:null;return eO(u,a,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function eO(n,e,t,r=null){let o=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);s=new Wa(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Wa(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let u=Fh(s,t,r,e);return u?(n&&tO(n,e,u,o,t),!0):!1}function tO(n,e,t,r,o){let s=U.empty;for(let p=t.length-1;p>=0;p--)s=U.from(t[p].type.create(t[p].attrs,s));n.step(new ct(e.start-(r?2:0),e.end,e.start,e.end,new G(s,0,0),t.length,!0));let a=0;for(let p=0;p<t.length;p++)t[p].type==o&&(a=p+1);let u=t.length-a,f=e.start+t.length-(r?2:0),d=e.parent;for(let p=e.startIndex,g=e.endIndex,v=!0;p<g;p++,v=!1)!v&&Zn(n.doc,f,u)&&(n.split(f,u),f+=2*u),f+=d.child(p).nodeSize;return n}function nO(n){return function(e,t){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?rO(e,t,n,s):oO(e,t,s):!0:!1}}function rO(n,e,t,r){let o=n.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(o.step(new ct(s-1,a,s,a,new G(U.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Wa(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const u=xi(r);if(u==null)return!1;o.lift(r,u);let f=o.doc.resolve(o.mapping.map(s,-1)-1);return $r(o.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&o.join(f.pos),e(o.scrollIntoView()),!0}function oO(n,e,t){let r=n.tr,o=t.parent;for(let x=t.end,k=t.endIndex-1,S=t.startIndex;k>S;k--)x-=o.child(k).nodeSize,r.delete(x-1,x+1);let s=r.doc.resolve(t.start),a=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,f=t.endIndex==o.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(u?0:1),p+1,a.content.append(f?U.empty:U.from(o))))return!1;let g=s.pos,v=g+a.nodeSize;return r.step(new ct(g-(u?1:0),v+(f?1:0),g+1,v-1,new G((u?U.empty:U.from(o.copy(U.empty))).append(f?U.empty:U.from(o.copy(U.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function iO(n){return function(e,t){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let u=s.parent,f=u.child(a-1);if(f.type!=n)return!1;if(t){let d=f.lastChild&&f.lastChild.type==u.type,p=U.from(d?n.create():null),g=new G(U.from(n.create(null,U.from(u.type.create(null,p)))),d?3:1,0),v=s.start,x=s.end;t(e.tr.step(new ct(v-(d?3:1),x,v,x,g,1,!0)).scrollIntoView())}return!0}}var sO=Object.defineProperty,Vx=(n,e)=>{for(var t in e)sO(n,t,{get:e[t],enumerable:!0})};function Qu(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:o}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=t.selection,o=t.doc,s=t.storedMarks,t}}}var Gu=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:o}=t,s=this.buildProps(o);return Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...d)=>{const p=u(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:o}=this,{view:s}=r,a=[],u=!!n,f=n||o.tr,d=()=>(!u&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),a.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(t).map(([g,v])=>[g,(...k)=>{const S=this.buildProps(f,e),b=v(...k)(S);return a.push(b),p}])),run:d};return p}createCan(n){const{rawCommands:e,state:t}=this,r=!1,o=n||t.tr,s=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...d)=>f(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:o}=this,{view:s}=r,a={tr:n,editor:r,view:s,state:Qu({state:o,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([u,f])=>[u,(...d)=>f(...d)(a)]))}};return a}},lO=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}};function Wx(n,e){const t=new J1(n);return e.forEach(r=>{r.steps.forEach(o=>{t.step(o)})}),t}var Kx=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Kx(r)}return n};function ya(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Kx(t)}function js(n,e,t){if(n instanceof wn||n instanceof U)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return U.fromArray(n.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),js("",e,t)}if(o){if(t.errorOnInvalidContent){let a=!1,u="";const f=new A1({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,u=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?Dr.fromSchema(f).parseSlice(ya(n),t.parseOptions):Dr.fromSchema(f).parse(ya(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const s=Dr.fromSchema(e);return t.slice?s.parseSlice(ya(n),t.parseOptions).content:s.parse(ya(n),t.parseOptions)}return js("",e,t)}function hh(n,e,t={},r={}){return js(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}function aO(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function uO(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(o,s)=>{t(o)&&r.push({node:o,pos:s})}),r}function cO(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Yu(n){return e=>cO(e.$from,n)}function oe(n,e,t){return n.config[e]===void 0&&n.parent?oe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?oe(n.parent,e,t):null}):n.config[e]}function np(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=oe(e,"addExtensions",t);return r?[e,...np(r())]:e}).flat(10)}function rp(n,e){const t=Co.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}function qx(n){return typeof n=="function"}function Me(n,e=void 0,...t){return qx(n)?e?n.bind(e)(...t):n(...t):n}function fO(n={}){return Object.keys(n).length===0&&n.constructor===Object}function zs(n){const e=n.filter(o=>o.type==="extension"),t=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Jx(n){const e=[],{nodeExtensions:t,markExtensions:r}=zs(n),o=[...t,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:o},f=oe(a,"addGlobalAttributes",u);if(!f)return;f().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([v,x])=>{e.push({type:g,name:v,attribute:{...s,...x}})})})})}),o.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},f=oe(a,"addAttributes",u);if(!f)return;const d=f();Object.entries(d).forEach(([p,g])=>{const v={...s,...g};typeof v?.default=="function"&&(v.default=v.default()),v?.isRequired&&v?.default===void 0&&delete v.default,e.push({type:a.name,name:p,attribute:v})})}),e}function Ye(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const u=s?String(s).split(" "):[],f=r[o]?r[o].split(" "):[],d=u.filter(p=>!f.includes(p));r[o]=[...f,...d].join(" ")}else if(o==="style"){const u=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[o]?r[o].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;f.forEach(p=>{const[g,v]=p.split(":").map(x=>x.trim());d.set(g,v)}),u.forEach(p=>{const[g,v]=p.split(":").map(x=>x.trim());d.set(g,v)}),r[o]=Array.from(d.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[o]=s}),r},{})}function Za(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Ye(t,r),{})}function dO(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function K0(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const o=e.reduce((s,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(t):dO(t.getAttribute(a.name));return u==null?s:{...s,[a.name]:u}},{});return{...r,...o}}}}function q0(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&fO(t)?!1:t!=null))}function hO(n,e){var t;const r=Jx(n),{nodeExtensions:o,markExtensions:s}=zs(n),a=(t=o.find(d=>oe(d,"topNode")))==null?void 0:t.name,u=Object.fromEntries(o.map(d=>{const p=r.filter(E=>E.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},v=n.reduce((E,N)=>{const P=oe(N,"extendNodeSchema",g);return{...E,...P?P(d):{}}},{}),x=q0({...v,content:Me(oe(d,"content",g)),marks:Me(oe(d,"marks",g)),group:Me(oe(d,"group",g)),inline:Me(oe(d,"inline",g)),atom:Me(oe(d,"atom",g)),selectable:Me(oe(d,"selectable",g)),draggable:Me(oe(d,"draggable",g)),code:Me(oe(d,"code",g)),whitespace:Me(oe(d,"whitespace",g)),linebreakReplacement:Me(oe(d,"linebreakReplacement",g)),defining:Me(oe(d,"defining",g)),isolating:Me(oe(d,"isolating",g)),attrs:Object.fromEntries(p.map(E=>{var N,P;return[E.name,{default:(N=E?.attribute)==null?void 0:N.default,validate:(P=E?.attribute)==null?void 0:P.validate}]}))}),k=Me(oe(d,"parseHTML",g));k&&(x.parseDOM=k.map(E=>K0(E,p)));const S=oe(d,"renderHTML",g);S&&(x.toDOM=E=>S({node:E,HTMLAttributes:Za(E,p)}));const b=oe(d,"renderText",g);return b&&(x.toText=b),[d.name,x]})),f=Object.fromEntries(s.map(d=>{const p=r.filter(b=>b.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},v=n.reduce((b,E)=>{const N=oe(E,"extendMarkSchema",g);return{...b,...N?N(d):{}}},{}),x=q0({...v,inclusive:Me(oe(d,"inclusive",g)),excludes:Me(oe(d,"excludes",g)),group:Me(oe(d,"group",g)),spanning:Me(oe(d,"spanning",g)),code:Me(oe(d,"code",g)),attrs:Object.fromEntries(p.map(b=>{var E,N;return[b.name,{default:(E=b?.attribute)==null?void 0:E.default,validate:(N=b?.attribute)==null?void 0:N.validate}]}))}),k=Me(oe(d,"parseHTML",g));k&&(x.parseDOM=k.map(b=>K0(b,p)));const S=oe(d,"renderHTML",g);return S&&(x.toDOM=b=>S({mark:b,HTMLAttributes:Za(b,p)})),[d.name,x]}));return new A1({topNode:a,nodes:u,marks:f})}function pO(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function op(n){return n.sort((t,r)=>{const o=oe(t,"priority")||100,s=oe(r,"priority")||100;return o>s?-1:o<s?1:0})}function Qx(n){const e=op(np(n)),t=pO(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Gx(n,e,t){const{from:r,to:o}=e,{blockSeparator:s=`

`,textSerializers:a={}}=t||{};let u="";return n.nodesBetween(r,o,(f,d,p,g)=>{var v;f.isBlock&&d>r&&(u+=s);const x=a?.[f.type.name];if(x)return p&&(u+=x({node:f,pos:d,parent:p,index:g,range:e})),!1;f.isText&&(u+=(v=f?.text)==null?void 0:v.slice(Math.max(r,d)-d,o-d))}),u}function mO(n,e){const t={from:0,to:n.content.size};return Gx(n,t,e)}function Yx(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function or(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}function Xx(n,e){const t=or(e,n.schema),{from:r,to:o,empty:s}=n.selection,a=[];s?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,f=>{a.push(...f.marks)});const u=a.find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function et(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function gO(n,e){const t=et(e,n.schema),{from:r,to:o}=n.selection,s=[];n.doc.nodesBetween(r,o,u=>{s.push(u)});const a=s.reverse().find(u=>u.type.name===t.name);return a?{...a.attrs}:{}}function Xu(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Zx(n,e){const t=Xu(typeof e=="string"?e:e.name,n.schema);return t==="node"?gO(n,e):t==="mark"?Xx(n,e):{}}function yO(n,e=JSON.stringify){const t={};return n.filter(r=>{const o=e(r);return Object.prototype.hasOwnProperty.call(t,o)?!1:t[o]=!0})}function vO(n){const e=yO(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,a)=>a!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function ek(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((u,f)=>{a.push({from:u,to:f})});else{const{from:u,to:f}=t[s];if(u===void 0||f===void 0)return;a.push({from:u,to:f})}a.forEach(({from:u,to:f})=>{const d=e.slice(s).map(u,-1),p=e.slice(s).map(f),g=e.invert().map(d,-1),v=e.invert().map(p);r.push({oldRange:{from:g,to:v},newRange:{from:d,to:p}})})}),vO(r)}function ip(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function eu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>t.strict?e[o]===n[o]:ip(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function tk(n,e,t={}){return n.find(r=>r.type===e&&eu(Object.fromEntries(Object.keys(t).map(o=>[o,r.attrs[o]])),t))}function J0(n,e,t={}){return!!tk(n,e,t)}function sp(n,e,t){var r;if(!n||!e)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(p=>p.type===e))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(p=>p.type===e)||(t=t||((r=o.node.marks[0])==null?void 0:r.attrs),!tk([...o.node.marks],e,t)))return;let a=o.index,u=n.start()+o.offset,f=a+1,d=u+o.node.nodeSize;for(;a>0&&J0([...n.parent.child(a-1).marks],e,t);)a-=1,u-=n.parent.child(a).nodeSize;for(;f<n.parent.childCount&&J0([...n.parent.child(f).marks],e,t);)d+=n.parent.child(f).nodeSize,f+=1;return{from:u,to:d}}function lp(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(o=>{const s=t.resolve(n),a=sp(s,o.type);a&&r.push({mark:o,...a})}):t.nodesBetween(n,e,(o,s)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),r}var xO=(n,e,t,r=20)=>{const o=n.doc.resolve(t);let s=r,a=null;for(;s>0&&a===null;){const u=o.node(s);u?.type.name===e?a=u:s-=1}return[a,s]};function Cd(n,e){return e.nodes[n]||e.marks[n]||null}function Da(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const o=n.find(s=>s.type===e&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}var kO=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(o,s,a,u)=>{var f,d;const p=((d=(f=o.type.spec).toText)==null?void 0:d.call(f,{node:o,pos:s,parent:a,index:u}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?p:p.slice(0,Math.max(0,r-s))}),t};function ph(n,e,t={}){const{empty:r,ranges:o}=n.selection,s=e?or(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>s?s.name===g.type.name:!0).find(g=>eu(g.attrs,t,{strict:!1}));let a=0;const u=[];if(o.forEach(({$from:g,$to:v})=>{const x=g.pos,k=v.pos;n.doc.nodesBetween(x,k,(S,b)=>{if(!S.isText&&!S.marks.length)return;const E=Math.max(x,b),N=Math.min(k,b+S.nodeSize),P=N-E;a+=P,u.push(...S.marks.map(j=>({mark:j,from:E,to:N})))})}),a===0)return!1;const f=u.filter(g=>s?s.name===g.mark.type.name:!0).filter(g=>eu(g.mark.attrs,t,{strict:!1})).reduce((g,v)=>g+v.to-v.from,0),d=u.filter(g=>s?g.mark.type!==s&&g.mark.type.excludes(s):!0).reduce((g,v)=>g+v.to-v.from,0);return(f>0?f+d:f)>=a}function Br(n,e,t={}){const{from:r,to:o,empty:s}=n.selection,a=e?et(e,n.schema):null,u=[];n.doc.nodesBetween(r,o,(g,v)=>{if(g.isText)return;const x=Math.max(r,v),k=Math.min(o,v+g.nodeSize);u.push({node:g,from:x,to:k})});const f=o-r,d=u.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>eu(g.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((g,v)=>g+v.to-v.from,0)>=f}function wO(n,e,t={}){if(!e)return Br(n,null,t)||ph(n,null,t);const r=Xu(e,n.schema);return r==="node"?Br(n,e,t):r==="mark"?ph(n,e,t):!1}var SO=(n,e)=>{const{$from:t,$to:r,$anchor:o}=n.selection;if(e){const s=Yu(u=>u.type.name===e)(n.selection);if(!s)return!1;const a=n.doc.resolve(s.pos+1);return o.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},bO=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function Q0(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function G0(n,e){const{nodeExtensions:t}=zs(e),r=t.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Me(oe(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function Zu(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let o=!0;return n.content.forEach(s=>{o!==!1&&(Zu(s,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function nk(n){return n instanceof se}function rk(n){return n instanceof fe}function lo(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function ok(n,e=null){if(!e)return null;const t=pe.atStart(n),r=pe.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const o=t.from,s=r.to;return e==="all"?fe.create(n,lo(0,o,s),lo(n.content.size,o,s)):fe.create(n,lo(e,o,s),lo(e,o,s))}function EO(n,e,t){const r=n.steps.length-1;if(r<e)return;const o=n.steps[r];if(!(o instanceof ut||o instanceof ct))return;const s=n.mapping.maps[r];let a=0;s.forEach((u,f,d,p)=>{a===0&&(a=p)}),n.setSelection(pe.near(n.doc.resolve(a),t))}var ec=class{constructor(n){this.find=n.find,this.handler=n.handler}},CO=(n,e)=>{if(ip(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function va(n){var e;const{editor:t,from:r,to:o,text:s,rules:a,plugin:u}=n,{view:f}=t;if(f.composing)return!1;const d=f.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const g=kO(d)+s;return a.forEach(v=>{if(p)return;const x=CO(g,v.find);if(!x)return;const k=f.state.tr,S=Qu({state:f.state,transaction:k}),b={from:r-(x[0].length-s.length),to:o},{commands:E,chain:N,can:P}=new Gu({editor:t,state:S});v.handler({state:S,range:b,match:x,commands:E,chain:N,can:P})===null||!k.steps.length||(k.setMeta(u,{transform:k,from:r,to:o,text:s}),f.dispatch(k),p=!0)}),p}function TO(n){const{editor:e,rules:t}=n,r=new qe({state:{init(){return null},apply(o,s,a){const u=o.getMeta(r);if(u)return u;const f=o.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=rp(U.from(p),a.schema);const{from:g}=f,v=g+p.length;va({editor:e,from:g,to:v,text:p,rules:t,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,a,u){return va({editor:e,from:s,to:a,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&va({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?va({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function NO(n){return Object.prototype.toString.call(n).slice(8,-1)}function xa(n){return NO(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function ik(n,e){const t={...n};return xa(n)&&xa(e)&&Object.keys(e).forEach(r=>{xa(e[r])&&xa(n[r])?t[r]=ik(n[r],e[r]):t[r]=e[r]}),t}var ap=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...Me(oe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Me(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>ik(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},To=class sk extends ap{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new sk(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(d=>d?.type.name===t.name))return!1;const f=a.find(d=>d?.type.name===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function MO(n){return typeof n=="number"}var OO=class{constructor(n){this.find=n.find,this.handler=n.handler}},RO=(n,e,t)=>{if(ip(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=n,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function PO(n){const{editor:e,state:t,from:r,to:o,rule:s,pasteEvent:a,dropEvent:u}=n,{commands:f,chain:d,can:p}=new Gu({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,o,(x,k)=>{if(!x.isTextblock||x.type.spec.code)return;const S=Math.max(r,k),b=Math.min(o,k+x.content.size),E=x.textBetween(S-k,b-k,void 0,"￼");RO(E,s.find,a).forEach(P=>{if(P.index===void 0)return;const j=S+P.index+1,z=j+P[0].length,J={from:t.tr.mapping.map(j),to:t.tr.mapping.map(z)},K=s.handler({state:t,range:J,match:P,commands:f,chain:d,can:p,pasteEvent:a,dropEvent:u});g.push(K)})}),g.every(x=>x!==null)}var ka=null,AO=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function LO(n){const{editor:e,rules:t}=n;let r=null,o=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:p,from:g,to:v,rule:x,pasteEvt:k})=>{const S=p.tr,b=Qu({state:p,transaction:S});if(!(!PO({editor:e,state:b,from:Math.max(g-1,0),to:v.b-1,rule:x,pasteEvent:k,dropEvent:u})||!S.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return t.map(p=>new qe({view(g){const v=k=>{var S;r=(S=g.dom.parentElement)!=null&&S.contains(k.target)?g.dom.parentElement:null,r&&(ka=e)},x=()=>{ka&&(ka=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(g,v)=>{if(s=r===g.dom.parentElement,u=v,!s){const x=ka;x?.isEditable&&setTimeout(()=>{const k=x.state.selection;k&&x.commands.deleteRange({from:k.from,to:k.to})},10)}return!1},paste:(g,v)=>{var x;const k=(x=v.clipboardData)==null?void 0:x.getData("text/html");return a=v,o=!!k?.includes("data-pm-slice"),!1}}},appendTransaction:(g,v,x)=>{const k=g[0],S=k.getMeta("uiEvent")==="paste"&&!o,b=k.getMeta("uiEvent")==="drop"&&!s,E=k.getMeta("applyPasteRules"),N=!!E;if(!S&&!b&&!N)return;if(N){let{text:z}=E;typeof z=="string"?z=z:z=rp(U.from(z),x.schema);const{from:J}=E,K=J+z.length,H=AO(z);return f({rule:p,state:x,from:J,to:{b:K},pasteEvt:H})}const P=v.doc.content.findDiffStart(x.doc.content),j=v.doc.content.findDiffEnd(x.doc.content);if(!(!MO(P)||!j||P===j.b))return f({rule:p,state:x,from:P,to:j,pasteEvt:a})}}))}var tc=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.extensions=Qx(n),this.schema=hO(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Cd(e.name,this.schema)},r=oe(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this,e=op([...this.extensions].reverse()),t=[],r=[],o=e.map(s=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:n,type:Cd(s.name,this.schema)},u=[],f=oe(s,"addKeyboardShortcuts",a);let d={};if(s.type==="mark"&&oe(s,"exitable",a)&&(d.ArrowRight=()=>To.handleExit({editor:n,mark:s})),f){const k=Object.fromEntries(Object.entries(f()).map(([S,b])=>[S,()=>b({editor:n})]));d={...d,...k}}const p=BM(d);u.push(p);const g=oe(s,"addInputRules",a);Q0(s,n.options.enableInputRules)&&g&&t.push(...g());const v=oe(s,"addPasteRules",a);Q0(s,n.options.enablePasteRules)&&v&&r.push(...v());const x=oe(s,"addProseMirrorPlugins",a);if(x){const k=x();u.push(...k)}return u}).flat();return[TO({editor:n,rules:t}),...LO({editor:n,rules:r}),...o]}get attributes(){return Jx(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=zs(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addNodeView")).map(t=>{const r=this.attributes.filter(u=>u.type===t.name),o={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:et(t.name,this.schema)},s=oe(t,"addNodeView",o);if(!s)return[];const a=(u,f,d,p,g)=>{const v=Za(u,r);return s()({node:u,view:f,getPos:d,decorations:p,innerDecorations:g,editor:n,extension:t,HTMLAttributes:v})};return[t.name,a]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=zs(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addMarkView")).map(t=>{const r=this.attributes.filter(u=>u.type===t.name),o={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:or(t.name,this.schema)},s=oe(t,"addMarkView",o);if(!s)return[];const a=(u,f,d)=>{const p=Za(u,r);return s()({mark:u,view:f,inline:d,editor:n,extension:t,HTMLAttributes:p,updateAttributes:g=>{JR(u,n,g)}})};return[t.name,a]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Cd(e.name,this.schema)};e.type==="mark"&&((t=Me(oe(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const o=oe(e,"onBeforeCreate",r),s=oe(e,"onCreate",r),a=oe(e,"onUpdate",r),u=oe(e,"onSelectionUpdate",r),f=oe(e,"onTransaction",r),d=oe(e,"onFocus",r),p=oe(e,"onBlur",r),g=oe(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};tc.resolve=Qx;tc.sort=op;tc.flatten=np;var DO={};Vx(DO,{ClipboardTextSerializer:()=>ak,Commands:()=>fk,Delete:()=>dk,Drop:()=>hk,Editable:()=>pk,FocusEvents:()=>gk,Keymap:()=>yk,Paste:()=>vk,Tabindex:()=>xk,focusEventsPluginKey:()=>mk});var tt=class lk extends ap{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new lk(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},ak=tt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new qe({key:new dt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:o}=e,{ranges:s}=o,a=Math.min(...s.map(p=>p.$from.pos)),u=Math.max(...s.map(p=>p.$to.pos)),f=Yx(t);return Gx(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),uk={};Vx(uk,{blur:()=>_O,clearContent:()=>IO,clearNodes:()=>jO,command:()=>zO,createParagraphNear:()=>BO,cut:()=>FO,deleteCurrentNode:()=>$O,deleteNode:()=>UO,deleteRange:()=>HO,deleteSelection:()=>VO,enter:()=>WO,exitCode:()=>KO,extendMarkRange:()=>qO,first:()=>JO,focus:()=>GO,forEach:()=>YO,insertContent:()=>XO,insertContentAt:()=>eR,joinBackward:()=>rR,joinDown:()=>nR,joinForward:()=>oR,joinItemBackward:()=>iR,joinItemForward:()=>sR,joinTextblockBackward:()=>lR,joinTextblockForward:()=>aR,joinUp:()=>tR,keyboardShortcut:()=>cR,lift:()=>fR,liftEmptyBlock:()=>dR,liftListItem:()=>hR,newlineInCode:()=>pR,resetAttributes:()=>mR,scrollIntoView:()=>gR,selectAll:()=>yR,selectNodeBackward:()=>vR,selectNodeForward:()=>xR,selectParentNode:()=>kR,selectTextblockEnd:()=>wR,selectTextblockStart:()=>SR,setContent:()=>bR,setMark:()=>CR,setMeta:()=>TR,setNode:()=>NR,setNodeSelection:()=>MR,setTextSelection:()=>OR,sinkListItem:()=>RR,splitBlock:()=>PR,splitListItem:()=>AR,toggleList:()=>LR,toggleMark:()=>DR,toggleNode:()=>_R,toggleWrap:()=>IR,undoInputRule:()=>jR,unsetAllMarks:()=>zR,unsetMark:()=>BR,updateAttributes:()=>FR,wrapIn:()=>$R,wrapInList:()=>UR});var _O=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),IO=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),jO=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:o}=r;return t&&o.forEach(({$from:s,$to:a})=>{n.doc.nodesBetween(s.pos,a.pos,(u,f)=>{if(u.type.isText)return;const{doc:d,mapping:p}=e,g=d.resolve(p.map(f)),v=d.resolve(p.map(f+u.nodeSize)),x=g.blockRange(v);if(!x)return;const k=xi(x);if(u.type.isTextblock){const{defaultType:S}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(x.start,S)}(k||k===0)&&e.lift(x,k)})}),!0},zO=n=>e=>n(e),BO=()=>({state:n,dispatch:e})=>Fx(n,e),FO=(n,e)=>({editor:t,tr:r})=>{const{state:o}=t,s=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new fe(r.doc.resolve(Math.max(a-1,0)))),!0},$O=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(e){const u=o.before(s),f=o.after(s);n.delete(u,f).scrollIntoView()}return!0}return!1},UO=n=>({tr:e,state:t,dispatch:r})=>{const o=et(n,t.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const f=s.before(a),d=s.after(a);e.delete(f,d).scrollIntoView()}return!0}return!1},HO=n=>({tr:e,dispatch:t})=>{const{from:r,to:o}=n;return t&&e.delete(r,o),!0},VO=()=>({state:n,dispatch:e})=>Yh(n,e),WO=()=>({commands:n})=>n.keyboardShortcut("Enter"),KO=()=>({state:n,dispatch:e})=>WM(n,e),qO=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const s=or(n,r.schema),{doc:a,selection:u}=t,{$from:f,from:d,to:p}=u;if(o){const g=sp(f,s,e);if(g&&g.from<=d&&g.to>=p){const v=fe.create(a,g.from,g.to);t.setSelection(v)}}return!0},JO=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function QO(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function up(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var GO=(n=null,e={})=>({editor:t,view:r,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(up()||QO())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!rk(t.state.selection))return a(),!0;const u=ok(o.doc,n)||t.state.selection,f=t.state.selection.eq(u);return s&&(f||o.setSelection(u),f&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},YO=(n,e)=>t=>n.every((r,o)=>e(r,{...t,index:o})),XO=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),ZO=n=>!("type"in n),eR=(n,e,t)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const{selection:f}=s.state,d=E=>{s.emit("contentError",{editor:s,error:E,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{js(e,s.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(E){d(E)}try{u=js(e,s.schema,{parseOptions:p,errorOnInvalidContent:(a=t.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(E){return d(E),!1}let{from:g,to:v}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},x=!0,k=!0;if((ZO(u)?u:[u]).forEach(E=>{E.check(),x=x?E.isText&&E.marks.length===0:!1,k=k?E.isBlock:!1}),g===v&&k){const{parent:E}=r.doc.resolve(g);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(g-=1,v+=1)}let b;if(x){if(Array.isArray(e))b=e.map(E=>E.text||"").join("");else if(e instanceof U){let E="";e.forEach(N=>{N.text&&(E+=N.text)}),b=E}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,g,v)}else{b=u;const E=f.$from.parentOffset===0,N=f.$from.node().isText||f.$from.node().isTextblock,P=f.$from.node().content.size>0;E&&N&&P&&(g=Math.max(0,g-1)),r.replaceWith(g,v,b)}t.updateSelection&&EO(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:g,text:b}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:g,text:b})}return!0},tR=()=>({state:n,dispatch:e})=>UM(n,e),nR=()=>({state:n,dispatch:e})=>HM(n,e),rR=()=>({state:n,dispatch:e})=>Lx(n,e),oR=()=>({state:n,dispatch:e})=>jx(n,e),iR=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Hu(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},sR=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Hu(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},lR=()=>({state:n,dispatch:e})=>FM(n,e),aR=()=>({state:n,dispatch:e})=>$M(n,e);function ck(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function uR(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,o,s,a;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))up()||ck()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}var cR=n=>({editor:e,view:t,tr:r,dispatch:o})=>{const s=uR(n).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,u))});return f?.steps.forEach(d=>{const p=d.map(r.mapping);p&&o&&r.maybeStep(p)}),!0},fR=(n,e={})=>({state:t,dispatch:r})=>{const o=et(n,t.schema);return Br(t,o,e)?VM(t,r):!1},dR=()=>({state:n,dispatch:e})=>$x(n,e),hR=n=>({state:e,dispatch:t})=>{const r=et(n,e.schema);return nO(r)(e,t)},pR=()=>({state:n,dispatch:e})=>Bx(n,e);function Y0(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,o)=>(t.includes(o)||(r[o]=n[o]),r),{})}var mR=(n,e)=>({tr:t,state:r,dispatch:o})=>{let s=null,a=null;const u=Xu(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=et(n,r.schema)),u==="mark"&&(a=or(n,r.schema)),o&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{s&&s===d.type&&t.setNodeMarkup(p,void 0,Y0(d.attrs,e)),a&&d.marks.length&&d.marks.forEach(g=>{a===g.type&&t.addMark(p,p+d.nodeSize,a.create(Y0(g.attrs,e)))})})}),!0):!1},gR=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),yR=()=>({tr:n,dispatch:e})=>{if(e){const t=new Xt(n.doc);n.setSelection(t)}return!0},vR=()=>({state:n,dispatch:e})=>_x(n,e),xR=()=>({state:n,dispatch:e})=>zx(n,e),kR=()=>({state:n,dispatch:e})=>JM(n,e),wR=()=>({state:n,dispatch:e})=>YM(n,e),SR=()=>({state:n,dispatch:e})=>GM(n,e),bR=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:u})=>{const{doc:f}=s;if(r.preserveWhitespace!=="full"){const d=hh(n,o.schema,r,{errorOnInvalidContent:e??o.options.enableContentCheck});return a&&s.replaceWith(0,f.content.size,d).setMeta("preventUpdate",!t),!0}return a&&s.setMeta("preventUpdate",!t),u.insertContentAt({from:0,to:f.content.size},n,{parseOptions:r,errorOnInvalidContent:e??o.options.enableContentCheck})};function ER(n,e,t){var r;const{selection:o}=e;let s=null;if(rk(o)&&(s=o.$cursor),s){const u=(r=n.storedMarks)!=null?r:s.marks();return!!t.isInSet(u)||!u.some(f=>f.type.excludes(t))}const{ranges:a}=o;return a.some(({$from:u,$to:f})=>{let d=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,f.pos,(p,g,v)=>{if(d)return!1;if(p.isInline){const x=!v||v.type.allowsMarkType(t),k=!!t.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(t));d=x&&k}return!d}),d})}var CR=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const{selection:s}=t,{empty:a,ranges:u}=s,f=or(n,r.schema);if(o)if(a){const d=Xx(r,f);t.addStoredMark(f.create({...d,...e}))}else u.forEach(d=>{const p=d.$from.pos,g=d.$to.pos;r.doc.nodesBetween(p,g,(v,x)=>{const k=Math.max(x,p),S=Math.min(x+v.nodeSize,g);v.marks.find(E=>E.type===f)?v.marks.forEach(E=>{f===E.type&&t.addMark(k,S,f.create({...E.attrs,...e}))}):t.addMark(k,S,f.create(e))})});return ER(r,t,f)},TR=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),NR=(n,e={})=>({state:t,dispatch:r,chain:o})=>{const s=et(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:u})=>W0(s,{...a,...e})(t)?!0:u.clearNodes()).command(({state:u})=>W0(s,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},MR=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,o=lo(n,0,r.content.size),s=se.create(r,o);e.setSelection(s)}return!0},OR=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:o,to:s}=typeof n=="number"?{from:n,to:n}:n,a=fe.atStart(r).from,u=fe.atEnd(r).to,f=lo(o,a,u),d=lo(s,a,u),p=fe.create(r,f,d);e.setSelection(p)}return!0},RR=n=>({state:e,dispatch:t})=>{const r=et(n,e.schema);return iO(r)(e,t)};function X0(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(o=>e?.includes(o.type.name));n.tr.ensureMarks(r)}}var PR=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:o})=>{const{selection:s,doc:a}=e,{$from:u,$to:f}=s,d=o.extensionManager.attributes,p=Da(d,u.node().type.name,u.node().attrs);if(s instanceof se&&s.node.isBlock)return!u.parentOffset||!Zn(a,u.pos)?!1:(r&&(n&&X0(t,o.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,v=u.depth===0?void 0:aO(u.node(-1).contentMatchAt(u.indexAfter(-1)));let x=g&&v?[{type:v,attrs:p}]:void 0,k=Zn(e.doc,e.mapping.map(u.pos),1,x);if(!x&&!k&&Zn(e.doc,e.mapping.map(u.pos),1,v?[{type:v}]:void 0)&&(k=!0,x=v?[{type:v,attrs:p}]:void 0),r){if(k&&(s instanceof fe&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,x),v&&!g&&!u.parentOffset&&u.parent.type!==v)){const S=e.mapping.map(u.before()),b=e.doc.resolve(S);u.node(-1).canReplaceWith(b.index(),b.index()+1,v)&&e.setNodeMarkup(e.mapping.map(u.before()),v)}n&&X0(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return k},AR=(n,e={})=>({tr:t,state:r,dispatch:o,editor:s})=>{var a;const u=et(n,r.schema),{$from:f,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(d))return!1;const g=f.node(-1);if(g.type!==u)return!1;const v=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(o){let E=U.empty;const N=f.index(-1)?1:f.index(-2)?2:3;for(let H=f.depth-N;H>=f.depth-3;H-=1)E=U.from(f.node(H).copy(E));const P=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,j={...Da(v,f.node().type.name,f.node().attrs),...e},z=((a=u.contentMatch.defaultType)==null?void 0:a.createAndFill(j))||void 0;E=E.append(U.from(u.createAndFill(null,z)||void 0));const J=f.before(f.depth-(N-1));t.replace(J,f.after(-P),new G(E,4-N,0));let K=-1;t.doc.nodesBetween(J,t.doc.content.size,(H,re)=>{if(K>-1)return!1;H.isTextblock&&H.content.size===0&&(K=re+1)}),K>-1&&t.setSelection(fe.near(t.doc.resolve(K))),t.scrollIntoView()}return!0}const x=d.pos===f.end()?g.contentMatchAt(0).defaultType:null,k={...Da(v,g.type.name,g.attrs),...e},S={...Da(v,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,d.pos);const b=x?[{type:u,attrs:k},{type:x,attrs:S}]:[{type:u,attrs:k}];if(!Zn(t.doc,f.pos,2))return!1;if(o){const{selection:E,storedMarks:N}=r,{splittableMarks:P}=s.extensionManager,j=N||E.$to.parentOffset&&E.$from.marks();if(t.split(f.pos,2,b).scrollIntoView(),!j||!o)return!0;const z=j.filter(J=>P.includes(J.type.name));t.ensureMarks(z)}return!0},Td=(n,e)=>{const t=Yu(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===o?.type&&$r(n.doc,t.pos)&&n.join(t.pos),!0},Nd=(n,e)=>{const t=Yu(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===o?.type&&$r(n.doc,r)&&n.join(r),!0},LR=(n,e,t,r={})=>({editor:o,tr:s,state:a,dispatch:u,chain:f,commands:d,can:p})=>{const{extensions:g,splittableMarks:v}=o.extensionManager,x=et(n,a.schema),k=et(e,a.schema),{selection:S,storedMarks:b}=a,{$from:E,$to:N}=S,P=E.blockRange(N),j=b||S.$to.parentOffset&&S.$from.marks();if(!P)return!1;const z=Yu(J=>G0(J.type.name,g))(S);if(P.depth>=1&&z&&P.depth-z.depth<=1){if(z.node.type===x)return d.liftListItem(k);if(G0(z.node.type.name,g)&&x.validContent(z.node.content)&&u)return f().command(()=>(s.setNodeMarkup(z.pos,x),!0)).command(()=>Td(s,x)).command(()=>Nd(s,x)).run()}return!t||!j||!u?f().command(()=>p().wrapInList(x,r)?!0:d.clearNodes()).wrapInList(x,r).command(()=>Td(s,x)).command(()=>Nd(s,x)).run():f().command(()=>{const J=p().wrapInList(x,r),K=j.filter(H=>v.includes(H.type.name));return s.ensureMarks(K),J?!0:d.clearNodes()}).wrapInList(x,r).command(()=>Td(s,x)).command(()=>Nd(s,x)).run()},DR=(n,e={},t={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=t,a=or(n,r.schema);return ph(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,e)},_R=(n,e,t={})=>({state:r,commands:o})=>{const s=et(n,r.schema),a=et(e,r.schema),u=Br(r,s,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),u?o.setNode(a,f):o.setNode(s,{...f,...t})},IR=(n,e={})=>({state:t,commands:r})=>{const o=et(n,t.schema);return Br(t,o,e)?r.lift(o):r.wrapIn(o,e)},jR=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const o=t[r];let s;if(o.spec.isInputRules&&(s=o.getState(n))){if(e){const a=n.tr,u=s.transform;for(let f=u.steps.length-1;f>=0;f-=1)a.step(u.steps[f].invert(u.docs[f]));if(s.text){const f=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,n.schema.text(s.text,f))}else a.delete(s.from,s.to)}return!0}}return!1},zR=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:o}=t;return r||e&&o.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},BR=(n,e={})=>({tr:t,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=t,f=or(n,r.schema),{$from:d,empty:p,ranges:g}=u;if(!o)return!0;if(p&&a){let{from:v,to:x}=u;const k=(s=d.marks().find(b=>b.type===f))==null?void 0:s.attrs,S=sp(d,f,k);S&&(v=S.from,x=S.to),t.removeMark(v,x,f)}else g.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,f)});return t.removeStoredMark(f),!0},FR=(n,e={})=>({tr:t,state:r,dispatch:o})=>{let s=null,a=null;const u=Xu(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=et(n,r.schema)),u==="mark"&&(a=or(n,r.schema)),o&&t.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let g,v,x,k;t.selection.empty?r.doc.nodesBetween(d,p,(S,b)=>{s&&s===S.type&&(x=Math.max(b,d),k=Math.min(b+S.nodeSize,p),g=b,v=S)}):r.doc.nodesBetween(d,p,(S,b)=>{b<d&&s&&s===S.type&&(x=Math.max(b,d),k=Math.min(b+S.nodeSize,p),g=b,v=S),b>=d&&b<=p&&(s&&s===S.type&&t.setNodeMarkup(b,void 0,{...S.attrs,...e}),a&&S.marks.length&&S.marks.forEach(E=>{if(a===E.type){const N=Math.max(b,d),P=Math.min(b+S.nodeSize,p);t.addMark(N,P,a.create({...E.attrs,...e}))}}))}),v&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(S=>{a===S.type&&t.addMark(x,k,a.create({...S.attrs,...e}))}))}),!0):!1},$R=(n,e={})=>({state:t,dispatch:r})=>{const o=et(n,t.schema);return XM(o,e)(t,r)},UR=(n,e={})=>({state:t,dispatch:r})=>{const o=et(n,t.schema);return ZM(o,e)(t,r)},fk=tt.create({name:"commands",addCommands(){return{...uk}}}),dk=tt.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,o;const s=()=>{var a,u,f,d;if((d=(f=(u=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:u.filterTransaction)==null?void 0:f.call(u,n))!=null?d:n.getMeta("y-sync$"))return;const p=Wx(n.before,[n,...e]);ek(p).forEach(x=>{p.mapping.mapResult(x.oldRange.from).deletedAfter&&p.mapping.mapResult(x.oldRange.to).deletedBefore&&p.before.nodesBetween(x.oldRange.from,x.oldRange.to,(k,S)=>{const b=S+k.nodeSize-2,E=x.oldRange.from<=S&&b<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:k,from:S,to:b,newFrom:p.mapping.map(S),newTo:p.mapping.map(b),deletedRange:x.oldRange,newRange:x.newRange,partial:!E,editor:this.editor,transaction:n,combinedTransform:p})})});const v=p.mapping;p.steps.forEach((x,k)=>{var S,b;if(x instanceof kn){const E=v.slice(k).map(x.from,-1),N=v.slice(k).map(x.to),P=v.invert().map(E,-1),j=v.invert().map(N),z=(S=p.doc.nodeAt(E-1))==null?void 0:S.marks.some(K=>K.eq(x.mark)),J=(b=p.doc.nodeAt(N))==null?void 0:b.marks.some(K=>K.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:P,to:j},newRange:{from:E,to:N},partial:!!(J||z),editor:this.editor,transaction:n,combinedTransform:p})}})};(o=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),hk=tt.create({name:"drop",addProseMirrorPlugins(){return[new qe({key:new dt("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),pk=tt.create({name:"editable",addProseMirrorPlugins(){return[new qe({key:new dt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),mk=new dt("focusEvents"),gk=tt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new qe({key:mk,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),yk=tt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:f,doc:d}=u,{empty:p,$anchor:g}=f,{pos:v,parent:x}=g,k=g.parent.isTextblock&&v>0?u.doc.resolve(v-1):g,S=k.parent.type.spec.isolating,b=g.pos-g.parentOffset,E=S&&k.parent.childCount===1?b===g.pos:pe.atStart(d).from===v;return!p||!x.type.isTextblock||x.textContent.length||!E||E&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return up()||ck()?s:o},addProseMirrorPlugins(){return[new qe({key:new dt("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(S=>S.getMeta("composition")))return;const r=n.some(S=>S.docChanged)&&!e.doc.eq(t.doc),o=n.some(S=>S.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:u}=e.selection,f=pe.atStart(e.doc).from,d=pe.atEnd(e.doc).to;if(s||!(a===f&&u===d)||!Zu(t.doc))return;const v=t.tr,x=Qu({state:t,transaction:v}),{commands:k}=new Gu({editor:this.editor,state:x});if(k.clearNodes(),!!v.steps.length)return v}})]}}),vk=tt.create({name:"paste",addProseMirrorPlugins(){return[new qe({key:new dt("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),xk=tt.create({name:"tabindex",addProseMirrorPlugins(){return[new qe({key:new dt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),HR=class ri{constructor(e,t,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new ri(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ri(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ri(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const o=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(a);if(!o&&u.depth<=this.depth)return;const f=new ri(u,this.editor,o,o?t:null);o&&(f.actualDepth=this.depth+1),e.push(new ri(u,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(t).length>0){const s=o.node.attrs,a=Object.keys(t);for(let u=0;u<a.length;u+=1){const f=a[u];if(s[f]!==t[f])break}}else r=o;o=o.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(t);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&s.every(f=>t[f]===a.node.attrs[f])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,t,r))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},VR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function WR(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}var KR=class extends lO{constructor(n={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:o,moved:s})=>this.options.onDrop(r,o,s)),this.on("paste",({event:r,slice:o})=>this.options.onPaste(r,o)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=ok(e,this.options.autofocus);this.editorState=ii.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var n;if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,(n=this.css)==null||n.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=WR(VR,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.editorState=this.state.apply(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=qx(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;t=t.filter(a=>!a.key.startsWith(s))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[pk,ak.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),fk,gk,yk,xk,hk,vk,dk].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new tc(r,this)}createCommandManager(){this.commandManager=new Gu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=hh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=hh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new Rx(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews(),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(d=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(d)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),o=t.includes(n),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!o)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const a=t.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),u=a?.getMeta("focus"),f=a?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:a}),f&&this.emit("blur",{editor:this,event:f.event,transaction:a}),!(n.getMeta("preventUpdate")||!t.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return Zx(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return wO(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return rp(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return mO(this.state.doc,{blockSeparator:e,textSerializers:{...Yx(this.schema),...t}})}get isEmpty(){return Zu(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new HR(e,this)}get $doc(){return this.$pos(0)}};function hi(n){return new ec({find:n.find,handler:({state:e,range:t,match:r})=>{const o=Me(n.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],u=r[0];if(a){const f=u.search(/\S/),d=t.from+u.indexOf(a),p=d+a.length;if(lp(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(S=>S===n.type&&S!==x.mark.type)).filter(x=>x.to>d).length)return null;p<t.to&&s.delete(p,t.to),d>t.from&&s.delete(t.from+f,d);const v=t.from+f+a.length;s.addMark(t.from+f,v,n.type.create(o||{})),s.removeStoredMark(n.type)}}})}function kk(n){return new ec({find:n.find,handler:({state:e,range:t,match:r})=>{const o=Me(n.getAttributes,void 0,r)||{},{tr:s}=e,a=t.from;let u=t.to;const f=n.type.create(o);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=a+d;p>u?p=u:u=p+r[1].length;const g=r[0][r[0].length-1];s.insertText(g,a+r[0].length-1),s.replaceWith(p,u,f)}else if(r[0]){const d=n.type.isInline?a:a-1;s.insert(d,n.type.create(o)).delete(s.mapping.map(a),s.mapping.map(u))}s.scrollIntoView()}})}function mh(n){return new ec({find:n.find,handler:({state:e,range:t,match:r})=>{const o=e.doc.resolve(t.from),s=Me(n.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function pi(n){return new ec({find:n.find,handler:({state:e,range:t,match:r,chain:o})=>{const s=Me(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),f=a.doc.resolve(t.from).blockRange(),d=f&&Fh(f,n.type,s);if(!d)return null;if(a.wrap(f,d),n.keepMarks&&n.editor){const{selection:g,storedMarks:v}=e,{splittableMarks:x}=n.editor.extensionManager,k=v||g.$to.parentOffset&&g.$from.marks();if(k){const S=k.filter(b=>x.includes(b.type.name));a.ensureMarks(S)}}if(n.keepAttributes){const g=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(g,s).run()}const p=a.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&$r(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&a.join(t.from-1)}})}function qR(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof se){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let o=r.depth;for(;o>=0;){const s=r.index(o);if(r.node(o).contentMatchAt(s).matchType(e))return!0;o-=1}return!1}function JR(n,e,t={}){const{state:r}=e,{doc:o,tr:s}=r,a=n;o.descendants((u,f)=>{const d=s.mapping.map(f),p=s.mapping.map(f)+u.nodeSize;let g=null;if(u.marks.forEach(x=>{if(x!==a)return!1;g=x}),!g)return;let v=!1;if(Object.keys(t).forEach(x=>{t[x]!==g.attrs[x]&&(v=!0)}),v){const x=n.type.create({...n.attrs,...t});s.removeMark(d,p,n.type),s.addMark(d,p,x)}}),s.docChanged&&e.view.dispatch(s)}var Wt=class wk extends ap{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new wk(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function bo(n){return new OO({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:o})=>{const s=Me(n.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:a}=e,u=r[r.length-1],f=r[0];let d=t.to;if(u){const p=f.search(/\S/),g=t.from+f.indexOf(u),v=g+u.length;if(lp(t.from,t.to,e.doc).filter(k=>k.mark.type.excluded.find(b=>b===n.type&&b!==k.mark.type)).filter(k=>k.to>g).length)return null;v<t.to&&a.delete(v,t.to),g>t.from&&a.delete(t.from+p,g),d=t.from+p+u.length,a.addMark(t.from+p,d,n.type.create(s||{})),a.removeStoredMark(n.type)}}})}var Md,Z0;function QR(){return Z0||(Z0=1,Md=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!n(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;){var a=s[o];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),Md}var GR=QR();const YR=Nh(GR);var Od={exports:{}},Rd={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function XR(){if(ev)return Rd;ev=1;var n=$s(),e=m1();function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,f=n.useDebugValue;return Rd.useSyncExternalStoreWithSelector=function(d,p,g,v,x){var k=s(null);if(k.current===null){var S={hasValue:!1,value:null};k.current=S}else S=k.current;k=u(function(){function E(J){if(!N){if(N=!0,P=J,J=v(J),x!==void 0&&S.hasValue){var K=S.value;if(x(K,J))return j=K}return j=J}if(K=j,r(P,J))return K;var H=v(J);return x!==void 0&&x(K,H)?(P=J,K):(P=J,j=H)}var N=!1,P,j,z=g===void 0?null:g;return[function(){return E(p())},z===null?void 0:function(){return E(z())}]},[p,g,v,x]);var b=o(d,k[0],k[1]);return a(function(){S.hasValue=!0,S.value=b},[b]),f(b),b},Rd}var tv;function ZR(){return tv||(tv=1,Od.exports=XR()),Od.exports}var eP=ZR(),tP=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},nP=({contentComponent:n})=>{const e=g1.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return C.jsx(C.Fragment,{children:Object.values(e)})};function rP(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:wE.createPortal(r.reactElement,r.element,t)},n.forEach(o=>o())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(o=>o())}}}var oP=class extends Ce.Component{constructor(n){var e;super(n),this.editorContentRef=Ce.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const n=this.props.editor;if(n&&!n.isDestroyed&&n.options.element){if(n.contentComponent)return;const e=this.editorContentRef.current;e.append(...n.options.element.childNodes),n.setOptions({element:e}),n.contentComponent=rP(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=n.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),n.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((n=e.options.element)!=null&&n.firstChild)))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:n,innerRef:e,...t}=this.props;return C.jsxs(C.Fragment,{children:[C.jsx("div",{ref:tP(e,this.editorContentRef),...t}),n?.contentComponent&&C.jsx(nP,{contentComponent:n.contentComponent})]})}},iP=O.forwardRef((n,e)=>{const t=Ce.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ce.createElement(oP,{key:t,innerRef:e,...n})}),sP=Ce.memo(iP),lP=typeof window<"u"?O.useLayoutEffect:O.useEffect,aP=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function uP(n){var e;const[t]=O.useState(()=>new aP(n.editor)),r=eP.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:YR);return lP(()=>t.watch(n.editor),[n.editor,t]),O.useDebugValue(r),r}var cP=!1,gh=typeof window>"u",fP=gh||!!(typeof window<"u"&&window.next),dP=class Sk{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?gh||fP?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onBeforeCreate)==null?void 0:s.call(o,...r)},onBlur:(...r)=>{var o,s;return(s=(o=this.options.current).onBlur)==null?void 0:s.call(o,...r)},onCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onCreate)==null?void 0:s.call(o,...r)},onDestroy:(...r)=>{var o,s;return(s=(o=this.options.current).onDestroy)==null?void 0:s.call(o,...r)},onFocus:(...r)=>{var o,s;return(s=(o=this.options.current).onFocus)==null?void 0:s.call(o,...r)},onSelectionUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onSelectionUpdate)==null?void 0:s.call(o,...r)},onTransaction:(...r)=>{var o,s;return(s=(o=this.options.current).onTransaction)==null?void 0:s.call(o,...r)},onUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onUpdate)==null?void 0:s.call(o,...r)},onContentError:(...r)=>{var o,s;return(s=(o=this.options.current).onContentError)==null?void 0:s.call(o,...r)},onDrop:(...r)=>{var o,s;return(s=(o=this.options.current).onDrop)==null?void 0:s.call(o,...r)},onPaste:(...r)=>{var o,s;return(s=(o=this.options.current).onPaste)==null?void 0:s.call(o,...r)},onDelete:(...r)=>{var o,s;return(s=(o=this.options.current).onDelete)==null?void 0:s.call(o,...r)}};return new KR(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((o,s)=>{var a;return o===((a=t.extensions)==null?void 0:a[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Sk.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function hP(n={},e=[]){const t=O.useRef(n);t.current=n;const[r]=O.useState(()=>new dP(t)),o=g1.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return O.useDebugValue(o),O.useEffect(r.onRender(e)),uP({editor:o,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&s===0?0:s+1}),o}var pP=O.createContext({editor:null});pP.Consumer;var mP=O.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),gP=()=>O.useContext(mP);Ce.forwardRef((n,e)=>{const{onDragStart:t}=gP(),r=n.as||"div";return C.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});Ce.createContext({markViewContentRef:()=>{}});var tu=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},yP=/^\s*>\s$/,vP=Wt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return tu("blockquote",{...Ye(this.options.HTMLAttributes,n),children:tu("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[pi({find:yP,type:this.type})]}}),xP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,kP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,wP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,SP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bP=To.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return tu("strong",{...Ye(this.options.HTMLAttributes,n),children:tu("slot",{})})},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[hi({find:xP,type:this.type}),hi({find:wP,type:this.type})]},addPasteRules(){return[bo({find:kP,type:this.type}),bo({find:SP,type:this.type})]}}),EP=/(^|[^`])`([^`]+)`(?!`)/,CP=/(^|[^`])`([^`]+)`(?!`)/g,TP=To.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Ye(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[hi({find:EP,type:this.type})]},addPasteRules(){return[bo({find:CP,type:this.type})]}}),NP=/^```([a-z]+)?[\s\n]$/,MP=/^~~~([a-z]+)?[\s\n]$/,OP=Wt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Ye(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:o}=t;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:o,empty:s}=t;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const u=o.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:d})=>(d.setSelection(pe.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[mh({find:NP,type:this.type,getAttributes:n=>({language:n[1]})}),mh({find:MP,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new qe({key:new dt("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=o?.mode;if(!t||!s)return!1;const{tr:a,schema:u}=n.state,f=u.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},f)),a.selection.$from.parent.type!==this.type&&a.setSelection(fe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),RP=Wt.create({name:"doc",topNode:!0,content:"block+"}),PP=Wt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Ye(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:s}=t;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=r.extensionManager,f=s||o.$to.parentOffset&&o.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&f&&a){const g=f.filter(v=>u.includes(v.type.name));d.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),AP=Wt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Ye(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>mh({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),LP=Wt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Ye(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!qR(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,o=n();return nk(t)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var u;if(a){const{$to:f}=s.selection,d=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?s.setSelection(fe.create(s.doc,f.pos+1)):f.nodeAfter.isBlock?s.setSelection(se.create(s.doc,f.pos)):s.setSelection(fe.create(s.doc,f.pos));else{const p=(u=f.parent.type.contentMatch.defaultType)==null?void 0:u.create();p&&(s.insert(d,p),s.setSelection(fe.create(s.doc,d+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[kk({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),DP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,_P=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,IP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,jP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,zP=To.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Ye(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[hi({find:DP,type:this.type}),hi({find:IP,type:this.type})]},addPasteRules(){return[bo({find:_P,type:this.type}),bo({find:jP,type:this.type})]}});const BP="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",FP="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",yh="numeric",vh="ascii",xh="alpha",xs="asciinumeric",ps="alphanumeric",kh="domain",bk="emoji",$P="scheme",UP="slashscheme",Pd="whitespace";function HP(n,e){return n in e||(e[n]=[]),e[n]}function ao(n,e,t){e[yh]&&(e[xs]=!0,e[ps]=!0),e[vh]&&(e[xs]=!0,e[xh]=!0),e[xs]&&(e[ps]=!0),e[xh]&&(e[ps]=!0),e[ps]&&(e[kh]=!0),e[bk]&&(e[kh]=!0);for(const r in e){const o=HP(r,t);o.indexOf(n)<0&&o.push(n)}}function VP(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function $t(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}$t.groups={};$t.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const o=e.jr[r][0],s=e.jr[r][1];if(s&&o.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let o=0;o<n.length;o++)this.tt(n[o],e,t,r)},tr(n,e,t,r){r=r||$t.groups;let o;return e&&e.j?o=e:(o=new $t(e),t&&r&&ao(e,t,r)),this.jr.push([n,o]),o},ts(n,e,t,r){let o=this;const s=n.length;if(!s)return o;for(let a=0;a<s-1;a++)o=o.tt(n[a]);return o.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||$t.groups;const o=this;if(e&&e.j)return o.j[n]=e,e;const s=e;let a,u=o.go(n);if(u?(a=new $t,Object.assign(a.j,u.j),a.jr.push.apply(a.jr,u.jr),a.jd=u.jd,a.t=u.t):a=new $t,s){if(r)if(a.t&&typeof a.t=="string"){const f=Object.assign(VP(a.t,r),t);ao(s,f,r)}else t&&ao(s,t,r);a.t=s}return o.j[n]=a,a}};const me=(n,e,t,r,o)=>n.ta(e,t,r,o),We=(n,e,t,r,o)=>n.tr(e,t,r,o),nv=(n,e,t,r,o)=>n.ts(e,t,r,o),W=(n,e,t,r,o)=>n.tt(e,t,r,o),Qn="WORD",wh="UWORD",Ek="ASCIINUMERICAL",Ck="ALPHANUMERICAL",Bs="LOCALHOST",Sh="TLD",bh="UTLD",_a="SCHEME",oi="SLASH_SCHEME",cp="NUM",Eh="WS",fp="NL",ks="OPENBRACE",ws="CLOSEBRACE",nu="OPENBRACKET",ru="CLOSEBRACKET",ou="OPENPAREN",iu="CLOSEPAREN",su="OPENANGLEBRACKET",lu="CLOSEANGLEBRACKET",au="FULLWIDTHLEFTPAREN",uu="FULLWIDTHRIGHTPAREN",cu="LEFTCORNERBRACKET",fu="RIGHTCORNERBRACKET",du="LEFTWHITECORNERBRACKET",hu="RIGHTWHITECORNERBRACKET",pu="FULLWIDTHLESSTHAN",mu="FULLWIDTHGREATERTHAN",gu="AMPERSAND",yu="APOSTROPHE",vu="ASTERISK",Nr="AT",xu="BACKSLASH",ku="BACKTICK",wu="CARET",Rr="COLON",dp="COMMA",Su="DOLLAR",Pn="DOT",bu="EQUALS",hp="EXCLAMATION",an="HYPHEN",Ss="PERCENT",Eu="PIPE",Cu="PLUS",Tu="POUND",bs="QUERY",pp="QUOTE",Tk="FULLWIDTHMIDDLEDOT",mp="SEMI",An="SLASH",Es="TILDE",Nu="UNDERSCORE",Nk="EMOJI",Mu="SYM";var Mk=Object.freeze({__proto__:null,ALPHANUMERICAL:Ck,AMPERSAND:gu,APOSTROPHE:yu,ASCIINUMERICAL:Ek,ASTERISK:vu,AT:Nr,BACKSLASH:xu,BACKTICK:ku,CARET:wu,CLOSEANGLEBRACKET:lu,CLOSEBRACE:ws,CLOSEBRACKET:ru,CLOSEPAREN:iu,COLON:Rr,COMMA:dp,DOLLAR:Su,DOT:Pn,EMOJI:Nk,EQUALS:bu,EXCLAMATION:hp,FULLWIDTHGREATERTHAN:mu,FULLWIDTHLEFTPAREN:au,FULLWIDTHLESSTHAN:pu,FULLWIDTHMIDDLEDOT:Tk,FULLWIDTHRIGHTPAREN:uu,HYPHEN:an,LEFTCORNERBRACKET:cu,LEFTWHITECORNERBRACKET:du,LOCALHOST:Bs,NL:fp,NUM:cp,OPENANGLEBRACKET:su,OPENBRACE:ks,OPENBRACKET:nu,OPENPAREN:ou,PERCENT:Ss,PIPE:Eu,PLUS:Cu,POUND:Tu,QUERY:bs,QUOTE:pp,RIGHTCORNERBRACKET:fu,RIGHTWHITECORNERBRACKET:hu,SCHEME:_a,SEMI:mp,SLASH:An,SLASH_SCHEME:oi,SYM:Mu,TILDE:Es,TLD:Sh,UNDERSCORE:Nu,UTLD:bh,UWORD:wh,WORD:Qn,WS:Eh});const qn=/[a-z]/,cs=new RegExp("\\p{L}","u"),Ad=new RegExp("\\p{Emoji}","u"),Jn=/\d/,Ld=/\s/,rv="\r",Dd=`
`,WP="️",KP="‍",_d="￼";let wa=null,Sa=null;function qP(n=[]){const e={};$t.groups=e;const t=new $t;wa==null&&(wa=ov(BP)),Sa==null&&(Sa=ov(FP)),W(t,"'",yu),W(t,"{",ks),W(t,"}",ws),W(t,"[",nu),W(t,"]",ru),W(t,"(",ou),W(t,")",iu),W(t,"<",su),W(t,">",lu),W(t,"（",au),W(t,"）",uu),W(t,"「",cu),W(t,"」",fu),W(t,"『",du),W(t,"』",hu),W(t,"＜",pu),W(t,"＞",mu),W(t,"&",gu),W(t,"*",vu),W(t,"@",Nr),W(t,"`",ku),W(t,"^",wu),W(t,":",Rr),W(t,",",dp),W(t,"$",Su),W(t,".",Pn),W(t,"=",bu),W(t,"!",hp),W(t,"-",an),W(t,"%",Ss),W(t,"|",Eu),W(t,"+",Cu),W(t,"#",Tu),W(t,"?",bs),W(t,'"',pp),W(t,"/",An),W(t,";",mp),W(t,"~",Es),W(t,"_",Nu),W(t,"\\",xu),W(t,"・",Tk);const r=We(t,Jn,cp,{[yh]:!0});We(r,Jn,r);const o=We(r,qn,Ek,{[xs]:!0}),s=We(r,cs,Ck,{[ps]:!0}),a=We(t,qn,Qn,{[vh]:!0});We(a,Jn,o),We(a,qn,a),We(o,Jn,o),We(o,qn,o);const u=We(t,cs,wh,{[xh]:!0});We(u,qn),We(u,Jn,s),We(u,cs,u),We(s,Jn,s),We(s,qn),We(s,cs,s);const f=W(t,Dd,fp,{[Pd]:!0}),d=W(t,rv,Eh,{[Pd]:!0}),p=We(t,Ld,Eh,{[Pd]:!0});W(t,_d,p),W(d,Dd,f),W(d,_d,p),We(d,Ld,p),W(p,rv),W(p,Dd),We(p,Ld,p),W(p,_d,p);const g=We(t,Ad,Nk,{[bk]:!0});W(g,"#"),We(g,Ad,g),W(g,WP,g);const v=W(g,KP);W(v,"#"),We(v,Ad,g);const x=[[qn,a],[Jn,o]],k=[[qn,null],[cs,u],[Jn,s]];for(let S=0;S<wa.length;S++)Er(t,wa[S],Sh,Qn,x);for(let S=0;S<Sa.length;S++)Er(t,Sa[S],bh,wh,k);ao(Sh,{tld:!0,ascii:!0},e),ao(bh,{utld:!0,alpha:!0},e),Er(t,"file",_a,Qn,x),Er(t,"mailto",_a,Qn,x),Er(t,"http",oi,Qn,x),Er(t,"https",oi,Qn,x),Er(t,"ftp",oi,Qn,x),Er(t,"ftps",oi,Qn,x),ao(_a,{scheme:!0,ascii:!0},e),ao(oi,{slashscheme:!0,ascii:!0},e),n=n.sort((S,b)=>S[0]>b[0]?1:-1);for(let S=0;S<n.length;S++){const b=n[S][0],N=n[S][1]?{[$P]:!0}:{[UP]:!0};b.indexOf("-")>=0?N[kh]=!0:qn.test(b)?Jn.test(b)?N[xs]=!0:N[vh]=!0:N[yh]=!0,nv(t,b,b,N)}return nv(t,"localhost",Bs,{ascii:!0}),t.jd=new $t(Mu),{start:t,tokens:Object.assign({groups:e},Mk)}}function Ok(n,e){const t=JP(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=t.length,o=[];let s=0,a=0;for(;a<r;){let u=n,f=null,d=0,p=null,g=-1,v=-1;for(;a<r&&(f=u.go(t[a]));)u=f,u.accepts()?(g=0,v=0,p=u):g>=0&&(g+=t[a].length,v++),d+=t[a].length,s+=t[a].length,a++;s-=g,a-=v,d-=g,o.push({t:p.t,v:e.slice(s-d,s),s:s-d,e:s})}return o}function JP(n){const e=[],t=n.length;let r=0;for(;r<t;){let o=n.charCodeAt(r),s,a=o<55296||o>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function Er(n,e,t,r,o){let s;const a=e.length;for(let u=0;u<a-1;u++){const f=e[u];n.j[f]?s=n.j[f]:(s=new $t(r),s.jr=o.slice(),n.j[f]=s),n=s}return s=new $t(t),s.jr=o.slice(),n.j[e[a-1]]=s,s}function ov(n){const e=[],t=[];let r=0,o="0123456789";for(;r<n.length;){let s=0;for(;o.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+s),10);a>0;a--)t.pop();r+=s}else t.push(n[r]),r++}return e}const Fs={defaultProtocol:"http",events:null,format:iv,formatHref:iv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function gp(n,e=null){let t=Object.assign({},Fs);n&&(t=Object.assign(t,n instanceof gp?n.o:n));const r=t.ignoreTags,o=[];for(let s=0;s<r.length;s++)o.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=o}gp.prototype={o:Fs,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let o=this.o[n];return o&&(typeof o=="object"?(o=t.t in o?o[t.t]:Fs[n],typeof o=="function"&&r&&(o=o(e,t))):typeof o=="function"&&r&&(o=o(e,t.t,t)),o)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function iv(n){return n}function Rk(n,e){this.t="token",this.v=n,this.tk=e}Rk.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Fs.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),o=n.get("tagName",t,e),s=this.toFormattedString(n),a={},u=n.get("className",t,e),f=n.get("target",t,e),d=n.get("rel",t,e),p=n.getObj("attributes",t,e),g=n.getObj("events",t,e);return a.href=r,u&&(a.class=u),f&&(a.target=f),d&&(a.rel=d),p&&Object.assign(a,p),{tagName:o,attributes:a,content:s,eventListeners:g}}};function nc(n,e){class t extends Rk{constructor(o,s){super(o,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const sv=nc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),lv=nc("text"),QP=nc("nl"),ba=nc("url",{isLink:!0,toHref(n=Fs.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Bs&&n[1].t===Rr}}),ln=n=>new $t(n);function GP({groups:n}){const e=n.domain.concat([gu,vu,Nr,xu,ku,wu,Su,bu,an,cp,Ss,Eu,Cu,Tu,An,Mu,Es,Nu]),t=[yu,Rr,dp,Pn,hp,Ss,bs,pp,mp,su,lu,ks,ws,ru,nu,ou,iu,au,uu,cu,fu,du,hu,pu,mu],r=[gu,yu,vu,xu,ku,wu,Su,bu,an,ks,ws,Ss,Eu,Cu,Tu,bs,An,Mu,Es,Nu],o=ln(),s=W(o,Es);me(s,r,s),me(s,n.domain,s);const a=ln(),u=ln(),f=ln();me(o,n.domain,a),me(o,n.scheme,u),me(o,n.slashscheme,f),me(a,r,s),me(a,n.domain,a);const d=W(a,Nr);W(s,Nr,d),W(u,Nr,d),W(f,Nr,d);const p=W(s,Pn);me(p,r,s),me(p,n.domain,s);const g=ln();me(d,n.domain,g),me(g,n.domain,g);const v=W(g,Pn);me(v,n.domain,g);const x=ln(sv);me(v,n.tld,x),me(v,n.utld,x),W(d,Bs,x);const k=W(g,an);W(k,an,k),me(k,n.domain,g),me(x,n.domain,g),W(x,Pn,v),W(x,an,k);const S=W(x,Rr);me(S,n.numeric,sv);const b=W(a,an),E=W(a,Pn);W(b,an,b),me(b,n.domain,a),me(E,r,s),me(E,n.domain,a);const N=ln(ba);me(E,n.tld,N),me(E,n.utld,N),me(N,n.domain,a),me(N,r,s),W(N,Pn,E),W(N,an,b),W(N,Nr,d);const P=W(N,Rr),j=ln(ba);me(P,n.numeric,j);const z=ln(ba),J=ln();me(z,e,z),me(z,t,J),me(J,e,z),me(J,t,J),W(N,An,z),W(j,An,z);const K=W(u,Rr),H=W(f,Rr),re=W(H,An),de=W(re,An);me(u,n.domain,a),W(u,Pn,E),W(u,an,b),me(f,n.domain,a),W(f,Pn,E),W(f,an,b),me(K,n.domain,z),W(K,An,z),W(K,bs,z),me(de,n.domain,z),me(de,e,z),W(de,An,z);const Ae=[[ks,ws],[nu,ru],[ou,iu],[su,lu],[au,uu],[cu,fu],[du,hu],[pu,mu]];for(let He=0;He<Ae.length;He++){const[Je,ht]=Ae[He],it=W(z,Je);W(J,Je,it),W(it,ht,z);const Ie=ln(ba);me(it,e,Ie);const we=ln();me(it,t),me(Ie,e,Ie),me(Ie,t,we),me(we,e,Ie),me(we,t,we),W(Ie,ht,z),W(we,ht,z)}return W(o,Bs,N),W(o,fp,QP),{start:o,tokens:Mk}}function YP(n,e,t){let r=t.length,o=0,s=[],a=[];for(;o<r;){let u=n,f=null,d=null,p=0,g=null,v=-1;for(;o<r&&!(f=u.go(t[o].t));)a.push(t[o++]);for(;o<r&&(d=f||u.go(t[o].t));)f=null,u=d,u.accepts()?(v=0,g=u):v>=0&&v++,o++,p++;if(v<0)o-=p,o<r&&(a.push(t[o]),o++);else{a.length>0&&(s.push(Id(lv,e,a)),a=[]),o-=v,p-=v;const x=g.t,k=t.slice(o-p,o);s.push(Id(x,e,k))}}return a.length>0&&s.push(Id(lv,e,a)),s}function Id(n,e,t){const r=t[0].s,o=t[t.length-1].e,s=e.slice(r,o);return new n(s,t)}const XP=typeof console<"u"&&console&&console.warn||(()=>{}),ZP="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function eA(){return $t.groups={},_e.scanner=null,_e.parser=null,_e.tokenQueue=[],_e.pluginQueue=[],_e.customSchemes=[],_e.initialized=!1,_e}function av(n,e=!1){if(_e.initialized&&XP(`linkifyjs: already initialized - will not register custom scheme "${n}" ${ZP}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_e.customSchemes.push([n,e])}function tA(){_e.scanner=qP(_e.customSchemes);for(let n=0;n<_e.tokenQueue.length;n++)_e.tokenQueue[n][1]({scanner:_e.scanner});_e.parser=GP(_e.scanner.tokens);for(let n=0;n<_e.pluginQueue.length;n++)_e.pluginQueue[n][1]({scanner:_e.scanner,parser:_e.parser});return _e.initialized=!0,_e}function yp(n){return _e.initialized||tA(),YP(_e.parser.start,n,Ok(_e.scanner.start,n))}yp.scan=Ok;function Pk(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new gp(t),o=yp(n),s=[];for(let a=0;a<o.length;a++){const u=o[a];u.isLink&&(!e||u.t===e)&&r.check(u)&&s.push(u.toFormattedObject(r))}return s}var vp="[\0-   ᠎ -\u2029 　]",nA=new RegExp(vp),rA=new RegExp(`${vp}$`),oA=new RegExp(vp,"g");function iA(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function sA(n){return new qe({key:new dt("autolink"),appendTransaction:(e,t,r)=>{const o=e.some(d=>d.docChanged)&&!t.doc.eq(r.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!o||s)return;const{tr:a}=r,u=Wx(t.doc,[...e]);if(ek(u).forEach(({newRange:d})=>{const p=uO(r.doc,d,x=>x.isTextblock);let g,v;if(p.length>1)g=p[0],v=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const x=r.doc.textBetween(d.from,d.to," "," ");if(!rA.test(x))return;g=p[0],v=r.doc.textBetween(g.pos,d.to,void 0," ")}if(g&&v){const x=v.split(nA).filter(Boolean);if(x.length<=0)return!1;const k=x[x.length-1],S=g.pos+v.lastIndexOf(k);if(!k)return!1;const b=yp(k).map(E=>E.toObject(n.defaultProtocol));if(!iA(b))return!1;b.filter(E=>E.isLink).map(E=>({...E,from:S+E.start+1,to:S+E.end+1})).filter(E=>r.schema.marks.code?!r.doc.rangeHasMark(E.from,E.to,r.schema.marks.code):!0).filter(E=>n.validate(E.value)).filter(E=>n.shouldAutoLink(E.value)).forEach(E=>{lp(E.from,E.to,r.doc).some(N=>N.mark.type===n.type)||a.addMark(E.from,E.to,n.type.create({href:E.href}))})}}),!!a.steps.length)return a}})}function lA(n){return new qe({key:new dt("handleClickLink"),props:{handleClick:(e,t,r)=>{var o,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let p=r.target;const g=[];for(;p.nodeName!=="DIV";)g.push(p),p=p.parentNode;a=g.find(v=>v.nodeName==="A")}if(!a)return!1;const u=Zx(e.state,n.type.name),f=(o=a?.href)!=null?o:u.href,d=(s=a?.target)!=null?s:u.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),a&&f?(window.open(f,d),!0):!1}}})}function aA(n){return new qe({key:new dt("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:o}=e,{selection:s}=o,{empty:a}=s;if(a)return!1;let u="";r.content.forEach(d=>{u+=d.textContent});const f=Pk(u,{defaultProtocol:n.defaultProtocol}).find(d=>d.isLink&&d.value===u);return!u||!f?!1:n.editor.commands.setMark(n.type,{href:f.href})}}})}function no(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&t.push(o)}),!n||n.replace(oA,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var uA=To.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){av(n);return}av(n.scheme,n.optionalSlashes)})},onDestroy(){eA()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!no(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!no(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!no(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ye(this.options.HTMLAttributes,n),0]:["a",Ye(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!no(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!no(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[bo({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,o=Pk(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!no(a,t),protocols:t,defaultProtocol:r}));o.length&&o.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(sA({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!no(o,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(lA({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(aA({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),cA=Object.defineProperty,fA=(n,e)=>{for(var t in e)cA(n,t,{get:e[t],enumerable:!0})},dA="listItem",uv="textStyle",cv=/^\s*([-+*])\s$/,Ak=Wt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Ye(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(dA,this.editor.getAttributes(uv)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=pi({find:cv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=pi({find:cv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(uv),editor:this.editor})),[n]}}),Lk=Wt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Ye(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),hA={};fA(hA,{findListItemPos:()=>tl,getNextListDepth:()=>xp,handleBackspace:()=>Ch,handleDelete:()=>Th,hasListBefore:()=>Dk,hasListItemAfter:()=>pA,hasListItemBefore:()=>_k,listItemHasSubList:()=>Ik,nextListIsDeeper:()=>jk,nextListIsHigher:()=>zk});var tl=(n,e)=>{const{$from:t}=e.selection,r=et(n,e.schema);let o=null,s=t.depth,a=t.pos,u=null;for(;s>0&&u===null;)o=t.node(s),o.type===r?u=s:(s-=1,a-=1);return u===null?null:{$pos:e.doc.resolve(a),depth:u}},xp=(n,e)=>{const t=tl(n,e);if(!t)return!1;const[,r]=xO(e,n,t.$pos.pos+4);return r},Dk=(n,e,t)=>{const{$anchor:r}=n.selection,o=Math.max(0,r.pos-2),s=n.doc.resolve(o).node();return!(!s||!t.includes(s.type.name))},_k=(n,e)=>{var t;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-2);return!(o.index()===0||((t=o.nodeBefore)==null?void 0:t.type.name)!==n)},Ik=(n,e,t)=>{if(!t)return!1;const r=et(n,e.schema);let o=!1;return t.descendants(s=>{s.type===r&&(o=!0)}),o},Ch=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!Br(n.state,e)&&Dk(n.state,e,t)){const{$anchor:u}=n.state.selection,f=n.state.doc.resolve(u.before()-1),d=[];f.node().descendants((v,x)=>{v.type.name===e&&d.push({node:v,pos:x})});const p=d.at(-1);if(!p)return!1;const g=n.state.doc.resolve(f.start()+p.pos+1);return n.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!Br(n.state,e)||!bO(n.state))return!1;const r=tl(e,n.state);if(!r)return!1;const s=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=Ik(e,n.state,s);return _k(e,n.state)&&!a?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},jk=(n,e)=>{const t=xp(n,e),r=tl(n,e);return!r||!t?!1:t>r.depth},zk=(n,e)=>{const t=xp(n,e),r=tl(n,e);return!r||!t?!1:t<r.depth},Th=(n,e)=>{if(!Br(n.state,e)||!SO(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:o}=t;return!t.empty&&r.sameParent(o)?!1:jk(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():zk(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},pA=(n,e)=>{var t;const{$anchor:r}=e.selection,o=e.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((t=o.nodeAfter)==null?void 0:t.type.name)!==n)},Bk=tt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&Th(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&Th(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&Ch(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&Ch(n,t,r)&&(e=!0)}),e}}}}),mA="listItem",fv="textStyle",dv=/^(\d+)\.\s$/,Fk=Wt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Ye(this.options.HTMLAttributes,t),0]:["ol",Ye(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mA,this.editor.getAttributes(fv)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=pi({find:dv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=pi({find:dv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(fv)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),gA=/^\s*(\[([( |x])?\])\s$/,yA=Wt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",Ye(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const o=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),u=document.createElement("input"),f=document.createElement("div"),d=()=>{var p,g;u.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,n,u.checked))||`Task item checkbox for ${n.textContent||"empty task item"}`};return d(),s.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",p=>p.preventDefault()),u.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:g}=p.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const x=t();if(typeof x!="number")return!1;const k=v.doc.nodeAt(x);return v.setNodeMarkup(x,void 0,{...k?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,g)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,g])=>{o.setAttribute(p,g)}),o.dataset.checked=n.attrs.checked,u.checked=n.attrs.checked,s.append(u,a),o.append(s,f),Object.entries(e).forEach(([p,g])=>{o.setAttribute(p,g)}),{dom:o,contentDOM:f,update:p=>p.type!==this.type?!1:(o.dataset.checked=p.attrs.checked,u.checked=p.attrs.checked,d(),!0)}}},addInputRules(){return[pi({find:gA,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),vA=Wt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",Ye(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});tt.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(Ak.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(Lk.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(Bk.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(Fk.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(yA.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(vA.configure(this.options.taskList)),n}});var xA=Wt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Ye(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),kA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,wA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,SA=To.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Ye(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[hi({find:kA,type:this.type})]},addPasteRules(){return[bo({find:wA,type:this.type})]}}),bA=Wt.create({name:"text",group:"inline"}),$k=To.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",Ye(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),EA=$k;function CA(n={}){return new qe({view(e){return new TA(e,n)}})}class TA{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=a=>{this[o](a)};return e.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,o=this.editorView.dom,s=o.getBoundingClientRect(),a=s.width/o.offsetWidth,u=s.height/o.offsetHeight;if(t){let g=e.nodeBefore,v=e.nodeAfter;if(g||v){let x=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(x){let k=x.getBoundingClientRect(),S=g?k.bottom:k.top;g&&v&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*u;r={left:k.left,right:k.right,top:S-b,bottom:S+b}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*a;r={left:g.left-v,right:g.left+v,top:g.top,bottom:g.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let d,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")d=-pageXOffset,p=-pageYOffset;else{let g=f.getBoundingClientRect(),v=g.width/f.offsetWidth,x=g.height/f.offsetHeight;d=g.left-f.scrollLeft*v,p=g.top-f.scrollTop*x}this.element.style.left=(r.left-d)/a+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,t,e):o;if(t&&!s){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=H1(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ke extends pe{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Ke.valid(r)?new Ke(r):pe.near(r)}content(){return G.empty}eq(e){return e instanceof Ke&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ke(e.resolve(t.pos))}getBookmark(){return new kp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!NA(e)||!MA(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Ke.valid(e))return e;let o=e.pos,s=null;for(let a=e.depth;;a--){let u=e.node(a);if(t>0?e.indexAfter(a)<u.childCount:e.index(a)>0){s=u.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;o+=t;let f=e.doc.resolve(o);if(Ke.valid(f))return f}for(;;){let a=t>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!se.isSelectable(s)){e=e.doc.resolve(o+s.nodeSize*t),r=!1;continue e}break}s=a,o+=t;let u=e.doc.resolve(o);if(Ke.valid(u))return u}return null}}}Ke.prototype.visible=!1;Ke.findFrom=Ke.findGapCursorFrom;pe.jsonID("gapcursor",Ke);class kp{constructor(e){this.pos=e}map(e){return new kp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ke.valid(t)?new Ke(t):pe.near(t)}}function NA(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function MA(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(t);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function OA(){return new qe({props:{decorations:LA,createSelectionBetween(n,e,t){return e.pos==t.pos&&Ke.valid(t)?new Ke(t):null},handleClick:PA,handleKeyDown:RA,handleDOMEvents:{beforeinput:AA}}})}const RA=Px({ArrowLeft:Ea("horiz",-1),ArrowRight:Ea("horiz",1),ArrowUp:Ea("vert",-1),ArrowDown:Ea("vert",1)});function Ea(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,o,s){let a=r.selection,u=e>0?a.$to:a.$from,f=a.empty;if(a instanceof fe){if(!s.endOfTextblock(t)||u.depth==0)return!1;f=!1,u=r.doc.resolve(e>0?u.after():u.before())}let d=Ke.findGapCursorFrom(u,e,f);return d?(o&&o(r.tr.setSelection(new Ke(d))),!0):!1}}function PA(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Ke.valid(r))return!1;let o=n.posAtCoords({left:t.clientX,top:t.clientY});return o&&o.inside>-1&&se.isSelectable(n.state.doc.nodeAt(o.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Ke(r))),!0)}function AA(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Ke))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let o=U.empty;for(let a=r.length-1;a>=0;a--)o=U.from(r[a].createAndFill(null,o));let s=n.state.tr.replace(t.pos,t.pos,new G(o,0,0));return s.setSelection(fe.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function LA(n){if(!(n.selection instanceof Ke))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",$e.create(n.doc,[Pt.widget(n.selection.head,e,{key:"gapcursor"})])}var Ou=200,ft=function(){};ft.prototype.append=function(e){return e.length?(e=ft.from(e),!this.length&&e||e.length<Ou&&this.leafAppend(e)||this.length<Ou&&e.leafPrepend(this)||this.appendInner(e)):this};ft.prototype.prepend=function(e){return e.length?ft.from(e).append(this):this};ft.prototype.appendInner=function(e){return new DA(this,e)};ft.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ft.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};ft.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ft.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};ft.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,a){return o.push(e(s,a))},t,r),o};ft.from=function(e){return e instanceof ft?e:e&&e.length?new Uk(e):ft.empty};var Uk=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,a,u){for(var f=s;f<a;f++)if(o(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,a,u){for(var f=s-1;f>=a;f--)if(o(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Ou)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Ou)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(ft);ft.empty=new Uk([]);var DA=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,a){var u=this.left.length;if(o<u&&this.left.forEachInner(r,o,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(r,Math.max(o-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,a){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(r,o-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(r,Math.min(o,u),s,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ft);const _A=500;class xn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;t&&(o=this.remapping(r,this.items.length),s=o.maps.length);let a=e.tr,u,f,d=[],p=[];return this.items.forEach((g,v)=>{if(!g.step){o||(o=this.remapping(r,v+1),s=o.maps.length),s--,p.push(g);return}if(o){p.push(new Ln(g.map));let x=g.step.map(o.slice(s)),k;x&&a.maybeStep(x).doc&&(k=a.mapping.maps[a.mapping.maps.length-1],d.push(new Ln(k,void 0,void 0,d.length+p.length))),s--,k&&o.appendMap(k,s)}else a.maybeStep(g.step);if(g.selection)return u=o?g.selection.map(o.slice(s)):g.selection,f=new xn(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:u}}addTransform(e,t,r,o){let s=[],a=this.eventCount,u=this.items,f=!o&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),v=new Ln(e.mapping.maps[p],g,t),x;(x=f&&f.merge(v))&&(v=x,p?s.pop():u=u.slice(0,u.length-1)),s.push(v),t&&(a++,t=void 0),o||(f=v)}let d=a-r.depth;return d>jA&&(u=IA(u,d),a-=d),new xn(u.append(s),a)}remapping(e,t){let r=new As;return this.items.forEach((o,s)=>{let a=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new xn(this.items.append(e.map(t=>new Ln(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),s=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(v=>{v.selection&&u--},o);let f=t;this.items.forEach(v=>{let x=s.getMirror(--f);if(x==null)return;a=Math.min(a,x);let k=s.maps[x];if(v.step){let S=e.steps[x].invert(e.docs[x]),b=v.selection&&v.selection.map(s.slice(f+1,x));b&&u++,r.push(new Ln(k,S,b))}else r.push(new Ln(k))},o);let d=[];for(let v=t;v<a;v++)d.push(new Ln(s.maps[v]));let p=this.items.slice(0,o).append(d).append(r),g=new xn(p,u);return g.emptyItemCount()>_A&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],s=0;return this.items.forEach((a,u)=>{if(u>=e)o.push(a),a.selection&&s++;else if(a.step){let f=a.step.map(t.slice(r)),d=f&&f.getMap();if(r--,d&&t.appendMap(d,r),f){let p=a.selection&&a.selection.map(t.slice(r));p&&s++;let g=new Ln(d.invert(),f,p),v,x=o.length-1;(v=o.length&&o[x].merge(g))?o[x]=v:o.push(g)}}else a.map&&r--},this.items.length,0),new xn(ft.from(o.reverse()),s)}}xn.empty=new xn(ft.empty,0);function IA(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class Ln{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Ln(t.getMap().invert(),t,this.selection)}}}class Mr{constructor(e,t,r,o,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const jA=20;function zA(n,e,t,r){let o=t.getMeta(go),s;if(o)return o.historyState;t.getMeta($A)&&(n=new Mr(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(go))return a.getMeta(go).redo?new Mr(n.done.addTransform(t,void 0,r,Ia(e)),n.undone,hv(t.mapping.maps),n.prevTime,n.prevComposition):new Mr(n.done,n.undone.addTransform(t,void 0,r,Ia(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),f=n.prevTime==0||!a&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!BA(t,n.prevRanges)),d=a?jd(n.prevRanges,t.mapping):hv(t.mapping.maps);return new Mr(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,Ia(e)),xn.empty,d,t.time,u??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Mr(n.done.rebased(t,s),n.undone.rebased(t,s),jd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Mr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),jd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function BA(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(t=!0)}),t}function hv(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,o,s,a)=>e.push(s,a));return e}function jd(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),s=e.map(n[r+1],-1);o<=s&&t.push(o,s)}return t}function FA(n,e,t){let r=Ia(e),o=go.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),o,r),f=new Mr(t?u:s.remaining,t?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(go,{redo:t,historyState:f})}let zd=!1,pv=null;function Ia(n){let e=n.plugins;if(pv!=e){zd=!1,pv=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){zd=!0;break}}return zd}const go=new dt("history"),$A=new dt("closeHistory");function UA(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new qe({key:go,state:{init(){return new Mr(xn.empty,xn.empty,null,0,-1)},apply(e,t,r){return zA(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?Vk:r=="historyRedo"?Wk:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function Hk(n,e){return(t,r)=>{let o=go.getState(t);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let s=FA(o,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const Vk=Hk(!1,!0),Wk=Hk(!0,!0);tt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new qe({key:new dt("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const o=this.options.limit;if(o==null||o===0){n=!0;return}const s=this.storage.characters({node:r.doc});if(s>o){const a=s-o,u=0,f=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(u,f);return n=!0,d}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:t.doc}),s=this.storage.characters({node:e.doc});if(s<=r||o>r&&s>r&&s<=o)return!0;if(o>r&&s>r&&s>o||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,f=s-r,d=u-f,p=u;return e.deleteRange(d,p),!(this.storage.characters({node:e.doc})>r)}})]}});var HA=tt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[CA(this.options)]}});tt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new qe({key:new dt("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:o}=e,s=[];if(!t||!r)return $e.create(n,[]);let a=0;this.options.mode==="deepest"&&n.descendants((f,d)=>{if(f.isText)return;if(!(o>=d&&o<=d+f.nodeSize-1))return!1;a+=1});let u=0;return n.descendants((f,d)=>{if(f.isText||!(o>=d&&o<=d+f.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&a-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";s.push(Pt.node(d,d+f.nodeSize,{class:this.options.className}))}),$e.create(n,s)}}})]}});var VA=tt.create({name:"gapCursor",addProseMirrorPlugins(){return[OA()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Me(oe(n,"allowGapCursor",t)))!=null?e:null}}});tt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new qe({key:new dt("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((a,u)=>{const f=r>=u&&r<=u+a.nodeSize,d=!a.isLeaf&&Zu(a);if((f||!this.options.showOnlyCurrent)&&d){const p=[this.options.emptyNodeClass];s&&p.push(this.options.emptyEditorClass);const g=Pt.node(u,u+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:u,hasAnchor:f}):this.options.placeholder});o.push(g)}return this.options.includeChildren}),$e.create(n,o)}}})]}});tt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new qe({key:new dt("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||nk(t.selection)||n.view.dragging?null:$e.create(t.doc,[Pt.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function mv({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var WA=tt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const n=new dt(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>(this.options.notAfter||[]).concat(this.options.node).includes(t.name));return[new qe({key:n,appendTransaction:(t,r,o)=>{const{doc:s,tr:a,schema:u}=o,f=n.getState(o),d=s.content.size,p=u.nodes[this.options.node];if(f)return a.insert(d,p.create())},state:{init:(t,r)=>{const o=r.tr.doc.lastChild;return!mv({node:o,types:e})},apply:(t,r)=>{if(!t.docChanged)return r;const o=t.doc.lastChild;return!mv({node:o,types:e})}}})]}}),KA=tt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Vk(n,e),redo:()=>({state:n,dispatch:e})=>Wk(n,e)}},addProseMirrorPlugins(){return[UA(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),qA=tt.create({name:"starterKit",addExtensions(){var n,e,t,r;const o=[];return this.options.bold!==!1&&o.push(bP.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(vP.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(Ak.configure(this.options.bulletList)),this.options.code!==!1&&o.push(TP.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(OP.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(RP.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(HA.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(VA.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(PP.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(AP.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(KA.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(LP.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(zP.configure(this.options.italic)),this.options.listItem!==!1&&o.push(Lk.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(Bk.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&o.push(uA.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&o.push(Fk.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(xA.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(SA.configure(this.options.strike)),this.options.text!==!1&&o.push(bA.configure(this.options.text)),this.options.underline!==!1&&o.push($k.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&o.push(WA.configure((r=this.options)==null?void 0:r.trailingNode)),o}}),JA=qA,QA=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,GA=Wt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",Ye(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[kk({find:QA,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),YA=GA;function XA(){const{user:n}=O.useContext(Zt),e=Eo(),[t,r]=O.useState(""),[o,s]=O.useState(null),[a,u]=O.useState(""),[f,d]=O.useState(""),[p,g]=O.useState([]),v=hP({extensions:[JA,EA,YA],content:""});O.useEffect(()=>(n||e("/login"),g([{id:1,name:"Programming"},{id:2,name:"Technology"},{id:3,name:"Lifestyle"}]),()=>v?.destroy()),[n,e]);const x=N=>{v&&v.chain().focus()[`toggle${N}`]().run()},k=N=>v?.isActive(N.toLowerCase()),S=N=>{const P=N.target.files[0];s(P),u(URL.createObjectURL(P))},b=async()=>{const N=document.createElement("input");N.type="file",N.accept="image/*",N.onchange=async()=>{const P=N.files[0],j=prompt("Enter image caption:");if(!P||!j)return;const z=new FormData;z.append("content",P),z.append("caption",j),z.append("post_id","temp");try{ie.info("Uploading image...");const J=await tN.createImage(z);J?.image_url?(v.chain().focus().setImage({src:J.image_url,alt:j}).run(),ie.success("Image inserted!")):ie.error("Image upload failed.")}catch(J){console.error(J),ie.error("Error uploading image.")}},N.click()},E=async N=>{if(N.preventDefault(),!t||!f||!o||!v?.getHTML()){ie.warn("Please fill in all fields.");return}const P=new FormData;P.append("userId",n.id),P.append("title",t),P.append("categoryId",f),P.append("content",v.getHTML()),P.append("thumbnail",o),P.append("status","published");try{(await ai.createPost(P))?.id?(ie.success("Post created successfully!"),e(`/profile/${n.id}/content`)):ie.error("Post creation failed.")}catch(j){console.error(j),ie.error("Error creating post.")}};return C.jsxs(C.Fragment,{children:[C.jsx("style",{children:`
        .editor-content strong { font-weight: bold; color: black; }
        .editor-content em { font-style: italic; color: #444; }
        .editor-content u { text-decoration: underline; color: black; }
        .editor-content code {
          background: #f5f5f5;
          padding: 2px 5px;
          border-radius: 4px;
          color: #e63946;
        }
        .editor-content img {
          max-width: 100%;
          height: auto;
          margin-top: 10px;
          border-radius: 6px;
        }
        .toolbar-button {
          padding: 6px 12px;
          margin-right: 6px;
          border: 1px solid #ccc;
          background: white;
          border-radius: 6px;
          cursor: pointer;
          font-weight: 500;
        }
        .toolbar-button.active {
          background: #000;
          color: white;
        }
      `}),C.jsxs("div",{className:"max-w-3xl mx-auto mt-10 bg-white p-6 shadow rounded-xl",children:[C.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Create a New Post"}),C.jsxs("form",{onSubmit:E,className:"space-y-5",children:[C.jsxs("div",{children:[C.jsx("label",{className:"font-semibold block mb-1",children:"Title"}),C.jsx("input",{value:t,onChange:N=>r(N.target.value),placeholder:"Post title",className:"w-full border p-2 rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"font-semibold block mb-1",children:"Category"}),C.jsxs("select",{value:f,onChange:N=>d(N.target.value),className:"w-full border p-2 rounded",children:[C.jsx("option",{value:"",children:"Select category"}),p.map(N=>C.jsx("option",{value:N.id,children:N.name},N.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"font-semibold block mb-1",children:"Thumbnail"}),C.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"w-full p-2 border rounded"}),a&&C.jsx("img",{src:a,alt:"Thumbnail preview",className:"mt-2 h-48 w-full object-cover rounded"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"font-semibold block mb-1",children:"Content"}),C.jsxs("div",{className:"mb-3 flex flex-wrap gap-2",children:[C.jsx("button",{type:"button",onClick:()=>x("Bold"),className:`toolbar-button ${k("bold")?"active":""}`,children:"B"}),C.jsx("button",{type:"button",onClick:()=>x("Italic"),className:`toolbar-button ${k("italic")?"active":""}`,children:"I"}),C.jsx("button",{type:"button",onClick:()=>x("Underline"),className:`toolbar-button ${k("underline")?"active":""}`,children:"U"}),C.jsx("button",{type:"button",onClick:()=>x("Code"),className:`toolbar-button ${k("code")?"active":""}`,children:"</>"}),C.jsx("button",{type:"button",onClick:()=>x("BulletList"),className:`toolbar-button ${k("bulletList")?"active":""}`,children:"• List"}),C.jsx("button",{type:"button",onClick:()=>x("OrderedList"),className:`toolbar-button ${k("orderedList")?"active":""}`,children:"1. List"}),C.jsx("button",{type:"button",onClick:b,className:"toolbar-button",children:"📷 Insert Image"})]}),C.jsx("div",{className:"editor-content border p-2 rounded min-h-[200px]",children:C.jsx(sP,{editor:v})})]}),C.jsx("button",{type:"submit",className:"bg-black text-white px-5 py-2 rounded hover:bg-gray-800",children:"Publish"})]})]})]})}const Ca="http://localhost:3005/api",rc={register:async function(n){try{const e=await ve.post(`${Ca}/users/register`,n,{headers:{"Content-Type":"multipart/form-data"}});return e.data.status==="SUCCESS"?e.data.data:!1}catch(e){return console.error("Register error:",e),!1}},login:async function(n){try{const e=await ve.post(`${Ca}/users/login`,n);return e.data.status==="SUCCESS"?e.data.data:!1}catch(e){return console.error("Login error: ",e.message),!1}},findUserWithId:async function(n){try{const e=await ve.get(`${Ca}/users/${n}`);return e.data.status==="SUCCESS"&&e.data.data?e.data.data:(console.log("failure"),!1)}catch(e){throw console.error("User Not Found"),e}},EditProfile:async function(n,e){try{const t=await ve.put(`${Ca}/users/${n}`,e,{headers:{"Content-Type":"multipart/form-data"}});return t.data.status==="SUCCESS"&&t.data.data?t.data.data:(console.log("Failure to Update Profile"),!1)}catch(t){throw console.error("erorr occur while edit profile"),t}}},wp=O.createContext();function ZA({children:n}){const[e,t]=O.useState({}),r={id:e.id,name:e.name,username:e.username,email:e.eamil,bio:e.bio,profilePicture_url:e.profilePicture?.url||null,profilePicture_id:e.profilePicture?.id||null,createdAt:e.createdAt};return C.jsx(C.Fragment,{children:C.jsx(wp.Provider,{value:{otherUser_obj:r,setOtherUser:t},children:n})})}function eL(){const{user:n}=O.useContext(Zt),{otherUser_obj:e,setOtherUser:t}=O.useContext(wp),r=Eo(),{id:o}=Vs(),s=Fr(),[a,u]=O.useState("about"),[f,d]=O.useState(0);return O.useEffect(()=>{async function p(){try{const v=await rc.findUserWithId(Number(o));v?(t(v),console.log(v)):r("/login")}catch(v){r("/login"),console.log(`Error: ${v.message}`)}}async function g(){try{const v=await ai.getPostCountbySpecificUserId(Number(o));v?(console.log(`Successfully Get Post Count ${v.postCount}`),d(v.postCount)):(console.log("User Not found Or Not have any post"),d(0))}catch(v){console.log(`Error: ${v.message}`)}}p(),g()},[o,r,t]),O.useEffect(()=>{const p=s.pathname.split("/").pop()||"about";u(p)},[s]),C.jsxs("div",{className:"min-h-screen bg-white font-sans pt-16",children:[" ",C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 flex",children:[C.jsx("div",{className:"w-1/3 pr-8",children:C.jsxs("div",{className:"sticky top-16",children:[" ",C.jsxs("div",{className:"flex flex-col items-center",children:[C.jsx("img",{src:e.profilePicture_url,alt:"user profile",className:"w-32 h-32 rounded-full object-cover border border-gray-300 shadow-sm hover:shadow-md hover:scale-105 transition-all duration-300"}),C.jsx("h2",{className:"mt-4 text-xl font-bold text-black",children:e.username||"Username"}),C.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Joined"," ",e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"]}),C.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Posts: ",f]}),e.id===n.id&&C.jsxs(ot,{to:"edit-profile",className:"mt-4 px-4 py-2 bg-black text-white rounded-lg font-medium hover:bg-gray-900 hover:scale-105 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300 flex items-center space-x-2",children:[C.jsx(za,{size:16}),C.jsx("span",{children:"Edit Profile"})]})]})]})}),C.jsxs("div",{className:"w-2/3 pl-8 border-l border-gray-300",children:[C.jsxs("div",{className:"flex space-x-6 border-b border-gray-300 mb-6",children:[C.jsxs(ot,{to:"about",onClick:()=>u("about"),className:`py-2 px-4 text-sm font-medium transition-all duration-200 flex items-center space-x-2 hover:bg-gray-100 hover:scale-105 ${a==="about"?"text-black border-b-2 border-black":"text-gray-600 hover:text-black"}`,children:[C.jsx(Ba,{size:16}),C.jsx("span",{children:"About"})]}),C.jsxs(ot,{to:"post",onClick:()=>u("post"),className:`py-2 px-4 text-sm font-medium transition-all duration-200 flex items-center space-x-2 hover:bg-gray-100 hover:scale-105 ${a==="post"?"text-black border-b-2 border-black":"text-gray-600 hover:text-black"}`,children:[C.jsx(OE,{size:16}),C.jsx("span",{children:"Posts"})]}),C.jsxs(ot,{to:"save-later",onClick:()=>u("save-later"),className:`py-2 px-4 text-sm font-medium transition-all duration-200 flex items-center space-x-2 hover:bg-gray-100 hover:scale-105 ${a==="save-later"?"text-black border-b-2 border-black":"text-gray-600 hover:text-black"}`,children:[C.jsx(Dv,{size:16}),C.jsx("span",{children:"Save Later"})]}),C.jsxs(ot,{to:"likes",onClick:()=>u("likes"),className:`py-2 px-4 text-sm font-medium transition-all duration-200 flex items-center space-x-2 hover:bg-gray-100 hover:scale-105 ${a==="likes"?"text-black border-b-2 border-black":"text-gray-600 hover:text-black"}`,children:[C.jsx(_v,{size:16}),C.jsx("span",{children:"Likes"})]})]}),C.jsx("div",{className:"mt-6 transition-opacity duration-300 ease-in-out",children:C.jsx(Ph,{})},a)]})]})]})}function tL(){return C.jsx(C.Fragment,{children:C.jsx(Ph,{})})}function nL(){const[n,e]=O.useState(1),[t,r]=O.useState(""),[o,s]=O.useState(""),[a,u]=O.useState(""),{setCurrentUser:f}=O.useContext(Zt),d=Eo(),[p,g]=O.useState({name:"",username:"",bio:"",profilePicture:null});function v(b){const{name:E,value:N}=b.target;g(P=>({...P,[E]:N}))}function x(b){g(E=>({...E,profilePicture:b.target.files[0]||null}))}function k(b){if(b.preventDefault(),!t||!o){if(ie.warn("Please enter email and password"),o!==a){ie.warn("Password Does Not Match");return}return}e(2)}async function S(b){if(b.preventDefault(),!p.name||!p.username||!p.bio||!p.profilePicture){ie.warn("Please complete all fields");return}try{const E=new FormData;E.append("email",t),E.append("password",o),E.append("name",p.name),E.append("username",p.username),E.append("bio",p.bio),E.append("profilePicture",p.profilePicture);const N=await rc.register(E);N?(f(N),d("/dashboard")):ie.error("Failed to register")}catch(E){ie.error("Something went wrong ",E.message)}}return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4 sm:px-6 lg:px-8 font-sans",children:C.jsxs("div",{className:"w-full max-w-lg p-6 sm:p-8 bg-white rounded-2xl shadow-sm",children:[C.jsxs("div",{className:"mb-10 text-center",children:[C.jsx("h1",{className:"text-4xl font-bold text-black tracking-tight",children:n===1?"Join Our Community":"Complete Your Profile"}),C.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n===1?"Start sharing your stories today.":"Tell us who you are."})]}),n===1&&C.jsxs("form",{onSubmit:k,className:"space-y-6",children:[C.jsx("div",{children:C.jsx("input",{type:"email",placeholder:"Your email",value:t,onChange:b=>r(b.target.value),required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-lg"})}),C.jsx("div",{children:C.jsx("input",{type:"password",placeholder:"Create a password",value:o,onChange:b=>s(b.target.value),required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-lg"})}),C.jsx("div",{children:C.jsx("input",{type:"password",placeholder:"Confirm a password",value:a,onChange:b=>u(b.target.value),required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-lg"})}),C.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-lg font-medium hover:bg-gray-900 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300",children:"Continue"}),C.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Already have an account?"," ",C.jsx(ot,{to:"/login",className:"text-black font-medium hover:text-gray-800 transition-colors duration-200",children:"Sign in"})]})]}),n===2&&C.jsxs("form",{onSubmit:S,encType:"multipart/form-data",className:"space-y-6",children:[C.jsx("div",{children:C.jsx("input",{type:"text",name:"name",placeholder:"Full name",value:p.name,onChange:v,required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-lg"})}),C.jsx("div",{children:C.jsx("input",{type:"text",name:"username",placeholder:"Username",value:p.username,onChange:v,required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-lg"})}),C.jsx("div",{children:C.jsx("textarea",{name:"bio",placeholder:"Tell us about yourself",value:p.bio,onChange:v,rows:4,required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none resize-none transition-all duration-300 text-lg"})}),C.jsxs("div",{children:[C.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Profile Picture"}),C.jsx("div",{className:"relative",children:C.jsx("input",{type:"file",name:"profilePicture",accept:"image/*",onChange:x,required:!0,className:"block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-gray-100 file:text-black file:font-medium hover:file:bg-gray-200 transition-all duration-200 cursor-pointer"})})]}),C.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-lg font-medium hover:bg-gray-900 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300",children:"Finish Sign Up"})]})]})})}function rL(){const{user:n,setCurrentUser:e}=O.useContext(Zt),t=Eo(),[r,o]=O.useState(""),[s,a]=O.useState("");function u(d){const{name:p,value:g}=d.target;switch(p){case"email":o(g);break;case"password":a(g);break;default:console.log("Invalid Input");break}}async function f(d){try{if(d.preventDefault(),!r||!s){ie.error("All Fields are required");return}const p={email:r,password:s};console.log(p);const g=await rc.login(p);g?(console.log("response: ",g),e(g),console.log("user: ",n),setTimeout(()=>{t("/dashboard")},800),o(""),a("")):(o(""),a(""),console.log("Login Failure"),ie.warn("Login Failure"))}catch(p){console.log(`Error: ${p.message}`),ie.error("Error When Trying to Login")}}return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4 sm:px-6 lg:px-8 font-sans",children:C.jsxs("div",{className:"w-full max-w-lg p-6 sm:p-8 bg-white rounded-2xl shadow-sm",children:[C.jsxs("div",{className:"mb-10 text-center",children:[C.jsx("h1",{className:"text-4xl font-bold text-black tracking-tight",children:"Welcome Back"}),C.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to continue sharing your stories."})]}),C.jsxs("form",{onSubmit:f,className:"space-y-6",children:[C.jsx("div",{children:C.jsx("input",{type:"email",name:"email",placeholder:"Your email",value:r,onChange:u,required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-lg"})}),C.jsx("div",{children:C.jsx("input",{type:"password",name:"password",placeholder:"Your password",value:s,onChange:u,required:!0,className:"w-full border-b border-gray-300 py-3 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-lg"})}),C.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-lg font-medium hover:bg-gray-900 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300",children:"Sign In"}),C.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Don’t have an account?"," ",C.jsx(ot,{to:"/register",className:"text-black font-medium hover:text-gray-800 transition-colors duration-200",children:"Sign Up"})]})]})]})})}function oL(){const{otherUser_obj:n}=O.useContext(wp),{user:e}=O.useContext(Zt),t=Eo();function r(o){o.preventDefault(),t(`/profile/${n.id}/edit-profile`)}return C.jsx("div",{className:"w-full min-h-[400px] bg-white font-sans",children:n.id===e.id?C.jsxs("div",{className:"space-y-4",children:[C.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:n.bio||"No bio available"}),C.jsxs("button",{onClick:r,className:"px-4 py-2 bg-black text-white rounded-lg font-medium hover:bg-gray-900 hover:scale-105 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300 flex items-center space-x-2",children:[C.jsx(za,{size:16}),C.jsx("span",{children:"Edit Bio"})]})]}):C.jsx("div",{className:"space-y-4",children:C.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:n.bio||"No bio available"})})})}const Ta="http://localhost:3005/api",Cs={getSaveLaterBySpecificUser:async function(n){try{const e=await ve.get(`${Ta}/savedLater/users/${n}`);return e.data.status==="SUCCESS"?(console.log("Successfully Get SavedLater"),e.data.data):(console.log("User Not Found"),!1)}catch(e){return console.error("Register error:",e),!1}},deleteSaveLater:async function(n){try{if((await ve.delete(`${Ta}/savedLater/${n}`)).data.status==="SUCCESS")return console.log("Successfully Delete SavedLater"),!0;console.log("Delete Unsuccessfully")}catch(e){throw console.log(`Errorr : ${e.message}`),new Error(e)}},deleteSaveLaterByPost:async function(n,e){try{const t={userId:n,postId:e};if((await ve.delete(`${Ta}/savedLater/delete`,{data:t})).data.status==="SUCCESS")return!0;console.log("Delete Unsuccessfully")}catch(t){throw console.log(`Errorr : ${t.message}`),new Error(t)}},createSaveLaterPost:async function(n,e){try{const t={user_id:n,post_id:e};if((await ve.post(`${Ta}/savedLater/create`,t)).data.status==="SUCCESS")return!0;console.log("failure in creation")}catch(t){throw console.log(`Errorr : ${t.message}`),new Error(t)}}};function iL(){const{user:n}=O.useContext(Zt),[e,t]=O.useState([]),[r,o]=O.useState(!0),{id:s}=Vs();O.useEffect(()=>{a(s)},[s]);async function a(f){o(!0);try{const d=await Cs.getSaveLaterBySpecificUser(Number(f));t(d||[]),console.log(`Fetched ${d?.length||0} saved items for user ${f}`)}catch(d){t([]),console.log(`Error: ${d.message}`)}finally{o(!1)}}async function u(f,d){f.stopPropagation();try{(await Cs.deleteSaveLater(d))?.status==="SUCCESS"?(console.log("Deleted successfully"),a(s)):console.log("Failed to delete")}catch(p){console.log(`Error: ${p.message}`)}}return r?C.jsx("div",{className:"w-full bg-white font-sans flex items-center justify-center h-[400px]",children:C.jsx(Au,{size:24,className:"animate-spin text-gray-600"})}):C.jsx("div",{className:"w-full bg-white font-sans",children:e.length===0?C.jsx("h1",{className:"text-xl font-semibold text-gray-600",children:"No saved posts available"}):C.jsx("div",{className:"space-y-4",children:e.map(f=>C.jsxs("div",{className:"flex items-center border-b border-gray-300 py-4 px-4 hover:bg-gray-100 hover:scale-[1.02] transition-all duration-300",children:[C.jsxs(ot,{to:`/post/${f.post_id}/content`,className:"flex-1 flex items-center",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("h2",{className:"text-lg font-semibold text-black",children:f.post_title||"Untitled"}),C.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[C.jsx("img",{src:f.author_profile_picture,alt:"author profile",className:"w-8 h-8 rounded-full object-cover border border-gray-300"}),C.jsx("p",{className:"text-sm text-gray-600",children:f.author_username||"Unknown"}),C.jsxs("p",{className:"text-sm text-gray-600",children:["Saved"," ",f.saved_at?new Date(f.saved_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"]})]})]}),C.jsx("img",{src:f.post_thumbnail_url,alt:"post thumbnail",className:"w-24 h-24 object-cover rounded-lg border border-gray-300 ml-4"})]}),n?.id===Number(s)&&C.jsx("button",{className:"ml-4 p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:scale-105 transition-all duration-300",title:"Remove from saved posts",onClick:d=>u(d,f.save_id),children:C.jsx(Dh,{size:16,className:"text-gray-600"})})]},f.save_id))})})}const Bd="http://localhost:3005/api",Ts={getAllLIkePostBySpecificUser:async function(n){try{const e=await ve.get(`${Bd}/like/users/${n}`);return e.data.status==="SUCCESS"?(console.log("Successfully Getting All Like"),e.data.data):(console.log("Failed To Get All Like"),!1)}catch(e){throw console.log(`Error While Post Count ${e.message}`),e}},unlikePost:async function(n,e){try{const t={user_id:n,post_id:e},r=await ve.delete(`${Bd}/like/delete`,{data:t});return r.data.status==="SUCCESS"?(console.log("Successfully Unlike Post"),r.data.data):(console.log("Unsuccessflly Unlike post"),!1)}catch(t){console.log(`error: ${t.message}`)}},createLikePost:async function(n,e){try{const t={user_id:n,post_id:e};return(await ve.post(`${Bd}/like/create`,t)).data.status==="SUCCESS"?(console.log("Successfully like Post"),!0):(console.log("Unsuccessflly like post"),!1)}catch(t){console.log(`error: ${t.message}`)}}};function sL(){const[n,e]=O.useState([]),[t,r]=O.useState(!0),{user:o}=O.useContext(Zt),{id:s}=Vs();O.useEffect(()=>{a(s)},[s]);async function a(f){r(!0);try{const d=await Ts.getAllLIkePostBySpecificUser(f);e(d||[]),console.log(`Fetched ${d?.length||0} liked posts for user ${f}`)}catch(d){e([]),console.error(`Error fetching liked posts: ${d.message}`)}finally{r(!1)}}async function u(f,d){try{console.log("Attempting to delete post with ID:",s),await Ts.unlikePost(f,d)?(console.log("Unlike Successfully"),a(s)):console.log("Failed to unlike post")}catch(p){console.error(`Error: ${p.message}`)}}return t?C.jsx("div",{className:"w-full bg-white font-sans flex items-center justify-center h-[400px]",children:C.jsx(Au,{size:24,className:"animate-spin text-gray-600"})}):C.jsx("div",{className:"w-full bg-white font-sans",children:n.length===0?C.jsx("h1",{className:"text-xl font-semibold text-gray-600",children:"No liked posts available"}):C.jsx("div",{className:"space-y-4",children:n.map(f=>C.jsxs("div",{className:"flex items-center border-b border-gray-300 py-4 px-4 hover:bg-gray-100 hover:scale-[1.02] transition-all duration-300",children:[C.jsxs(ot,{to:`/post/${f.id}/content`,className:"flex-1 flex items-center",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("h2",{className:"text-lg font-semibold text-black",children:f.title||"Untitled"}),C.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[C.jsx("img",{src:f.profile_picture||"https://via.placeholder.com/40",alt:"author profile",className:"w-8 h-8 rounded-full object-cover border border-gray-300"}),C.jsx("p",{className:"text-sm text-gray-600",children:f.username||"Unknown"}),C.jsxs("p",{className:"text-sm text-gray-600",children:["Liked"," ",f.liked_at?new Date(f.liked_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"]})]})]}),C.jsx("img",{src:f.thumbnail_url,alt:"post thumbnail",className:"w-24 h-24 object-cover rounded-lg border border-gray-300 ml-4"})]}),o?.id===Number(s)&&C.jsx("button",{className:"ml-4 p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:scale-105 transition-all duration-300",title:"Remove Like",onClick:()=>u(o.id,f.id),children:C.jsx(Dh,{size:16,className:"text-gray-600"})})]},f.id))})})}function lL(){const n=Eo(),{user:e,setCurrentUser:t}=O.useContext(Zt),[r,o]=O.useState(!1),[s,a]=O.useState({username:"",profilePicture:"",bio:"",email:"",password:"",name:""});O.useEffect(()=>{console.log("Console.log: ",e),a(e)},[e]);function u(p){const{name:g,value:v}=p.target;a(x=>({...x,[g]:v}))}function f(p){a(g=>({...g,profilePicture:p.target.files[0]||s.profilePicture}))}async function d(p){p.preventDefault(),o(!0);try{const g=new FormData;g.append("username",s.username),g.append("name",s.name),g.append("bio",s.bio),g.append("email",s.email),g.append("password",s.password),g.append("profilePicture",s.profilePicture),console.log(g);const v=await rc.EditProfile(e.id,g);v?(t(v),n(`/profile/${e.id}`),ie.success("Profile updated successfully")):(t(e),ie.warn("Profile not updated"))}catch(g){t(e),ie.error(`Something went wrong: ${g.message}`),console.log(`Error: ${g.message}`)}finally{o(!1)}}return C.jsxs("div",{className:"w-full bg-white font-sans",children:[C.jsx("h2",{className:"text-2xl font-bold text-black mb-4",children:"Edit Your Profile"}),C.jsxs("form",{onSubmit:d,encType:"multipart/form-data",className:"space-y-4",children:[C.jsxs("div",{children:[C.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-600 mb-2",children:[C.jsx(Ba,{size:16}),C.jsx("span",{children:"Full Name"})]}),C.jsx("input",{type:"text",name:"name",value:s.name,onChange:u,required:!0,disabled:r,className:"w-full border-b border-gray-300 py-2 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-base hover:bg-gray-100 hover:shadow-sm disabled:opacity-50",placeholder:"Your full name"})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-600 mb-2",children:[C.jsx(Ba,{size:16}),C.jsx("span",{children:"Username"})]}),C.jsx("input",{type:"text",name:"username",value:s.username,onChange:u,required:!0,disabled:r,className:"w-full border-b border-gray-300 py-2 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-base hover:bg-gray-100 hover:shadow-sm disabled:opacity-50",placeholder:"Your username"})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-600 mb-2",children:[C.jsx(za,{size:16}),C.jsx("span",{children:"Bio"})]}),C.jsx("textarea",{name:"bio",value:s.bio,onChange:u,rows:3,disabled:r,className:"w-full border-b border-gray-300 py-2 px-1 text-black placeholder-gray-400 focus:border-black outline-none transition-all duration-300 text-base hover:bg-gray-100 hover:shadow-sm resize-none disabled:opacity-50",placeholder:"Tell us about yourself"})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-600 mb-2",children:[C.jsx(AE,{size:16}),C.jsx("span",{children:"Profile Picture"})]}),C.jsx("input",{type:"file",name:"profilePicture",accept:"image/*",onChange:f,disabled:r,className:"block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-gray-100 file:text-black file:font-medium hover:file:bg-gray-200 transition-all duration-200 cursor-pointer disabled:opacity-50"})]}),C.jsxs("div",{className:"flex space-x-4",children:[C.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-black text-white rounded-lg font-medium hover:bg-gray-900 hover:scale-105 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300 flex items-center space-x-2 disabled:opacity-50",children:r?C.jsxs(C.Fragment,{children:[C.jsx(Au,{size:16,className:"animate-spin"}),C.jsx("span",{children:"Saving..."})]}):C.jsxs(C.Fragment,{children:[C.jsx(za,{size:16}),C.jsx("span",{children:"Save Changes"})]})}),C.jsx(ot,{to:`/profile/${e.id}`,className:"px-4 py-2 bg-gray-200 text-black rounded-lg font-medium hover:bg-gray-300 hover:scale-105 transition-all duration-300 flex items-center space-x-2",children:C.jsx("span",{children:"Cancel"})})]})]})]})}function aL(){const[n,e]=O.useState([]),[t,r]=O.useState(!0),{id:o}=Vs(),{user:s}=O.useContext(Zt);async function a(f){try{const d=await ai.getPostBySpecificUserId(Number(f));e(d||[]),console.log(`Successfully Get Post By Specific Id: ${d?.length} posts`)}catch(d){e([]),console.log(`Error: ${d.message}`)}finally{r(!1)}}async function u(f){if(window.confirm("Are you sure you want to delete this post?"))try{await ai.deletePost(f),e(d=>d.filter(p=>p.id!==f)),ie.success("Post deleted successfully")}catch(d){console.error("Failed to delete post:",d),ie.error("Failed to delete post")}}return O.useEffect(()=>{a(o)},[o]),t?C.jsx("div",{className:"w-full bg-white font-sans flex items-center justify-center h-[400px]",children:C.jsx(Au,{size:24,className:"animate-spin text-gray-600"})}):C.jsx("div",{className:"w-full bg-white font-sans",children:n.length===0?C.jsx("h1",{className:"text-xl font-semibold text-gray-600",children:"No posts available"}):C.jsx("div",{className:"space-y-4",children:n.map(f=>C.jsxs("div",{className:"flex items-center border-b border-gray-300 py-4 px-4 hover:bg-gray-100 hover:scale-[1.02] transition-all duration-300",children:[C.jsxs(ot,{to:`/post/${f.id}/content`,className:"flex-1",children:[C.jsx("h2",{className:"text-lg font-semibold text-black",children:f.title||"Untitled"}),C.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[C.jsx("img",{src:f.profile_picture||"https://via.placeholder.com/40",alt:"user profile",className:"w-8 h-8 rounded-full object-cover border border-gray-300"}),C.jsx("p",{className:"text-sm text-gray-600",children:f.username||"Unknown"}),C.jsx("p",{className:"text-sm text-gray-600",children:f.created_at?new Date(f.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}),C.jsx("p",{className:"text-sm text-gray-600",children:f.category_name||"Uncategorized"})]})]}),C.jsx("img",{src:f.thumbnail_url,alt:"post thumbnail",className:"w-24 h-24 object-cover rounded-lg border border-gray-300 ml-4"}),s&&s.id===f.user_id&&C.jsx("button",{className:"ml-4 p-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:scale-105 transition-all duration-300",title:"Delete Post",onClick:()=>u(f.id),children:C.jsx(Dh,{size:16,className:"text-gray-600"})})]},f.id))})})}function uL(){const{user:n}=O.useContext(Zt),[e,t]=O.useState([]),[r,o]=O.useState([]),[s,a]=O.useState([]),[u,f]=O.useState([]),[d,p]=O.useState(1),g=6;O.useEffect(()=>{v()},[]);async function v(){try{const E=await ai.getAllPost(),N=await Ts.getAllLIkePostBySpecificUser(n.id),P=await Cs.getSaveLaterBySpecificUser(n.id);t(E),o(E.slice(0,g)),a(N.map(j=>j.id)),f(P.map(j=>j.post_id))}catch(E){console.error("Error loading data:",E)}}async function x(E){try{s.includes(E)?(await Ts.unlikePost(n.id,E),a(N=>N.filter(P=>P!==E)),ie.info("Unliked the post")):(await Ts.createLikePost(n.id,E),a(N=>[...N,E]),ie.success("Liked the post"))}catch{ie.error("Failed to update like")}}async function k(E){try{u.includes(E)?(await Cs.deleteSaveLaterByPost(n.id,E),f(N=>N.filter(P=>P!==E)),ie.info("Removed from Saved")):(await Cs.createSaveLaterPost(n.id,E),f(N=>[...N,E]),ie.success("Saved for later"))}catch{ie.error("Failed to update save")}}function S(){const E=d+1,N=d*g,P=e.slice(N,N+g);o(j=>[...j,...P]),p(E)}function b(E){const N=document.createElement("DIV");return N.innerHTML=E,N.textContent||N.innerText||""}return C.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[C.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Latest Stories"}),C.jsx("div",{className:"flex flex-col gap-6",children:r.map(E=>C.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition duration-300 border border-gray-200 hover:scale-[1.01]",children:[C.jsx(ot,{to:`/profile/${E.id}/content`,children:C.jsx("img",{src:E.thumbnail_url,alt:E.title,className:"w-full h-64 object-cover rounded-t-2xl"})}),C.jsxs("div",{className:"p-5",children:[C.jsxs(ot,{to:`/profile/${E.id}/content`,children:[C.jsx("h2",{className:"text-xl font-semibold text-gray-800 hover:underline",children:E.title}),C.jsxs("p",{className:"text-sm text-gray-600 mt-2 line-clamp-3",children:[b(E.content).slice(0,150),"..."]})]}),C.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[C.jsx("img",{src:E.profile_picture,alt:"User",className:"w-10 h-10 rounded-full object-cover"}),C.jsxs("div",{children:[C.jsx("p",{className:"text-sm font-medium text-gray-800",children:E.username}),C.jsx("p",{className:"text-xs text-gray-500",children:new Date(E.created_at).toLocaleDateString()})]})]}),C.jsxs("div",{className:"flex items-center gap-4 mt-5",children:[C.jsx(_v,{className:`cursor-pointer transition w-6 h-6 ${s.includes(E.id)?"text-red-500 fill-red-500":"text-gray-400"}`,onClick:()=>x(E.id)}),C.jsx(Dv,{className:`cursor-pointer transition w-6 h-6 ${u.includes(E.id)?"text-blue-500 fill-blue-500":"text-gray-400"}`,onClick:()=>k(E.id)})]})]})]},E.id))}),r.length<e.length&&C.jsx("div",{className:"flex justify-center mt-10",children:C.jsx("button",{onClick:S,className:"bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition text-lg font-medium",children:"Load more stories"})})]})}function cL(){const{id:n}=Vs(),[e,t]=O.useState(null);async function r(o){try{const s=await ai.getPostById(o);t(s||null)}catch(s){console.log(`Error: ${s}`)}}return O.useEffect(()=>{n&&r(n)},[n]),e?C.jsxs("div",{className:"max-w-3xl mx-auto mt-10 px-4",children:[C.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:e.title}),e.thumbnail_url&&C.jsx("div",{className:"flex justify-center mb-6",children:C.jsx("img",{src:e.thumbnail_url,alt:"Post Thumbnail",className:"max-w-full rounded-lg shadow-lg"})}),C.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:e.content}})]}):C.jsx("div",{className:"text-center mt-10",children:"Loading..."})}function fL(){return C.jsx(C.Fragment,{children:C.jsxs($b,{children:[C.jsxs(Ot,{element:C.jsx(FE,{}),children:[C.jsx(Ot,{path:"/",element:C.jsx(UE,{})}),C.jsx(Ot,{path:"/write",element:C.jsx(XA,{})}),C.jsxs(Ot,{path:"/profile/:id",element:C.jsx(eL,{}),children:[C.jsx(Ot,{path:"about",element:C.jsx(oL,{})}),C.jsx(Ot,{path:"post",element:C.jsx(aL,{})}),C.jsx(Ot,{path:"save-later",element:C.jsx(iL,{})}),C.jsx(Ot,{path:"likes",element:C.jsx(sL,{})}),C.jsx(Ot,{path:"edit-profile",element:C.jsx(lL,{})}),C.jsx(Ot,{path:"content",element:C.jsx(cL,{})})]}),C.jsx(Ot,{path:"/dashboard",element:C.jsx(uL,{})})]}),C.jsxs(Ot,{element:C.jsx(tL,{}),children:[C.jsx(Ot,{path:"/login",element:C.jsx(rL,{})}),C.jsx(Ot,{path:"/register",element:C.jsx(nL,{})})]})]})})}function dL(){return C.jsx(C.Fragment,{children:C.jsx(ZA,{children:C.jsxs(zE,{children:[C.jsx(bC,{}),C.jsx(fL,{})]})})})}QS.createRoot(document.getElementById("root")).render(C.jsx(O.StrictMode,{children:C.jsx(cE,{children:C.jsx(dL,{})})}));
